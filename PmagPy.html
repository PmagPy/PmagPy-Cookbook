<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>PmagPy Cookbook</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,1,sections+ --> 
<meta name="src" content="PmagPy.tex"> 
<meta name="date" content="2014-01-14 21:37:00"> 
<link rel="stylesheet" type="text/css" href="PmagPy.css"> 
</head><body 
>
                                                                     

                                                                     
<!--l. 34--><p class="indent" >
                                                                     

                                                                     
   <div class="tableofcontents">
   <span class="likechapterToc" ><a 
href="#x1-1000" id="QQ2-1-1">Contents</a></span>
<br />   <span class="chapterToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">MagIC Quick Start</a></span>
<br />   <span class="chapterToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">Survival computer skills</a></span>
<br />   <span class="chapterToc" >3 <a 
href="#x1-110003" id="QQ2-1-11">The MagIC database and file formats</a></span>
<br />   <span class="chapterToc" >4 <a 
href="#x1-160004" id="QQ2-1-16">MagIC.py</a></span>
<br />   <span class="chapterToc" >5 <a 
href="#x1-430005" id="QQ2-1-43">The <span 
class="cmbx-10x-x-109">PmagPy </span>software package</a></span>
<br />   <span class="chapterToc" >6 <a 
href="#x1-1740006" id="QQ2-1-174">Introduction to Python Programming</a></span>
   </div>
   <h2 class="likechapterHead"><a 
href="#QQ2-1-1" id="x1-1000">Contents</a></h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-20001">MagIC Quick Start</a></span>
<br />   <span class="chapterToc" >2 <a 
href="#x1-30002">Survival computer skills</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.1 <a 
href="#x1-40002.1" id="QQ2-1-4">Finding your command line</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.2 <a 
href="#x1-50002.2" id="QQ2-1-5">File systems</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.3 <a 
href="#x1-60002.3" id="QQ2-1-6">Moving around in the file system</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.4 <a 
href="#x1-70002.4" id="QQ2-1-7">Wildcards</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.5 <a 
href="#x1-80002.5" id="QQ2-1-8">Redirecting input and output</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.6 <a 
href="#x1-90002.6" id="QQ2-1-9">Text editors</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.7 <a 
href="#x1-100002.7" id="QQ2-1-10">Installing Python and PmagPy</a></span>
<br />   <span class="chapterToc" >3 <a 
href="#x1-110003">The MagIC database and file formats</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.1 <a 
href="#x1-120003.1" id="QQ2-1-12">Perusing the existing data</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.2 <a 
href="#x1-130003.2" id="QQ2-1-13">Uploading data to the database</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.3 <a 
href="#x1-140003.3" id="QQ2-1-14">Structure of the database tables</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.4 <a 
href="#x1-150003.4" id="QQ2-1-15">A word about method codes</a></span>
<br />   <span class="chapterToc" >4 <a 
href="#x1-160004">MagIC.py</a></span>
<br />   &#x00A0;<span class="sectionToc" >4.1 <a 
href="#x1-170004.1" id="QQ2-1-17">Preparing for MagIC</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.1.1 <a 
href="#x1-180004.1.1" id="QQ2-1-18">Project Directory</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.1.2 <a 
href="#x1-190004.1.2" id="QQ2-1-19">What goes in <span 
class="cmti-10x-x-109">MyFiles</span></a></span>
<br />   &#x00A0;<span class="sectionToc" >4.2 <a 
href="#x1-270004.2" id="QQ2-1-27">Using the MagIC.py GUI</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.1 <a 
href="#x1-280004.2.1" id="QQ2-1-28">The File menu</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.2 <a 
href="#x1-290004.2.2" id="QQ2-1-29">The Import Menu</a></span>
                                                                     

                                                                     
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.3 <a 
href="#x1-390004.2.3" id="QQ2-1-39">Analysis and Plots Menu</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.4 <a 
href="#x1-400004.2.4" id="QQ2-1-40">Prepare for MagIC Console</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.5 <a 
href="#x1-410004.2.5" id="QQ2-1-41">Utilities Menu</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >4.2.6 <a 
href="#x1-420004.2.6" id="QQ2-1-42">Help Menu</a></span>
<br />   <span class="chapterToc" >5 <a 
href="#x1-430005">The <span 
class="cmbx-10x-x-109">PmagPy </span>software package</a></span>
<br />   &#x00A0;<span class="sectionToc" >5.1 <a 
href="#x1-440005.1" id="QQ2-1-44">General characteristics of PmagPy programs</a></span>
<br />   &#x00A0;<span class="sectionToc" >5.2 <a 
href="#x1-450005.2" id="QQ2-1-45">Examples of how to use <span 
class="cmbx-10x-x-109">PmagPy </span>programs</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.1 <a 
href="#x1-460005.2.1" id="QQ2-1-46">aarm_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.2 <a 
href="#x1-470005.2.2" id="QQ2-1-47">angle.py </a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.3 <a 
href="#x1-480005.2.3" id="QQ2-1-48">ani_depthplot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.4 <a 
href="#x1-490005.2.4" id="QQ2-1-49">aniso_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.5 <a 
href="#x1-500005.2.5" id="QQ2-1-50">apwp.py </a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.6 <a 
href="#x1-510005.2.6" id="QQ2-1-51">atrm_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.7 <a 
href="#x1-520005.2.7" id="QQ2-1-52">azdip_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.8 <a 
href="#x1-530005.2.8" id="QQ2-1-53">b_vdm.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.9 <a 
href="#x1-540005.2.9" id="QQ2-1-54">basemap_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.10 <a 
href="#x1-550005.2.10" id="QQ2-1-55">biplot_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.11 <a 
href="#x1-560005.2.11" id="QQ2-1-56">bootams.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.12 <a 
href="#x1-570005.2.12" id="QQ2-1-57">cart_dir.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.13 <a 
href="#x1-580005.2.13" id="QQ2-1-58">chartmaker.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.14 <a 
href="#x1-590005.2.14" id="QQ2-1-59">chi_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.15 <a 
href="#x1-600005.2.15" id="QQ2-1-60">combine_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.16 <a 
href="#x1-610005.2.16" id="QQ2-1-61">common_mean.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.17 <a 
href="#x1-620005.2.17" id="QQ2-1-62">cont_rot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.18 <a 
href="#x1-630005.2.18" id="QQ2-1-63">convert2unix.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.19 <a 
href="#x1-640005.2.19" id="QQ2-1-64">convert_samples.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.20 <a 
href="#x1-650005.2.20" id="QQ2-1-65">core_depthplot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.21 <a 
href="#x1-660005.2.21" id="QQ2-1-66">curie.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.22 <a 
href="#x1-670005.2.22" id="QQ2-1-67">customize_criteria.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.23 <a 
href="#x1-680005.2.23" id="QQ2-1-68">dayplot_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.24 <a 
href="#x1-690005.2.24" id="QQ2-1-69">di_eq.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.25 <a 
href="#x1-700005.2.25" id="QQ2-1-70">di_geo.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.26 <a 
href="#x1-710005.2.26" id="QQ2-1-71">di_rot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.27 <a 
href="#x1-720005.2.27" id="QQ2-1-72">di_tilt.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.28 <a 
href="#x1-730005.2.28" id="QQ2-1-73">di_vgp.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.29 <a 
href="#x1-740005.2.29" id="QQ2-1-74">dipole_pinc.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.30 <a 
href="#x1-750005.2.30" id="QQ2-1-75">dipole_plat.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.31 <a 
href="#x1-760005.2.31" id="QQ2-1-76">dir_cart.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.32 <a 
href="#x1-770005.2.32" id="QQ2-1-77">dmag_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.33 <a 
href="#x1-780005.2.33" id="QQ2-1-78">download_magic.py</a></span>
                                                                     

                                                                     
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.34 <a 
href="#x1-790005.2.34" id="QQ2-1-79">eigs_s.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.35 <a 
href="#x1-800005.2.35" id="QQ2-1-80">eq_di.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.36 <a 
href="#x1-810005.2.36" id="QQ2-1-81">eqarea.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.37 <a 
href="#x1-820005.2.37" id="QQ2-1-82">eqarea_ell.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.38 <a 
href="#x1-830005.2.38" id="QQ2-1-83">eqarea_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.39 <a 
href="#x1-840005.2.39" id="QQ2-1-84">find_EI.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.40 <a 
href="#x1-850005.2.40" id="QQ2-1-85">fisher.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.41 <a 
href="#x1-860005.2.41" id="QQ2-1-86">fishqq.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.42 <a 
href="#x1-870005.2.42" id="QQ2-1-87">fishrot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.43 <a 
href="#x1-880005.2.43" id="QQ2-1-88">foldtest.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.44 <a 
href="#x1-890005.2.44" id="QQ2-1-89">foldtest_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.45 <a 
href="#x1-900005.2.45" id="QQ2-1-90">gaussian.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.46 <a 
href="#x1-910005.2.46" id="QQ2-1-91">gobing.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.47 <a 
href="#x1-920005.2.47" id="QQ2-1-92">gofish.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.48 <a 
href="#x1-930005.2.48" id="QQ2-1-93">gokent.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.49 <a 
href="#x1-940005.2.49" id="QQ2-1-94">goprinc.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.50 <a 
href="#x1-950005.2.50" id="QQ2-1-95">grab_magic_key.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.51 <a 
href="#x1-960005.2.51" id="QQ2-1-96">histplot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.52 <a 
href="#x1-970005.2.52" id="QQ2-1-97">hysteresis_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.53 <a 
href="#x1-980005.2.53" id="QQ2-1-98">igrf.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.54 <a 
href="#x1-990005.2.54" id="QQ2-1-99">incfish.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.55 <a 
href="#x1-1000005.2.55" id="QQ2-1-100">irmaq_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.56 <a 
href="#x1-1010005.2.56" id="QQ2-1-101">k15_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.57 <a 
href="#x1-1020005.2.57" id="QQ2-1-102">k15_s.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.58 <a 
href="#x1-1030005.2.58" id="QQ2-1-103">KLY4S_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.59 <a 
href="#x1-1040005.2.59" id="QQ2-1-104">lnp_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.60 <a 
href="#x1-1050005.2.60" id="QQ2-1-105">lowrie.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.61 <a 
href="#x1-1060005.2.61" id="QQ2-1-106">lowrie_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.62 <a 
href="#x1-1070005.2.62" id="QQ2-1-107">MagIC.py Tutorial</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.63 <a 
href="#x1-1100005.2.63" id="QQ2-1-110">magic_select.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.64 <a 
href="#x1-1110005.2.64" id="QQ2-1-111">make_magic_plots.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.65 <a 
href="#x1-1120005.2.65" id="QQ2-1-112">Measurement Import Scripts</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.66 <a 
href="#x1-1230005.2.66" id="QQ2-1-123">measurements_normalize.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.67 <a 
href="#x1-1240005.2.67" id="QQ2-1-124">mk_redo.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.68 <a 
href="#x1-1250005.2.68" id="QQ2-1-125">nrm_specimens_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.69 <a 
href="#x1-1260005.2.69" id="QQ2-1-126">orientation_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.70 <a 
href="#x1-1270005.2.70" id="QQ2-1-127">parse_measurements.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.71 <a 
href="#x1-1280005.2.71" id="QQ2-1-128">pca.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.72 <a 
href="#x1-1290005.2.72" id="QQ2-1-129">plotXY.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.73 <a 
href="#x1-1300005.2.73" id="QQ2-1-130">plot_cdf.py</a></span>
                                                                     

                                                                     
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.74 <a 
href="#x1-1310005.2.74" id="QQ2-1-131">plot_magic_keys.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.75 <a 
href="#x1-1320005.2.75" id="QQ2-1-132">plot_mapPTS.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.76 <a 
href="#x1-1330005.2.76" id="QQ2-1-133">plotdi_a.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.77 <a 
href="#x1-1340005.2.77" id="QQ2-1-134">pmag_results_extract.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.78 <a 
href="#x1-1350005.2.78" id="QQ2-1-135">pt_rot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.79 <a 
href="#x1-1360005.2.79" id="QQ2-1-136">qqlot.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.80 <a 
href="#x1-1370005.2.80" id="QQ2-1-137">quick_hyst.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.81 <a 
href="#x1-1380005.2.81" id="QQ2-1-138">revtest.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.82 <a 
href="#x1-1390005.2.82" id="QQ2-1-139">revtest_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.83 <a 
href="#x1-1400005.2.83" id="QQ2-1-140">revtext_MM1990.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.84 <a 
href="#x1-1410005.2.84" id="QQ2-1-141">s_eigs.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.85 <a 
href="#x1-1420005.2.85" id="QQ2-1-142">s_geo.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.86 <a 
href="#x1-1430005.2.86" id="QQ2-1-143">s_hext.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.87 <a 
href="#x1-1440005.2.87" id="QQ2-1-144">s_tilt.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.88 <a 
href="#x1-1450005.2.88" id="QQ2-1-145">s_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.89 <a 
href="#x1-1460005.2.89" id="QQ2-1-146">scalc.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.90 <a 
href="#x1-1470005.2.90" id="QQ2-1-147">scalc_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.91 <a 
href="#x1-1480005.2.91" id="QQ2-1-148">site_edit_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.92 <a 
href="#x1-1490005.2.92" id="QQ2-1-149">specimens_results_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.93 <a 
href="#x1-1500005.2.93" id="QQ2-1-150">stats.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.94 <a 
href="#x1-1510005.2.94" id="QQ2-1-151">strip_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.95 <a 
href="#x1-1520005.2.95" id="QQ2-1-152">sundec.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.96 <a 
href="#x1-1530005.2.96" id="QQ2-1-153">thellier_GUI.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.97 <a 
href="#x1-1580005.2.97" id="QQ2-1-158">thellier_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.98 <a 
href="#x1-1590005.2.98" id="QQ2-1-159">thellier_magic_redo.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.99 <a 
href="#x1-1600005.2.99" id="QQ2-1-160">tk03.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.100 <a 
href="#x1-1610005.2.100" id="QQ2-1-161">uniform.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.101 <a 
href="#x1-1620005.2.101" id="QQ2-1-162">update_measurements.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.102 <a 
href="#x1-1630005.2.102" id="QQ2-1-163">upload_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.103 <a 
href="#x1-1640005.2.103" id="QQ2-1-164">vdm_b.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.104 <a 
href="#x1-1650005.2.104" id="QQ2-1-165">vector_mean.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.105 <a 
href="#x1-1660005.2.105" id="QQ2-1-166">vgp_di.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.106 <a 
href="#x1-1670005.2.106" id="QQ2-1-167">vgpmap_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.107 <a 
href="#x1-1680005.2.107" id="QQ2-1-168">watsonsF.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.108 <a 
href="#x1-1690005.2.108" id="QQ2-1-169">watsonsV.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.109 <a 
href="#x1-1700005.2.109" id="QQ2-1-170">zeq.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.110 <a 
href="#x1-1710005.2.110" id="QQ2-1-171">zeq_magic.py</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >5.2.111 <a 
href="#x1-1720005.2.111" id="QQ2-1-172">zeq_magic_redo.py</a></span>
<br />   &#x00A0;<span class="sectionToc" >5.3 <a 
href="#x1-1730005.3" id="QQ2-1-173">Complaints department</a></span>
<br />   <span class="chapterToc" >6 <a 
href="#x1-1740006">Introduction to Python Programming</a></span>
                                                                     

                                                                     
<br />   &#x00A0;<span class="sectionToc" >6.1 <a 
href="#x1-1750006.1" id="QQ2-1-175">A first look at NumPy</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.2 <a 
href="#x1-1760006.2" id="QQ2-1-176">Variable types</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.3 <a 
href="#x1-1770006.3" id="QQ2-1-177">Data Structures</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.4 <a 
href="#x1-1840006.4" id="QQ2-1-184">Python Scripts</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.5 <a 
href="#x1-1850006.5" id="QQ2-1-185">Code blocks</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.6 <a 
href="#x1-1930006.6" id="QQ2-1-193">File I/O in Python</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.7 <a 
href="#x1-2000006.7" id="QQ2-1-200">Functions</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.8 <a 
href="#x1-2080006.8" id="QQ2-1-208">Classes</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.9 <a 
href="#x1-2090006.9" id="QQ2-1-209">Matplotlib</a></span>
   </div>
<!--l. 39--><p class="indent" >                 <img 
src="PmagPy0x.png" alt="PIC" class="graphics" width="284.52756pt" height="162.68011pt" ><!--tex4ht:graphics  
name="PmagPy0x.png" src="EPSfiles/logo.eps"  
-->
   <div class="maketitle">
                                                                     

                                                                     
                                                                     

                                                                     
                                                                     

                                                                     

<h2 class="titleHead">PmagPy Cookbook</h2>
<div class="author" ></div><br />
<div class="date" ><span 
class="cmr-12">January 14, 2014</span></div>
                                                                     

                                                                     
   </div>Dear Reader,
<!--l. 46--><p class="indent" >   This documentation is updated from that in the book entitled <span 
class="cmti-10x-x-109">Essentials of</span>
<span 
class="cmti-10x-x-109">Paleomagnetism </span>by Tauxe et al., (2010). This cookbook was designed as a
companion website to the the book <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2.html" >Essentials of Paleomagnetism, 2nd Web
Edition</a>. Chapter references to this companion book are, for example, &#8220;Essentials
Chapter X&#8221;.
<!--l. 48--><p class="indent" >   There are many chefs who contributed to this work, in particular, the MagIC
Database Team (Cathy Constable, Anthony Koppers, Rupert Minnett, Nick
Jarboe, and Ron Shaar).
<!--l. 50--><p class="noindent" ><div class="obeylines-v">
   Lisa Tauxe
   <br />Scripps Institution of Oceanography
   <br />La Jolla, CA 92093
   <br />January 14, 2014
   <br /><a 
href="http://magician.ucsd.edu/~ltauxe/" class="url" ><span 
class="cmtt-10x-x-109">http://magician.ucsd.edu/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">ltauxe/</span></a></div>
                                                                     

                                                                     
<!--l. 58--><p class="indent" >   <a name='ch1'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;1</span><br /><a 
href="#QQ2-1-2" id="x1-20001">MagIC Quick Start</a></h2> <a name='quick_start'></a>
   To skip all the details and just start using MagIC.py to upload data into the
<a 
href="#MagIC" >MagIC database</a>, you follow these steps:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-2002x1">Download and install the Enthought Canopy distribution of Python
     <a 
href="https://www.enthought.com/products/canopy/" class="url" ><span 
class="cmtt-10x-x-109">https://www.enthought.com/products/canopy/</span></a>.  Canopy  Express
     (the free version) contains everything you need, but if you are at a
     degree-granting educational institution you can request an <a 
href="https://www.enthought.com/products/canopy/academic/" >academic
     license</a>  that  gives  you  access  to  additional  features  and  bundled
     packages.
     </li>
     <li 
  class="enumerate" id="x1-2004x2">Download the <a 
href="https://github.com/ltauxe/PmagPy" >PmagPy</a> software package: unzip the zip file, extract all
     the files to a file on your desktop (or wherever) and double click on the
     <span 
class="cmti-10x-x-109">install</span><span 
class="cmti-10x-x-109">_MacOS </span>or <span 
class="cmti-10x-x-109">install</span><span 
class="cmti-10x-x-109">_Windows </span>file depending on your operating
     system. (If you are a Linux user, just copy the files to some directory
     and put it in your path - you know what to do.)
     </li>
     <li 
  class="enumerate" id="x1-2006x3">For example data files, download the <a 
href="#Datafiles" >Datafiles_2.0</a> directory and unzip
     it.
     </li>
     <li 
  class="enumerate" id="x1-2008x4">Create a <a 
href="#Project_Directory" >MagIC Project Directory</a>.
     </li>
     <li 
  class="enumerate" id="x1-2010x5">Find your <a 
href="#command_line" >command line</a> and type <span 
class="cmbx-10x-x-109">MagIC.py</span>. [Windows users must
     have already created the MagIC directory before starting <span 
class="cmbx-10x-x-109">MagIC.py</span>.]
     </li>
     <li 
  class="enumerate" id="x1-2012x6"><a 
href="#ImportMenu" >Import</a> your data files and <a 
href="#Combining_measurement_files" >combine your measurements</a>.
     </li>
     <li 
  class="enumerate" id="x1-2014x7">Use  one  of  the  <a 
href="#AnalysisPlotsMenu" >plotting  and  analysis</a>  tools  (demagnetization  data,
     Thellier-type experiments, etc.).
     </li>
     <li 
  class="enumerate" id="x1-2016x8">Assemble your results into file for importing into a <a 
href="#Uploading" >MagIC smartbook</a>
     and thence to the <a 
href="http://earthref.org/MAGIC" >MagIC database</a>.</li></ol>
<!--l. 88--><p class="indent" >   <a name='survival_skills'></a>
                                                                     

                                                                     
                                                                     

                                                                     
<!--l. 89--><p class="indent" >   <a name='ch2'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;2</span><br /><a 
href="#QQ2-1-3" id="x1-30002">Survival computer skills</a></h2>
   The &#8216;Py&#8217; part of &#8216;PmagPy&#8217; stands for Python, the language in which all the
code is written. It is not essential, but it is helpful to understand a bit about
computer operating systems and the Python language when using PmagPy
because no one should be using programs as black boxes without understanding
what they are doing. As all the programs are open source, you have the
opportunity to look into them. If you understand a bit about how computers
work yourself, you will be able to follow along what they are doing and even
modify them to work better for you. So in this chapter you will find a brief
introduction to the computer skills necessary for using the programs properly. I
have tried very hard to make this tutorial operating system independent.
All the examples should work equally well on Mac OS, Windows and
Unix-type operating systems. For an introduction to programming in Python,
see Chapter&#x00A0;<a 
href="#x1-1740006">6<!--tex4ht:ref: chap:python --></a>. For now, we&#8217;re just interested in getting started with
<a 
href="#PmagPy" >PmagPy</a>.
<!--l. 95--><p class="indent" >   <a name='command_line'></a>
<!--l. 96--><p class="noindent" ><a name='sec2-1'></a><h3 class="sectionHead"><span class="titlemark">2.1   </span> <a 
href="#QQ2-1-4" id="x1-40002.1">Finding your command line</a></h3>
<!--l. 97--><p class="noindent" >If you are not using a Unix-like computer (*NIX), you may never have
encountered a command line. While the <a 
href="#MagIC.py" >MagIC.py</a> Graphical User Interface
(GUI) is an attempt to make life as easy for you by constructing commands for
you, you still need to find the command line to start it up. Under the MacOS X
operating system look for the Terminal application in the Utilities folder within
the Applications folder:
<!--l. 99--><p class="indent" >   <img 
src="PmagPy1x.png" alt="PIC" class="graphics" width="426.79134pt" height="139.84833pt" ><!--tex4ht:graphics  
name="PmagPy1x.png" src="EPSfiles/terminal.eps"  
-->
<!--l. 101--><p class="indent" >   Under the Windows operating system, find the program called: Command
Prompt in the Start menu:
                                                                     

                                                                     
<!--l. 103--><p class="indent" >   <img 
src="PmagPy2x.png" alt="PIC" class="graphics" width="426.79134pt" height="274.17616pt" ><!--tex4ht:graphics  
name="PmagPy2x.png" src="EPSfiles/cmd.eps"  
-->
<!--l. 105--><p class="indent" >   Note that the location of this program varies on different computers, so you
may have to hunt around a little to find yours. Also, the actual &#8221;prompt&#8221; will
vary for different machines. The MacOS (C-shell) and Windows command line
windows look like these:
<!--l. 107--><p class="indent" >   <img 
src="PmagPy3x.png" alt="PIC" class="graphics" width="426.79134pt" height="175.99272pt" ><!--tex4ht:graphics  
name="PmagPy3x.png" src="EPSfiles/terminals.eps"  
-->
                                                                     

                                                                     
<!--l. 109--><p class="indent" >   The Unix (and Mac OS) Bash shell has a $ sign as a prompt. I will use the %
prompt in the examples here, but any of these command line prompts will
work.
<!--l. 112--><p class="noindent" >
<!--l. 112--><p class="indent" >   <a name='sec2-2'></a><h3 class="sectionHead"><span class="titlemark">2.2   </span> <a 
href="#QQ2-1-5" id="x1-50002.2">File systems</a></h3>
<!--l. 114--><p class="noindent" >When you open one of these terminal windows, you are in your &#8220;home&#8221; directory.
Fundamental to all operating systems is the concept of directories and files. On
windows-based operating systems (MacOS or Windows), directories are depicted
as &#8220;folders&#8221; and moving about is accomplished by clicking on the different icons.
In the world of terminal windows, the directories have names and are arranged in
a hierarchical sequence with the top directory being the &#8220;root&#8221; directory, known
as &#8220;/&#8221; (or C:&#8217;backslash&#8217; in Windows) and the file system looks something like
this:
<!--l. 122--><p class="indent" >   <img 
src="PmagPy4x.png" alt="PIC" class="graphics" width="426.79134pt" height="263.44528pt" ><!--tex4ht:graphics  
name="PmagPy4x.png" src="EPSfiles/filesys.eps"  
-->
<!--l. 124--><p class="indent" >   Within the root directory, there are subdirectories (e.g. <span 
class="cmbx-10x-x-109">Applications</span>
and <span 
class="cmbx-10x-x-109">Users </span>in bold face). In any directory, there can also be &#8220;files&#8221; (e.g.
<span 
class="cmti-10x-x-109">dir</span><span 
class="cmti-10x-x-109">_cart</span><span 
class="cmti-10x-x-109">_example.dat </span>in italics). To refer to directories, the operating system
relies on what is called a &#8220;pathname&#8221;. Every object has an &#8220;absolute&#8221;
                                                                     

                                                                     
pathname which is valid from anywhere on the computer. The absolute
pathname in *NIX always begins from the root directory <span 
class="cmbx-10x-x-109">/ </span>and in DOS (the
operating system working in the Windows command line window), it is
C:&#8217;backslash&#8217;.
<!--l. 131--><p class="indent" >   The absolute pathname to the home directory <span 
class="cmbx-10x-x-109">lisa </span>in the figure is
<span 
class="cmbx-10x-x-109">/Users/lisa</span>. Similarly, the absolute pathname to the directory containing
<span 
class="cmbx-10x-x-109">PmagPy </span>scripts would be <span 
class="cmbx-10x-x-109">/Users/ltauxe/PmagPy</span>. There is also a
&#8220;relative&#8221; pathname, which is in reference to the current directory (the
one you are &#8216;sitting&#8217; in). If user &#8220;lisa&#8221; is sitting in her home directory,
the relative pathname for the file <span 
class="cmti-10x-x-109">dir</span><span 
class="cmti-10x-x-109">_cart</span><span 
class="cmti-10x-x-109">_example.dat </span>in the directory
<span 
class="cmbx-10x-x-109">Datafiles</span><span 
class="cmbx-10x-x-109">_2.0 </span>would be <span 
class="cmti-10x-x-109">Datafiles</span><span 
class="cmti-10x-x-109">_2.0/dir</span><span 
class="cmti-10x-x-109">_cart/dir</span><span 
class="cmti-10x-x-109">_cart</span><span 
class="cmti-10x-x-109">_example.dat</span>. When
using relative pathnames, it is useful to remember that <span 
class="cmbx-10x-x-109">./ </span>refers to the current
directory and <span 
class="cmbx-10x-x-109">../ </span>refers to the directory &#8220;above&#8221;. Also, lisa&#8217;s home directory
would be <span 
class="cmsy-10x-x-109">~</span>lisa, or if you are logged in as lisa yourself, then it is just
<span 
class="cmsy-10x-x-109">~</span>.
<!--l. 140--><p class="noindent" >
<!--l. 140--><p class="indent" >   <a name='sec2-3'></a><h3 class="sectionHead"><span class="titlemark">2.3   </span> <a 
href="#QQ2-1-6" id="x1-60002.3">Moving around in the file system</a></h3>
<!--l. 142--><p class="noindent" >Now that you have found your command line and are comfortable in your home
directory, you can view the contents of your directory with the Unix command
<span 
class="cmbx-10x-x-109">ls </span>or the DOS command <span 
class="cmbx-10x-x-109">dir</span>. <a name='mkdir'></a> You can make a new directory with the
command
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-1">
%mkdir&#x00A0;NEW_DIRECTORY_NAME
</div>
<!--l. 147--><p class="nopar" > This works in both Unix and DOS environments) and you can move into your
new directory with the command
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-2">
%&#x00A0;cd&#x00A0;NEW_DIRECTORY_NAME
</div>
<!--l. 151--><p class="nopar" > To move back up into the home directory, just type <span 
class="cmbx-10x-x-109">cd .. </span>remembering that ..
refers to the directory above. Also, <span 
class="cmbx-10x-x-109">cd </span>by itself will transport you home from
where ever you are (there&#8217;s no place like home....). You can also change to
any arbitrary directory by specifying the full path of the destination
directory.
<!--l. 155--><p class="noindent" >
<!--l. 155--><p class="indent" >   <a name='sec2-4'></a><h3 class="sectionHead"><span class="titlemark">2.4   </span> <a 
href="#QQ2-1-7" id="x1-70002.4">Wildcards</a></h3>
<!--l. 157--><p class="noindent" >Unix and DOS have the ability to refer to a number of files and/or directories
using &#8220;wildcards&#8221;. The wildcard for a single character is &#8220;?&#8221; and for any
number of characters is &#8220;*&#8221;. For example, to refer to all the files with &#8220;.py&#8221;
in their name in the PmagPy directory in my home directory, I would
type:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-3">
%&#x00A0;ls&#x00A0;PmagPy/*.py
&#x00A0;<br />apwp.py&#x00A0;bootams.py&#x00A0;fishrot.py.....
</div>
<!--l. 165--><p class="nopar" >
<!--l. 169--><p class="noindent" >
<!--l. 169--><p class="indent" >   <a name='sec2-5'></a><h3 class="sectionHead"><span class="titlemark">2.5   </span> <a 
href="#QQ2-1-8" id="x1-80002.5">Redirecting input and output</a></h3>
<!--l. 171--><p class="noindent" >Programs that operate at the command line level print output to the screen and
read input from the keyboard. This is <a name='standard_IO'></a> known as &#8220;standard input and output&#8221; or
&#8220;standard I/O&#8221;. One of the nicest things about working at the command line
level is the ability to redirect input and output. For example, instead of typing
input to a program with the keyboard, it can be read from a file using the
symbol <span 
class="cmmi-10x-x-109">&#x003C;</span>. Output can either be printed to the screen (standard output),
redirected into a file using the symbol <span 
class="cmmi-10x-x-109">&#x003E;</span>, appended to the end of a file
with <span 
class="cmmi-10x-x-109">&#x003E;&#x003E; </span>or used as input to another program with the pipe operator
(<span 
class="cmsy-10x-x-109">|</span>).
<!--l. 183--><p class="noindent" >
<!--l. 183--><p class="indent" >   <a name='sec2-6'></a><h3 class="sectionHead"><span class="titlemark">2.6   </span> <a 
href="#QQ2-1-9" id="x1-90002.6">Text editors</a></h3>
<!--l. 185--><p class="noindent" >Text editing is a blessing and a curse. You either love it or hate it and in the
beginning, and if you are used to programs like Word, you will certainly hate it.
(And if you are used to a decent text editor, you will hate Word!). There are
many ways of editing text and the subject is beyond the scope of this
documentation. But you can&#8217;t use Word because the output is in a weird format
that no scripting languages read easily. So you have to use an editor that will
produce a plain (ascii) file, like Notepad or TextWrangler. The latter is freeware
available for Macs and the former comes standard in the Windows operating
system.
<!--l. 189--><p class="indent" >   <a name='installing_python'></a>
<!--l. 190--><p class="indent" >   <a name='sec2-7'></a><h3 class="sectionHead"><span class="titlemark">2.7   </span> <a 
href="#QQ2-1-10" id="x1-100002.7">Installing Python and PmagPy</a></h3>
                                                                     

                                                                     
<!--l. 195--><p class="noindent" >Python can be painful to install (but so can all other programming environments).
There are a few recipes that work for Mac OS (at least for 10.4 and later) and
for Windows. These recipes and ingredients are available through the
website:
<!--l. 197--><p class="indent" >   <a 
href="http://earthref.org/PmagPy" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy</span></a>.
<!--l. 201--><p class="indent" >   Once Python is installed, <a 
href="#command_line" >find your command line</a> with its prompt. After the
command prompt, type: <span 
class="cmbx-10x-x-109">python </span>to start the interactive python shell. To
get back out again, hold down the control key while typing the letter
&#8220;d&#8221;. On Windows machines, you may have to substitute a letter &#8220;c&#8221;
to achieve the same effect. This action will be referred to with &#8216;ctrl-D&#8217;
here.
<!--l. 203--><p class="indent" >   Everyone should now have the <span 
class="cmmi-10x-x-109">&#x003E;&#x003E;&#x003E; </span>Python prompt. Here is a transcript of a
python interpreter session which should make a simple graph:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-4">
%&#x00A0;python
&#x00A0;<br />Enthought&#x00A0;Python&#x00A0;Distribution&#x00A0;--&#x00A0;www.enthought.com
&#x00A0;<br />Version:&#x00A0;7.1-2&#x00A0;(32-bit)
&#x00A0;<br />
&#x00A0;<br />Python&#x00A0;2.7.2&#x00A0;|EPD&#x00A0;7.1-2&#x00A0;(32-bit)|&#x00A0;(default,&#x00A0;Jul&#x00A0;27&#x00A0;2011,&#x00A0;13:29:32)
&#x00A0;<br />[GCC&#x00A0;4.0.1&#x00A0;(Apple&#x00A0;Inc.&#x00A0;build&#x00A0;5493)]&#x00A0;on&#x00A0;darwin
&#x00A0;<br />Type&#x00A0;"packages",&#x00A0;"demo"&#x00A0;or&#x00A0;"enthought"&#x00A0;for&#x00A0;more&#x00A0;information.
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;matplotlib
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;matplotlib.use("TkAgg")
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;pylab
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;pylab.plot([1,2,3,4])
&#x00A0;<br />[&#x003C;matplotlib.lines.Line2D&#x00A0;object&#x00A0;at&#x00A0;0x64eb270&#x003E;]
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;pylab.show()
&#x00A0;<br />
</div>
<!--l. 220--><p class="nopar" >
<!--l. 222--><p class="indent" >   which produces the fascinating graph:
                                                                     

                                                                     
<!--l. 224--><p class="indent" >   <img 
src="PmagPy5x.png" alt="PIC" class="graphics" width="426.79134pt" height="360.61629pt" ><!--tex4ht:graphics  
name="PmagPy5x.png" src="EPSfiles/matplotlib.eps"  
-->
<!--l. 227--><p class="indent" >   To kill the interpreter, close the plot window (red button) and type
ctrl-D.
<!--l. 230--><p class="indent" >   If you don&#8217;t get something about Enthought Python, you are probably using
the standard Mac Os version, which has none of the whistles and bells we want
(plotting, numerical packages, etc.), and you&#8217;ll need to set your path properly.
Look for hints at: <a 
href="http://earthref.org/PmagPy" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy</span></a>. For more on how to program
in Python, see Chapter&#x00A0;<a 
href="#x1-1740006">6<!--tex4ht:ref: chap:python --></a>.
<!--l. 236--><p class="indent" >   <a name='MagIC'></a>
                                                                     

                                                                     
<!--l. 237--><p class="indent" >   <a name='ch3'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;3</span><br /><a 
href="#QQ2-1-11" id="x1-110003">The MagIC database and file formats</a></h2>
   A number of the programs in <span 
class="cmbx-10x-x-109">PmagPy </span>were developed to take advantage of
the MagIC database and aid getting data in and out of it. So, we need some basic
understanding of what MagIC is and how it is structured. MagIC is an Oracle
database that is part of the EarthRef.org collection of databases and digital
reference material. Anyone interested in the MagIC database should first become
a registered EarthRef.org user. To do this, go to <a 
href="http://earthref.org" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org</span></a> and click
on the <span 
class="cmbx-10x-x-109">Register </span>link in the <span 
class="cmbx-10x-x-109">Topmenu</span>. Registration is not required for access to
data or browsing around, but is required for uploading of data into the MagIC
database, something which we sincerely hope you will have a chance to do.
By registering, you will also be kept informed of our progress through
bi-monthly newsletters and other email alerts. After you register, go to
<a 
href="http://earthref.org/MAGIC" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC</span></a>.
<!--l. 244--><p class="noindent" ><a name='sec3-1'></a><h3 class="sectionHead"><span class="titlemark">3.1   </span> <a 
href="#QQ2-1-12" id="x1-120003.1">Perusing the existing data</a></h3>
<!--l. 246--><p class="noindent" >The MagIC database is designed to have two web portals, one for paleomagnetic
data (PMAG) and one for rock magnetic data (RMAG). If you click on the
PMAG PORTAL link, you will see a link labeled &#8220;Open the data tab to Start
searching&#8221; which, if you click on it, takes you to the main MagIC search engine.
You can look for data from a particular reference by typing in the author&#8217;s name
in the &#8220;Reference Text Search&#8221; box, or search by any column with a little
magnifying glass icon. Once the data you want have been identified, you can
download the whole data set for example by clicking on the icon for the
textfile:
<!--l. 250--><p class="indent" >   <img 
src="PmagPy6x.png" alt="PIC" class="graphics" width="426.79134pt" height="106.53906pt" ><!--tex4ht:graphics  
name="PmagPy6x.png" src="EPSfiles/MagIC_search.eps"  
-->
<!--l. 253--><p class="indent" >   After downloading, the data can be unpacked and examined using various
tools in the <span 
class="cmbx-10x-x-109">PmagPy </span>programs described later.
<!--l. 255--><p class="indent" >   <a name='Uploading'></a>
<!--l. 256--><p class="indent" >   <a name='sec3-2'></a><h3 class="sectionHead"><span class="titlemark">3.2   </span> <a 
href="#QQ2-1-13" id="x1-130003.2">Uploading data to the database</a></h3>
                                                                     

                                                                     
<!--l. 258--><p class="noindent" >Paleomagnetic and rock magnetic data are collected and analyzed in a wide
variety of ways with different objectives. Data sets can be extremely large or can
be the barest boned data summaries published in legacy data tables. The goal of
MagIC has been to have the flexibility to allow a whole range of data including
legacy data from publications or other databases to new studies which include all
the measurements, field photos, methodology, and so on. The general
procedure for the future will be to archive the data at the same time
that they are published. So, to smooth the path, it is advisable to put
your data into the MagIC format as early in the process as possible. All
data that enters the database must pass through an Excel spreadsheet,
called the <a 
href="http://earthref.org/MAGIC/software.htm" >MagIC Console</a>. The Console program allows you to open a
&#8220;smartbook&#8221; comprised of some 30 tables each with dozens of column
headings (meta-data). Data are assembled in a MagIC template file, checked
for consistency and completeness, then exported to text and excel files.
These can then be uploaded into the MagIC database. Data can either
be entered directly into the Console, or can be prepared into a strictly
formatted ascii file behind the scenes which can be imported into the Console
late in the process. Here, we illustrate the use of a number of programs
(the <a 
href="#PmagPy" >PmagPy</a> package in Python) to facilitate the &#8216;behind the scenes&#8217;
process.
<!--l. 260--><p class="indent" >   <a name='DataTables'></a>
<!--l. 261--><p class="indent" >   <a name='sec3-3'></a><h3 class="sectionHead"><span class="titlemark">3.3   </span> <a 
href="#QQ2-1-14" id="x1-140003.3">Structure of the database tables</a></h3>
<!--l. 263--><p class="noindent" >The MagIC database is organized around a series of data tables. The complete
data model can be found here: <a 
href="http://earthref.org/MAGIC/metadata.htm" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/metadata.htm</span></a>.
<!--l. 266--><p class="indent" >   Each MagIC table has a one line header of the form:
<!--l. 269--><p class="indent" >   tab      <span 
class="cmbx-10x-x-109">table</span><span 
class="cmbx-10x-x-109">_name</span>
<!--l. 271--><p class="noindent" >&#8220;tab&#8221; (or &#8220;tab delimited&#8221;) means that the table is tab delimited. In theory other
delimiters are possible, but <span 
class="cmbx-10x-x-109">PmagPy </span>only uses tab delimited formats. The
<span 
class="cmbx-10x-x-109">table</span><span 
class="cmbx-10x-x-109">_name </span>is one of the table names. The tables are of four general types:
EarthRef tables (<span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_</span>) shared in common with other EarthRef databases, MagIC
tables (<span 
class="cmbx-10x-x-109">magic</span><span 
class="cmbx-10x-x-109">_</span>) common to both rock magnetic and paleomagnetic studies,
Paleomagnetic tables (<span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_</span>), data reduction useful in paleomagnetic
studies, Rock magnetic tables (<span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_</span>), data reduction useful for rock
magnetic studies. Most studies use only some of these tables. Here are some
useful tables for a typical paleomagnetic study (starred are required in all
cases):
                                                                     

                                                                     
   <div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"><col 
id="TBL-2-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-1"  
class="td11">table                         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-2"  
class="td11">Brief description                                                        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-2-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_locations*           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-2-2"  
class="td11">geographic information about the location(s) of the study  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_sites                   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-2"  
class="td11">locations, lithologic information, etc. for the sampling sites</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-4-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_samples              </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-4-2"  
class="td11">orientation, sampling methods, etc. for samples               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-5-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_specimens           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-5-2"  
class="td11">specimen weights, volumes                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-6-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_ages                   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-6-2"  
class="td11">age information.                                                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-7-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_images                </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-7-2"  
class="td11">images associated with the study (field shots, sample        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-8-1"  
class="td11">                     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-8-2"  
class="td11">photos, photomicrographs, SEM images, etc.                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-9-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_citations*            </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-9-2"  
class="td11">citation information                                                   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-10-1"  
class="td11"><span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_mailinglist </span></td> <td  style="white-space:nowrap; text-align:left;" id="TBL-2-10-2"  
class="td11">contact information for people involved in the study</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-11-1"  
class="td11"><span 
class="cmbx-10x-x-109">magic</span><span 
class="cmbx-10x-x-109">_measurements </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-11-2"  
class="td11">  measurement data used in the study                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-12-1"  
class="td11"><span 
class="cmbx-10x-x-109">magic</span><span 
class="cmbx-10x-x-109">_methods*       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-12-2"  
class="td11">methods used in the study                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-13-1"  
class="td11"><span 
class="cmbx-10x-x-109">magic</span><span 
class="cmbx-10x-x-109">_instruments    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-13-2"  
class="td11">instruments used in the study                                      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-14-1"  
class="td11"><span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_specimens       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-14-2"  
class="td11">interpretations of best-fit lines, planes, paleointensity, etc. </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-15-1"  
class="td11"><span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_samples          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-15-2"  
class="td11">sample averages of specimen data                                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-16-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-16-1"  
class="td11"><span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_sites              </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-16-2"  
class="td11">site averages of sample data                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-17-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-17-1"  
class="td11"><span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_results           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-17-2"  
class="td11">averages, VGP/V[A]DM calculations, stability tests, etc.   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-18-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-18-1"  
class="td11"><span 
class="cmbx-10x-x-109">pmag</span><span 
class="cmbx-10x-x-109">_criteria           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-18-2"  
class="td11">criteria used in study for data selection                          </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-19-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-19-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_susceptibility   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-19-2"  
class="td11">experiment for susceptibility parameters                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-20-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-20-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_anisotropy       </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-20-2"  
class="td11">summary of anisotropy parameters                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-21-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-21-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_hysteresis        </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-21-2"  
class="td11">summary of hysteresis parameters                                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-22-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-22-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_remanence      </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-22-2"  
class="td11">summary of remanence parameters                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-23-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-23-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_results            </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-23-2"  
class="td11">summary results and highly derived data                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-24-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-24-1"  
class="td11">                     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-24-2"  
class="td11">products (critical temperatures, etc.)                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-25-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-25-1"  
class="td11"><span 
class="cmbx-10x-x-109">rmag</span><span 
class="cmbx-10x-x-109">_criteria           </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-2-25-2"  
class="td11">criteria used in study for data selection                          </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-26-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-26-1"  
class="td11">                     </td> </tr></table></div>
<!--l. 310--><p class="indent" >   The second line of every file contains the column headers (meta-data)
describing the included data. For example, an <span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_sites </span>table might look like
this:
   <div class="tabular"> <table id="TBL-3" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1"><col 
id="TBL-3-2"><col 
id="TBL-3-3"><col 
id="TBL-3-4"><col 
id="TBL-3-5"><col 
id="TBL-3-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-1"  
class="td11">tab      <span 
class="cmbx-10x-x-109">er</span><span 
class="cmbx-10x-x-109">_sites</span></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-1"  
class="td11">er_site_name</td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-2"  
class="td11">er_location_name </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-3"  
class="td11">site_lithology </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-4"  
class="td11">site_type </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-5"  
class="td11">site_lat </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-6"  
class="td11">site_lon</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-1"  
class="td11">AZ01                </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-2"  
class="td11">Azores               </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-3"  
class="td11">basalt           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-4"  
class="td11">lava flow </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-5"  
class="td11">37.80    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-6"  
class="td11">-25.80  </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-1"  
class="td11">... </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-1"  
class="td11">              </td> </tr></table></div>
<!--l. 323--><p class="indent" >   Although data can be entered directly into the MagIC Console, it is
easier to generate the necessary tables as a by-product of ordinary data
processing without having to know details of the meta-data and method
codes. The following section describes how to use the <span 
class="cmbx-10x-x-109">PmagPy </span>software
for data analysis and generate the MagIC data tables automatically for
the most common paleomagnetic studies involving directions and/or
paleointensities.
<!--l. 327--><p class="indent" >   <a name='method_codes'></a>
<!--l. 328--><p class="indent" >   <a name='sec3-4'></a><h3 class="sectionHead"><span class="titlemark">3.4   </span> <a 
href="#QQ2-1-15" id="x1-150003.4">A word about method codes</a></h3>
<!--l. 330--><p class="noindent" >The MagIC database tags records with &#8220;method codes&#8221; which are short codes
that describe various methods associated with a particular data record. The
complete list is available here: <a 
href="http://earthref.org/MAGIC/methods.htm" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/methods.htm</span></a>. Most
                                                                     

                                                                     
of the time, you do not need to know what these are (there are over a hundred!),
but it is helpful to know something about them. These are divided into several
general categories like &#8216;geochronology methods&#8217; and &#8216;field sampling methods&#8217;.
Method codes start with a few letters which designate the category (e.g., GM or
FS for geochronogy and field sampling respectively). Then there is a second part
and possibly also a third part to describe methods with lesser or greater
detail. The current (version 2.4) method codes that describe various lab
treatment methods to give you a flavor for how they work are listed in this
table:
   <div class="tabular"> <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"><col 
id="TBL-4-2"><col 
id="TBL-4-3"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-1"  
class="td11">LT-AF-D         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-3"  
class="td11">Alternating field: Double demagnetization                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-3"  
class="td11">with AF along X,Y,Z measurement                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-3"  
class="td11">followed by AF along -X,-Y,-Z measurement                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-1"  
class="td11">LT-AF-G          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-3"  
class="td11">Alternating field: Triple demagnetization                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-3"  
class="td11">with AF along Y,Z,X measurement                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-3"  
class="td11">followed by AF along Y and AF along Z measurement     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-1"  
class="td11">LT-AF-I           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-3"  
class="td11">Alternating field: In laboratory field                             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-1"  
class="td11">LT-AF-Z           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-3"  
class="td11">Alternating field: In zero field                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-9-1"  
class="td11">LT-CHEM        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-9-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-9-3"  
class="td11">Cleaning of porous rocks by chemical leaching with HCl   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-10-1"  
class="td11">LT-FC              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-10-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-10-3"  
class="td11">Specimen cooled with laboratory field on                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-11-1"  
class="td11">LT-HT-I           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-11-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-11-3"  
class="td11">High temperature treatment: In laboratory field             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-12-1"  
class="td11">LT-HT-Z          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-12-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-12-3"  
class="td11">High temperature treatment: In zero field                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-13-1"  
class="td11">LT-IRM            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-13-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-13-3"  
class="td11">IRM imparted to specimen prior to measurement           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-14-1"  
class="td11">LT-LT-I            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-14-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-14-3"  
class="td11">Low temperature treatment: In laboratory field              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-15-1"  
class="td11">LT-LT-Z           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-15-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-15-3"  
class="td11">Low temperature treatment: In zero field                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-16-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-16-1"  
class="td11">LT-M-I             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-16-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-16-3"  
class="td11">Using microwave radiation: In laboratory field                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-17-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-17-1"  
class="td11">LT-M-Z            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-17-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-17-3"  
class="td11">Using microwave radiation: In zero field                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-18-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-18-1"  
class="td11">LT-NO             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-18-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-18-3"  
class="td11">No treatments applied before measurement                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-19-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-19-1"  
class="td11">LT-NRM-APAR </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-19-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-19-3"  
class="td11">Specimen heating and cooling: Laboratory                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-20-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-20-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-20-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-20-3"  
class="td11">field anti-parallel to the NRM vector                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-21-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-21-1"  
class="td11">LT-NRM-PAR   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-21-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-21-3"  
class="td11">Specimen heating and cooling: Laboratory                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-22-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-22-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-22-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-22-3"  
class="td11">field parallel to the NRM vector                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-23-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-23-1"  
class="td11">LT-NRM-PERP </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-23-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-23-3"  
class="td11">Specimen heating and cooling:                                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-24-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-24-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-24-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-24-3"  
class="td11">Laboratory field perpendicular to the NRM vector          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-25-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-25-1"  
class="td11">LT-PTRM-I      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-25-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-25-3"  
class="td11">pTRM tail check: After zero field step,                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-26-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-26-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-26-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-26-3"  
class="td11">perform an in field cooling                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-27-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-27-1"  
class="td11">LT-PTRM-MD  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-27-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-27-3"  
class="td11">pTRM tail check: After in laboratory field step,             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-28-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-28-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-28-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-28-3"  
class="td11">perform a zero field cooling at same temperature            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-29-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-29-1"  
class="td11">LT-PTRM-Z      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-29-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-29-3"  
class="td11">pTRM tail check: After in laboratory field step,             </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-30-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-30-1"  
class="td11">              </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-30-2"  
class="td11">             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-30-3"  
class="td11">perform a zero field cooling at a lower temperature         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-31-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-31-1"  
class="td11">LT-T-I             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-31-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-31-3"  
class="td11">Specimen cooling: In laboratory field                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-32-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-32-1"  
class="td11">LT-T-Z             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-32-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-32-3"  
class="td11">Specimen cooling: In zero field                                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-33-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-33-1"  
class="td11">LT-VD             </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-33-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-33-3"  
class="td11">Viscous demagnetization by applying MU-metal screening</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-34-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-34-1"  
class="td11">LP-X               </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-34-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-34-3"  
class="td11">Susceptibility                                                           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-35-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-35-1"  
class="td11">LT-ZF-C           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-35-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-35-3"  
class="td11">Zero field cooled, low temperature IRM imparted           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-36-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-36-1"  
class="td11">LT-ZF-CI          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-36-2"  
class="td11">Lab Treatment </td><td  style="white-space:nowrap; text-align:left;" id="TBL-4-36-3"  
class="td11">Zero field cooled, induced M measured on warming         </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-37-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-37-1"  
class="td11">              </td> </tr></table></div>
<!--l. 375--><p class="indent" >   <a name='MagIC.py'></a>
                                                                     

                                                                     
<!--l. 376--><p class="indent" >   <a name='ch4'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
href="#QQ2-1-16" id="x1-160004">MagIC.py</a></h2> <a 
href="#MagIC" >[MagIC</a>]
   <span 
class="cmbx-10x-x-109">MagIC.py </span>is an umbrella program that links many MagIC related functions
of the <a 
href="#PmagPy" >PmagPy</a> Software Package in a user-friendly graphical user interface
(GUI). While it is invoked with a command line call, this can be done from any
directory (with no spaces in the path). It generates calls to the programs
described in Chapter&#x00A0;<a 
href="#x1-430005">5<!--tex4ht:ref: chap:PmagPy --></a> so you don&#8217;t have to. It allows importing of many lab and
instrument formats, plotting of a variety of data and doing the data processing
and book-keeping required to create files ready for uploading into the MagIC
Console software.
<!--l. 381--><p class="noindent" ><a name='sec4-1'></a><h3 class="sectionHead"><span class="titlemark">4.1   </span> <a 
href="#QQ2-1-17" id="x1-170004.1">Preparing for MagIC</a></h3>
<!--l. 382--><p class="noindent" >
<!--l. 382--><p class="indent" >   <a name='subsec4-1-1'></a><h4 class="subsectionHead"><span class="titlemark">4.1.1   </span> <a 
href="#QQ2-1-18" id="x1-180004.1.1">Project Directory</a></h4>
<!--l. 383--><p class="noindent" ><a name='Project_Directory'></a>
<!--l. 385--><p class="indent" >   When you invoke <span 
class="cmbx-10x-x-109">MagIC.py</span>, the first step is to choose a &#8216;Project Directory&#8217;.
For each study, create a directory with a name that relates to that study. Here I
will call it <span 
class="cmti-10x-x-109">ThisProject</span>. This is where you will collect and process all the rock and
paleomagnetic data for a given study, usually a publication. The project
directory name should have NO SPACES and be placed on the hard
drive in a place that has NO spaces in the path. Under certain Windows
versions, this means you should not use your home directory, but create a
directory called for example: D:<span 
class="cmsy-10x-x-109">\</span>MyPmagProjects and put <span 
class="cmti-10x-x-109">ThisProject</span>
there.
<!--l. 387--><p class="indent" >   Inside the <span 
class="cmti-10x-x-109">ThisProject </span>directory, create two additional directories: <span 
class="cmti-10x-x-109">MyFiles</span>
and <span 
class="cmti-10x-x-109">MagIC</span>. All the files that you want to import into the MagIC format should
be placed in <span 
class="cmti-10x-x-109">MyFiles </span>and you should just leave <span 
class="cmti-10x-x-109">MagIC </span>alone unless you really
know what you are doing. The <span 
class="cmti-10x-x-109">Project Directory </span>that <span 
class="cmbx-10x-x-109">MagIC.py </span>seeks is that
<span 
class="cmti-10x-x-109">MagIC </span>directory.
<!--l. 389--><p class="indent" >   Your Directory tree might look like this now:
                                                                     

                                                                     
<!--l. 391--><p class="indent" >   <img 
src="PmagPy7x.png" alt="PIC" class="graphics" width="426.79134pt" height="225.53929pt" ><!--tex4ht:graphics  
name="PmagPy7x.png" src="EPSfiles/ProjectDirectory.eps"  
-->
<!--l. 393--><p class="noindent" >
<!--l. 393--><p class="indent" >   <a name='subsec4-1-2'></a><h4 class="subsectionHead"><span class="titlemark">4.1.2   </span> <a 
href="#QQ2-1-19" id="x1-190004.1.2">What goes in <span 
class="cmti-10x-x-109">MyFiles</span></a></h4>
<!--l. 395--><p class="noindent" >
<!--l. 395--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-200004.1.2" id="x1-200004.1.2">Field and sampling information</a></h5>
<!--l. 397--><p class="noindent" ><a name='field_info'></a>
<!--l. 399--><p class="indent" >   There is an astounding number of different ways that paleomagnetists
document data in the field and in the lab. This variety is met with a large
number of method codes that describe sampling and orientation procedures (see
<a 
href="http://earthref.org/MAGIC/methods.htm" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/methods.htm</span></a> for a complete description). The
MagIC database expects sample orientations to be the azimuth and plunge of the
fiducial arrow used for measurement (see <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials, Chapter 9]</a> ) and the
orientation of the bedding to be dip direction and downward dip so no matter
what your own preference is, it must be translated into the standard MagIC
convention for use with the PmagPy programs and with the MagIC.py
GUI.
<!--l. 402--><p class="indent" >   To make the conversion from notebook information to the MagIC format, you
can create a tab delimited file (orient.txt format). This file should have
all the information for a single location <span 
class="cmti-10x-x-109">sensu MagIC</span>. [A location is a
                                                                     

                                                                     
stratigraphic section, a sampling region, an drill core, and so on.] MagIC
doesn&#8217;t really care what your location name is, but use the same location
name every time you are asked for it, because it really ties your dataset
together. The first line of the <span 
class="cmti-10x-x-109">orient.txt </span>file should be a header with the word
&#8216;tab&#8217; in the first column and the desired location name in the second
column:
<!--l. 404--><p class="indent" >   <img 
src="PmagPy8x.png" alt="PIC" class="graphics" width="426.79134pt" height="82.65268pt" ><!--tex4ht:graphics  
name="PmagPy8x.png" src="EPSfiles/orient.eps"  
-->
<!--l. 406--><p class="indent" >   The next row has the names of the columns. The required columns are:
sample_name, mag_azimuth, field_dip, date, lat, long, sample_lithology,
sample_type, sample_class) but there are a number of other possible columns
(e.g., Optional Fields in orient.txt formatted files are: [date, shadow_angle,
hhmm], date, stratigraphic_height, [bedding_dip_direction, bedding_dip],
[image_name, image_look, image_photographer], participants, method_codes,
site_name, and site_description, GPS_Az]). Column names in brackets must be
supplied together and the data for stratigraphic_height are in meters. Also note
that if these are unoriented samples, just set mag_azimuth and field_dip to
0.
<!--l. 408--><p class="indent" >   If there is a simple and consistent relationship between the site name and the
sample name (e.g., sample ns034a belongs to site ns034), you do not need to
specify a site name here as it will be parsed by <a 
href="#orientation_magic.py" >orientation_magic.py</a> when it gets
imported to the MagIC format. However, many investigators have no such
consistent naming scheme. Moreover, in some cases, groups of samples or initial
site designations need to be re-grouped for averaging. For example, if it becomes
clear that a sequence of lava flows were erupted over a short period of time and
should be averaged together, you would need a new site name for all the
samples. Note that there are different understandings of the term <span 
class="cmbx-10x-x-109">site </span>in the
paleomagnetic community. We adhere to the MagIC definition of &#8220;site&#8221;, which
is:
     <div class="quote">
     <!--l. 410--><p class="noindent" >site: a group of samples that are homogeneous with respect to
     the property being measured.</div>
<!--l. 412--><p class="noindent" >When a site has no simple relationship to the sample names, a column named
                                                                     

                                                                     
site_name in the <span 
class="cmti-10x-x-109">orient.txt </span>file can be used with the site name filled in for every
sample.
<!--l. 414--><p class="indent" >   It is handy to document the lithology, type and material classification
information required by MagIC. These are all controlled vocabularies listed at
<a 
href="http://earthref.org/MAGIC/shortlists.htm" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/shortlists.htm</span></a>. For archaeological materials, set
the lithology to &#8220;Not Specified&#8221;.
<!--l. 416--><p class="indent" >   Put in stratigraphic height, sun compass, differential GPS orientation
information under the appropriate column headings. You can also flag a
particular sample orientation as suspect, by having a column &#8217;sample_flag&#8217;
and setting it to either &#8217;g&#8217; for good or &#8217;b&#8217; for bad. Other options include
documenting digital field photograph names and who was involved with the
sampling.
<!--l. 418--><p class="indent" >   For Sun Compass measurements, supply the shadow_angle, date and time.
The date must be in mm/dd/yy format. If you enter the time in local time, be
sure you know the offset to Universal Time as you will have to supply that when
you import the file. Also, only put data from one time zone in a single file. The
shadow angle should follow the convention shown in this figure (from Tauxe et
al., 2010):
<!--l. 420--><p class="indent" >   <img 
src="PmagPy9x.png" alt="PIC" class="graphics" width="426.79134pt" height="166.80984pt" ><!--tex4ht:graphics  
name="PmagPy9x.png" src="EPSfiles/suncomp.eps"  
-->
<!--l. 422--><p class="indent" >   <a name='orientation_schemes'></a> <span 
class="cmbx-10x-x-109">Supported sample orientation schemes:</span>
<!--l. 425--><p class="indent" >   There are options for different orientation conventions (drill direction with
the Pomeroy orientation device [drill azimuth and hade] is the default),
different naming conventions and a choice of whether to automatically
calculate the IGRF value for magnetic declination correction, supply your
own or ignore the correction. The program generates <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>and
er_sites.txt files. Be warned that existing files with these names will be
overwritten.
                                                                     

                                                                     
<!--l. 428--><p class="indent" >   All images, for example outcrop photos are supplied as a separate zip file.
image_name is the name of the picture you will import, image_look is the &#8221;look
direction&#8221; and image_photographer is the person who took the picture. This
information will be put in a file named er_images.txt and will ultimately be read
into the er_image table in the console where additional information must be
entered (keywords, etc.).
<!--l. 430--><p class="indent" >   Often, paleomagnetists note when a sample orientation is suspect in the field.
To indicate that a particular sample may have an uncertainty in its orientation
that is greater than about 5<sup><span 
class="cmsy-8">&#x2218;</span></sup>, enter SO-GT5 in the method_codes column and
any other special codes pertaining to a particular sample from the method codes
table. Other general method codes can be entered later. Note that unlike date
and sample_class, the method codes entered in orient.txt pertain only to the
sample on the same line.
<!--l. 435--><p class="indent" >   Samples are oriented in the field with a &#8221;field arrow&#8221; and measured in the
laboratory with a &#8221;lab arrow&#8221;. The lab arrow is the positive X direction of the
right handed coordinate system of the specimen measurements. The lab and field
arrows may not be the same. In the MagIC database, we require the orientation
(azimuth and plunge) of the X direction of the measurements (lab arrow). Here
are some popular conventions that convert the field arrow azimuth (mag_azimuth
in the orient.txt file) and dip (field_dip in orient.txt) to the azimuth
and plunge of the laboratory arrow (sample_azimuth and sample_dip in
er_samples.txt). The two angles, mag_azimuth and field_dip are explained
below.
<!--l. 438--><p class="noindent" >[1] Standard Pomeroy convention of azimuth and hade (degrees from vertical
down) of the drill direction (field arrow). sample_azimuth = mag_azimuth;
sample_dip =-field_dip.
                                                                     

                                                                     
<!--l. 440--><p class="noindent" ><img 
src="PmagPy10x.png" alt="PIC" class="graphics" width="426.79134pt" height="297.9259pt" ><!--tex4ht:graphics  
name="PmagPy10x.png" src="EPSfiles/orcon_1.eps"  
-->
<!--l. 442--><p class="noindent" >2] Field arrow is the strike of the plane orthogonal to the drill direction, Field dip
is the hade of the drill direction. Lab arrow azimuth = mag_azimuth-90<sup><span 
class="cmsy-8">&#x2218;</span></sup>; Lab
arrow dip = -field_dip
                                                                     

                                                                     
<!--l. 444--><p class="noindent" ><img 
src="PmagPy11x.png" alt="PIC" class="graphics" width="426.79134pt" height="345.22017pt" ><!--tex4ht:graphics  
name="PmagPy11x.png" src="EPSfiles/orcon_2.eps"  
-->
<!--l. 446--><p class="noindent" >[3] Lab arrow is the same as the drill direction; hade was measured in the field.
Lab arrow azimuth = mag_azimuth; Lab arrow dip = 90<sup><span 
class="cmsy-8">&#x2218;</span></sup>-field_dip.
                                                                     

                                                                     
<!--l. 448--><p class="noindent" ><img 
src="PmagPy12x.png" alt="PIC" class="graphics" width="426.79134pt" height="318.63841pt" ><!--tex4ht:graphics  
name="PmagPy12x.png" src="EPSfiles/orcon_3.eps"  
-->
<!--l. 450--><p class="noindent" >[4] Lab arrow orientation same as mag_azimuth and field_dip.
                                                                     

                                                                     
<!--l. 452--><p class="noindent" ><img 
src="PmagPy13x.png" alt="PIC" class="graphics" width="426.79134pt" height="273.23135pt" ><!--tex4ht:graphics  
name="PmagPy13x.png" src="EPSfiles/orcon_4.eps"  
-->
<!--l. 454--><p class="noindent" >[5] Lab arrow azimuth is mag_azimuth and lab arrow dip is the field_dip-90<sup><span 
class="cmsy-8">&#x2218;</span></sup>
                                                                     

                                                                     
<!--l. 456--><p class="noindent" ><img 
src="PmagPy14x.png" alt="PIC" class="graphics" width="426.79134pt" height="275.22574pt" ><!--tex4ht:graphics  
name="PmagPy14x.png" src="EPSfiles/orcon_5.eps"  
-->
<!--l. 459--><p class="noindent" >[6] Lab arrow azimuth is mag_azimuth-90<sup><span 
class="cmsy-8">&#x2218;</span></sup>, Lab arrow dip is 90<sup><span 
class="cmsy-8">&#x2218;</span></sup>-field_dip, i.e.,
the field arrow was strike and dip of orthogonal face:
<!--l. 461--><p class="noindent" ><img 
src="PmagPy15x.png" alt="PIC" class="graphics" width="426.79134pt" height="181.26195pt" ><!--tex4ht:graphics  
name="PmagPy15x.png" src="EPSfiles/orcon_6.eps"  
-->
<!--l. 464--><p class="indent" >   <span 
class="cmbx-10x-x-109">Structural correction conventions:</span>
<!--l. 467--><p class="indent" >   Because of the ambiguity of strike and dip, the MagIC database uses the dip
                                                                     

                                                                     
direction and dip where dip is positive from 0 <span 
class="cmsy-10x-x-109">&#x2192; </span>180. Dips<span 
class="cmmi-10x-x-109">&#x003E;</span>90 are overturned
beds.
<!--l. 470--><p class="indent" >   <a name='naming_schemes'></a> <span 
class="cmbx-10x-x-109">Supported sample naming schemes:</span>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-5">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[1]&#x00A0;XXXXY:&#x00A0;where&#x00A0;XXXX&#x00A0;is&#x00A0;an&#x00A0;arbitrary&#x00A0;length&#x00A0;site&#x00A0;designation&#x00A0;and&#x00A0;Y
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;is&#x00A0;the&#x00A0;single&#x00A0;character&#x00A0;sample&#x00A0;designation.&#x00A0;&#x00A0;e.g.,&#x00A0;TG001a&#x00A0;is&#x00A0;the
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;first&#x00A0;sample&#x00A0;from&#x00A0;site&#x00A0;TG001.&#x00A0;&#x00A0;&#x00A0;&#x00A0;[default]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[2]&#x00A0;XXXX-YY:&#x00A0;YY&#x00A0;sample&#x00A0;from&#x00A0;site&#x00A0;XXXX&#x00A0;(XXX,&#x00A0;YY&#x00A0;of&#x00A0;arbitary&#x00A0;length)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[3]&#x00A0;XXXX.YY:&#x00A0;YY&#x00A0;sample&#x00A0;from&#x00A0;site&#x00A0;XXXX&#x00A0;(XXX,&#x00A0;YY&#x00A0;of&#x00A0;arbitary&#x00A0;length)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[4-Z]&#x00A0;XXXX[YYY]:&#x00A0;&#x00A0;YYY&#x00A0;is&#x00A0;sample&#x00A0;designation&#x00A0;with&#x00A0;Z&#x00A0;characters&#x00A0;from&#x00A0;site&#x00A0;XXX
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[5]&#x00A0;site&#x00A0;name&#x00A0;=&#x00A0;sample&#x00A0;name
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[6]&#x00A0;site&#x00A0;name&#x00A0;entered&#x00A0;in&#x00A0;site_name&#x00A0;column&#x00A0;in&#x00A0;the&#x00A0;orient.txt&#x00A0;format&#x00A0;input&#x00A0;file
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[7-Z]&#x00A0;[XXX]YYY:&#x00A0;&#x00A0;XXX&#x00A0;is&#x00A0;site&#x00A0;designation&#x00A0;with&#x00A0;Z&#x00A0;characters&#x00A0;from&#x00A0;samples&#x00A0;&#x00A0;XXXYYY
</div>
<!--l. 483--><p class="nopar" >
<!--l. 485--><p class="noindent" >
<!--l. 485--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-210004.1.2" id="x1-210004.1.2">AZDIP formatted files</a></h5>
<!--l. 486--><p class="noindent" ><a name='AZDIP'></a> This is a very simple file format with the sample name Azimuth Plunge Strike
Dip where the Azimuth and Plunge are of the drill direction (Specimen&#8217;s Z
direction) or orientation convention #3 above to convert to the MagIC standard.
To convert strike to bedding dip direction, we would just add 90<sup><span 
class="cmsy-8">&#x2218;</span></sup>. Here is an
example AzDip file:
                                                                     

                                                                     
<!--l. 489--><p class="indent" >   <img 
src="PmagPy16x.png" alt="PIC" class="graphics" width="426.79134pt" height="307.5329pt" ><!--tex4ht:graphics  
name="PmagPy16x.png" src="EPSfiles/azdip.eps"  
-->
<!--l. 491--><p class="indent" >   <a name='LIMS'></a>
<!--l. 492--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-220004.1.2" id="x1-220004.1.2">Data files downloaded from the IODP (LIMS) database</a></h5>
<!--l. 495--><p class="noindent" >There are two types of files that help in plotting of IODP paleomagnetic data
sets: the core summaries with depth to core top information and the sample
information that contains lists of samples taken. Visiting the IODP science query
website at <a 
href="http://web.iodp.tamu.edu/WTR/html/sci-data.html" class="url" ><span 
class="cmtt-10x-x-109">http://web.iodp.tamu.edu/WTR/html/sci-data.html</span></a> allows you to
select &#8217;SRM - Remanence of magnetization&#8217; under the Analysis scroll down menu.
By picking the expedition, site, hole, etc. you can download a .csv format
(comma separated values) for the expedition data. (Be aware that this is the
rawest form of the data, including disturbed intervals, bad measurements, core
ends, etc. and may not be exactly what ended up getting published!). First
click on the &#8220;Show Report&#8221; button, then, &#8220;Expand Table&#8221;, then &#8220;Get
File&#8221;:
                                                                     

                                                                     
<!--l. 499--><p class="indent" >   <img 
src="PmagPy17x.png" alt="PIC" class="graphics" width="426.79134pt" height="370.85498pt" ><!--tex4ht:graphics  
name="PmagPy17x.png" src="EPSfiles/WebTabular_srm.eps"  
-->
<!--l. 501--><p class="indent" >   This can take a very long time, so get yourself a cup of tea.
<!--l. 503--><p class="indent" >   You can also (while you&#8217;re at it) click on the &#8217;Summaries&#8217; tab and download
the coring summaries:
                                                                     

                                                                     
<!--l. 505--><p class="indent" >   <img 
src="PmagPy18x.png" alt="PIC" class="graphics" width="426.79134pt" height="404.71439pt" ><!--tex4ht:graphics  
name="PmagPy18x.png" src="EPSfiles/WebTabular_core.eps"  
-->
<!--l. 507--><p class="indent" >   Place both of the downloaded files in your <span 
class="cmti-10x-x-109">MyFiles </span>directory.
<!--l. 510--><p class="indent" >   <a name='magnetometer_files'></a>
<!--l. 511--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-230004.1.2" id="x1-230004.1.2">Supported Rock Magnetometer files</a></h5>
<!--l. 513--><p class="noindent" >The MagIC database is designed to accept data from a wide variety
of paleomagnetic and rock magnetic experiments. Because of this the
magic_measurements table is very complicated. Each measurement only makes
                                                                     

                                                                     
sense in the context of what happened to the specimen before measurement and
under what conditions the measurement was made (temperature, frequency,
applied field, specimen orientation, etc). Also, there are many different
kinds of instruments in common use, including rock magnetometers,
susceptibility meters, Curie balances, vibrating sample and alternating
gradient force magnetometers, and so on. We have made an effort to write
translation programs for the most popular instrument and file formats
and continue to add new supported formats as the opportunity arises.
Here we describe the various supported data types and tell you how
to prepare your files for importing. In general, all files for importing
should be placed in the MyFiles directory or in subdirectories therein
as needed. If you don&#8217;t see your data type in this list, please send an
example file and a request to: ltauxe@ucsd.edu and we&#8217;ll get it in there for
you.
<!--l. 516--><p class="indent" >   The supported file formats are:
<!--l. 518--><p class="indent" >   <span 
class="cmbx-10x-x-109">Rock Magnetometer Files:</span>
     <ul class="itemize1">
     <li class="itemize"><a 
href="#CIT_magic.py" >CalTech&#8217;s format for Craig Jone&#8217;s PaleoMag software</a>
     </li>
     <li class="itemize"><a 
href="#HUJI_magic.py" >Hebrew University, Jerusalem format</a>
     </li>
     <li class="itemize"><a 
href="#sio_magic.py" >Scripps Institution of Oceanography format</a>
     </li>
     <li class="itemize"><a 
href="#LDEO_magic.py" >Lamont Doherty Earth Observatory format</a>
     </li>
     <li class="itemize"><a 
href="#IODP_csv_magic.py" >IODP rock magnetometer (SRM) data downloaded from the LIMS
     database</a>
     </li>
     <li class="itemize"><a 
href="#PMD_magic.py" >PMD (ascii) format</a>
     </li>
     <li class="itemize"><a 
href="#TDT_magic.py" >ThellierTool format</a></li></ul>
<!--l. 539--><p class="indent" >   <a name='anisotropy_files'></a> <span 
class="cmbx-10x-x-109">Anisotropy of Magnetic Susceptibility files:</span>
                                                                     

                                                                     
     <ul class="itemize1">
     <li class="itemize"><a 
href="#s_magic.py" >The 6 tensor element format (.s)</a>
     </li>
     <li class="itemize"><a 
href="#KLY4S_magic.py" >LabView program</a> of Gee et al. 2008
     </li>
     <li class="itemize"><a 
href="#k15_magic.py" >15 measurement convention of Tauxe 1998 </a>
     </li>
     <li class="itemize"><a 
href="#SUFAR4-asc_magic.py" >SUFAR 4.0 ascii output for Kappabridge</a></li></ul>
<!--l. 550--><p class="indent" >   <a name='Hysteresis_file_formats'></a>
<!--l. 551--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-240004.1.2" id="x1-240004.1.2">Hysteresis file formats</a></h5>
<!--l. 552--><p class="noindent" >MagIC.py will import hysteresis data from room temperature Micromag
alternating gradient magnetometers (AGM) in several different ways. You can
import either hysteresis loops or backfield curves, or you can import
whole directories of the same. In the latter case, the file endings must be
either .agm (.AGM) or .irm (.IRM) and the first part of the file must
be the specimen name. See the documentation for <a 
href="#AGM_magic.py" >AGM_magic.py</a> for
examples.
<!--l. 557--><p class="noindent" >
<!--l. 557--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-250004.1.2" id="x1-250004.1.2">Prior interpretations</a></h5>
<!--l. 559--><p class="noindent" >If you already have a <a 
href="#mk_redo.py" >PmagPy &#8220;redo&#8221;</a> file, you can import it into the MagIC
folder with this option.
<!--l. 561--><p class="indent" >   Many investigators are used to their own data analysis routines (e.g., LSQ
and PMM). These are not supported at this time. If you have example files and
want to see them supported within MagIC.py, please send them to me at:
ltauxe@ucsd.edu.
<!--l. 564--><p class="indent" >   Now you&#8217;ve collected together all the files you need, we can start importing
them into <span 
class="cmti-10x-x-109">MagIC </span>directory with <span 
class="cmbx-10x-x-109">MagIC.py</span>.
<!--l. 566--><p class="noindent" >
<!--l. 566--><p class="indent" >   <a name='subsubsec4-1-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-260004.1.2" id="x1-260004.1.2">Import MagIC formatted file</a></h5>
                                                                     

                                                                     
<!--l. 568--><p class="noindent" >There are a number of other datafiles necessary for uploading into the MagIC
database, such as the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_locations.txt, er</span><span 
class="cmti-10x-x-109">_ages.txt, er</span><span 
class="cmti-10x-x-109">_citations.txt</span>, etc. files.
These tab delimited text files can be created with Excel (or other program) and
imported into your MagIC folder with this option.
<!--l. 570--><p class="noindent" >
<!--l. 570--><p class="indent" >   <a name='sec4-2'></a><h3 class="sectionHead"><span class="titlemark">4.2   </span> <a 
href="#QQ2-1-27" id="x1-270004.2">Using the MagIC.py GUI</a></h3>
<!--l. 571--><p class="noindent" >The MagIC.py graphical user interface is a Python program that facilitates
importing of measurement data and sample information (location, orientation,
etc.) into the MagIC format and interpretation thereof. It will help prepare all
the files into a text format that can be imported directly into a <a 
href="http://earthref.org/cgi-bin/help.cgi?lib=magic\hskip 2em\relax &id=140" >MagIC
smartbook</a>. MagIC.py copies files to be uploaded into a special project MagIC
directory, translates them into the MagIC format and keeps track of things in
various log files. Note that when it does this, it will translate them into a Unix
file format (from MacOS and Windows file formats) so you don&#8217;t have to.
Once the <a 
href="#Project_Directory" >MagIC project directory</a> has been created, you should just
leave it alone. Assuming you have placed all the needed files (orient.txt
formatted files for each location and the measurement data files) in the
<span 
class="cmti-10x-x-109">MyFiles </span>directory, open up a <a 
href="#command_line"  >terminal window</a> and type MagIC.py on the
command line. Select the MagIC directory in your <a 
href="#Project_Directory" >Project Directory</a> when
prompted.
<!--l. 573--><p class="indent" >   <a name='FileMenu'></a>
<!--l. 574--><p class="indent" >   <a name='subsec4-2-1'></a><h4 class="subsectionHead"><span class="titlemark">4.2.1   </span> <a 
href="#QQ2-1-28" id="x1-280004.2.1">The File menu</a></h4>
<!--l. 575--><p class="noindent" >Different operating systems will have a different look, but all versions will put up
a Welcome window when you have fired up the program MagIC.py. When you
pull down the &#8221;File&#8221; menu, you will see these options either on the top of
your Desktop (Mac OS) or on the top of the window itself (Windows
version):
<!--l. 577--><p class="indent" >   <img 
src="PmagPy19x.png" alt="PIC" class="graphics" width="426.79134pt" height="82.1958pt" ><!--tex4ht:graphics  
name="PmagPy19x.png" src="EPSfiles/FileMenu.eps"  
-->
                                                                     

                                                                     
     <ul class="itemize1">
     <li class="itemize">Change Project MagIC Directory: Allows you to switch the Project
     Directory that you are working in without exiting the program.
     </li>
     <li class="itemize">Clear Project MagIC Directory: Erases all files in the current directory
     - be careful with this one!
     </li>
     <li class="itemize">Unpack Downloaded txt file: After downloading a text file from the
     MagIC website, you can unpack the contents into a MagIC project
     directory and work on it using the PmagPy software using this option.
     This link calls the program <a 
href="#download_magic.py" >download_magic.py</a>.
     </li>
     <li class="itemize">Exit: Quits the MagIC.py program.</li></ul>
<!--l. 586--><p class="indent" >   <a name='ImportMenu'></a>
<!--l. 587--><p class="indent" >   <a name='subsec4-2-2'></a><h4 class="subsectionHead"><span class="titlemark">4.2.2   </span> <a 
href="#QQ2-1-29" id="x1-290004.2.2">The Import Menu</a></h4>
<!--l. 588--><p class="noindent" >When you pull down the &#8220;Import&#8221; menu, you will see these options:
<!--l. 590--><p class="indent" >   <img 
src="PmagPy20x.png" alt="PIC" class="graphics" width="426.79134pt" height="161.91238pt" ><!--tex4ht:graphics  
name="PmagPy20x.png" src="EPSfiles/ImportMenu.eps"  
-->
<!--l. 592--><p class="noindent" >
<!--l. 592--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-300004.2.2" id="x1-300004.2.2">Importing field and sampling information</a></h5>
<!--l. 593--><p class="noindent" >Under the &#8216;Orientation/location/stratigraphic files&#8217; menu, you will find:
<a name='ImportOrient'></a>
                                                                     

                                                                     
     <ul class="itemize1">
     <li class="itemize">orient.txt format: imports <a 
href="#field_info" >orient.txt</a> files by calling the program
     <a 
href="#orientation_magic.py" >orientation_magic.py</a>. The GUI first copies your file into the MagIC Project
     Directory, presents you with a few forms to fill out and then generates the
     correct switches for the command line call.
          <ul class="itemize2">
          <li class="itemize">Select orientation file: choose your orient.txt file from MyFiles
          </li>
          <li class="itemize">Select  naming  convention:  Here  you  explain  the  relationship
          between your sample name and the site name. (see <a 
href="#naming_schemes" >supported
          naming schemes</a> for more info).
          </li>
          <li class="itemize">Select  orientation  convention...:  Choose  the  transformation  of
          your <a 
href="#orientation_schemes" >field convention</a> to the Lab arrow (the direction of the &#8217;X&#8217;
          arrow used in measurements. Also, choose whether you want to
          use the IGRF value calculated by PmagPy for the site latitude,
          longitude  and  date,  or  you  want  to  supply  your  own  blanket
          correction to all data in the file. You can also supply the correct
          azimuth in the file and perform no further corrections (DEC=0
          option). If the GUI finds sun compass information, it will ask you
          how many hours to ADD to the time given in the file to get to
          Greenwich Mean Time (GMT).
          </li>
          <li class="itemize">Select  method  codes:  Choose  which  <a 
href="#method_codes" >method  codes</a>  should  be
          attached to ALL samples. For example, if they were all drilled in
          the field, then check &#8217;FS-FD&#8217;.
          </li>
          <li class="itemize">Update   and   append...:   If   the   GUI   detects   an   existing
          <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file from a previous import, it will ask if you want
          to overwrite it (select no) or append to it - note that sample
          names used before will be overwritten in any case.</li></ul>
     <!--l. 604--><p class="noindent" >The GUI will then generate a call with the appropriate switches and your
     orientation data will be imported. NOTE: If you have already combined
     your measurements files into the master <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file AND
     you have changed site designations using the site_name option in the
     <span 
class="cmti-10x-x-109">orient.txt </span>file, you should select &#8220;Update measurements&#8221; to change the site
     names in that file (these get propagated all the way down the line, so it is
     important to do this step correctly.
                                                                     

                                                                     
     </li>
     <li class="itemize">AzDip format: imports <a 
href="#AZDIP" >AzDip</a> format files with the <a 
href="#azdip_magic.py" >azdip_magic.py</a>
     program. Select <a 
href="naming_schemes" >naming convention</a> and <a 
href="#method_codes" >method codes</a> as before. The
     orientation is assumed to be the azimuth and plunge of the samples Z
     direction. This procedure will only update the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file and
     will not have any location information, so you should convert the
     er_samples.txt file created into an <span 
class="cmti-10x-x-109">orient.txt </span>file using the method
     outlined <a 
href="#samp2orient" >below</a>, file in the required fields and re-import that into
     the MagIC directory (be sure to <a 
href="#updatemeas" >update</a> your measurements file.
     <a name='IODP_core_summary'></a>
     </li>
     <li class="itemize">IODP Core Summary csv file: Imports the <a 
href="#LIMS" >IODP</a> core summary files
     downloaded from the <a 
href="http://web.iodp.tamu.edu/WTR/html/" >LIMS</a> database website.
     </li>
     <li class="itemize">IODP Sample Summary csv file: Imports the <a 
href="#LIMS" >IODP</a> sample summary file
     downloaded from the <a 
href="http://web.iodp.tamu.edu/WTR/html/" >LIMS</a> database website. This will append to an
     existing data file, keeping only unique sample names.
     </li>
     <li class="itemize">Import model latitude data file: A &#8216;model latitude&#8217; is a latitude inferred
     from either inclination data, or some plate tectonic reconstruction. This file
     can be used to calculate for example, virtual axial dipole moments
     (VADMs), or, with the model longitude, a VGP. Use this option to copy a
     file with the format: er_site_name model_lat model_lon, where the
     model_lat is the model latitude and the (optional) model_lon is the model
     longitude. This will be copied into the project directory under the name
     <span 
class="cmti-10x-x-109">model</span><span 
class="cmti-10x-x-109">_lat.txt</span>.</li></ul>
<!--l. 614--><p class="noindent" >
<!--l. 614--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-310004.2.2" id="x1-310004.2.2">Importing magnetometer data</a></h5>
<!--l. 616--><p class="noindent" >Under &#8216;Magnetometer files&#8217;, you will find a variety of file formats described in
the section on <a 
href="#magnetometer_files" >magnetometer files</a>. Each of these has an idiosyncratic
interface. Some allow importing of entire directories at once, while others
import data file by file. Be sure to <a 
href="#combine_measurements" >combine your measurements</a> after
you finish importing all your measurements, before proceeding to data
analysis.
<!--l. 622--><p class="indent" >   <a name='SIO'></a>
                                                                     

                                                                     
     <ul class="itemize1">
     <li class="itemize">SIO format: This option will generate a command line call to the program
     <a 
href="#sio_magic.py" >sio_magic.py</a>. There are many options for laboratory procedures, naming
     conventions and so on and the MagIC.py GUI attempts to walk you
     through the process with as little pain as possible.
          <ul class="itemize2">
          <li class="itemize">Select  <a 
href="#naming_schemes" >naming  convention</a>:  Here  you  explain  the  relationship
          between your sample name and the site name.
          </li>
          <li class="itemize">Fill in the following information: Ylou should really really fill
          in the location name for this file - it will save you time later if
          you want to upload your data into the MagIC database. If your
          specimen/sample relationship is simply to add some characters
          to te end of your sample name (for example specimen mc144a1
          belongs to sample mc144a), fill in the number of characters you
          use (unless it is &#8217;1&#8217; as in this case, because that is the default).
          If  you  have  some  complicated  system  (for  example  specimen
          &#8216;##$%&amp;%&#8216; belongs to sample &#8216;Harry&#8217;, I can&#8217;t help you here and
          you&#8217;ll have to fill out all the sample names later by hand. (That
          should teach you a lesson).
          <!--l. 629--><p class="noindent" ><img 
src="PmagPy21x.png" alt="PIC" class="graphics" width="426.79134pt" height="223.13266pt" ><!--tex4ht:graphics  
name="PmagPy21x.png" src="EPSfiles/make_sio.eps"  
-->
          <!--l. 631--><p class="noindent" >You should also check one of the lab protocols you used.
                                                                     

                                                                     
              <ul class="itemize3">
              <li class="itemize">If these data were ARMs, check the AF box and fill in the
              peak AF and dc field values to the right. If the lab field
              direction was not along -Z, then fill in what it was.
              </li>
              <li class="itemize">If  the  data  included  TRMs  from  a  Thellier  or  TRM
              anisotropy experiment, fill in the DC field and orientation
              (but not the peak AF field.)
              </li>
              <li class="itemize">If the data were for a TRM acquisition experiment, check the
              TRM box (but not the &#8217;T&#8217; box).
              </li>
              <li class="itemize">If these data were part of an anisotropy experiment, check
              the &#8217;ANI&#8217; box and the appropriate AF, T, I box for the type
              of remanence anisotropy experiment it was.
              </li>
              <li class="itemize">If the data were IRMs check that box. If the treatment values
              were in volts on an ASC impulse coil, give the coil number
              (1,2, or 3) in the appropriate box.
              </li>
              <li class="itemize">If  the  data  were  part  of  a  Lowrie  3D-IRM  experiment
              (Lowrie, 1990), then check that box.</li></ul>
          </li></ul>
     </li>
     <li class="itemize">2G format: This import procedure generates calls to <a 
href="#2G_bin_magic.py" >2G_bin_magic.py</a>. It
     differs from that for <a 
href="#SIO" >SIO</a> formatted in several ways:
          <ul class="itemize2">
          <li class="itemize">Because  2G  files  contain  measurements  for  single  specimens,
          there is usually a directory with many files. Importing each file
          individually is painful, so MagIC.py asks for the directory name
          and imports ALL files with file endings of .dat or .DAT.
          </li>
          <li class="itemize">No lab protocol need be specified.
          </li>
          <li class="itemize">You  create  an  <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file  from  the  magnetometer  file.
          For  that  you  should  specify  at  least  the  orientation  method
          used (e.g., magnetic, sun or sighting), otherwise it is assumed
                                                                     

                                                                     
          that  these  are  unoriented  samples.  The  <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sample.txt  </span>file  is
          very minimalist, having no lithology information, required for a
          MagIC database contribution. So after importing the files, you
          should use the <a 
href="#samp2orient" >Convert samples =<span 
class="cmmi-10x-x-109">&#x003E; </span>orient.txt</a> option, file in the
          required information following the instructions in Section&#x00A0;<a 
href="#x1-200004.1.2">4.1.2<!--tex4ht:ref: sect:field_info --></a>,
          then re-import it into your Project Directory.</li></ul>
     </li>
     <li class="itemize">LDEO format: This import procedure is identical to that for <a 
href="#SIO" >SIO</a> formatted
     files but generates calls for <a 
href="#LDEO_magic.py" >LDEO_magic.py</a>.
     </li>
     <li class="itemize">CIT format: This format is the &#8216;CIT&#8217; format used by Craig Jone&#8217;s <span 
class="cmbx-10x-x-109">PaleoMag </span>software
     package (<a 
href="http://cires.colorado.edu/people/jones.craig/PMag3.html" class="url" ><span 
class="cmtt-10x-x-109">http://cires.colorado.edu/people/jones.craig/PMag3.html</span></a>).
     <span 
class="cmbx-10x-x-109">MagIC.py </span>generates calls to the program <a 
href="#CIT_magic.py" >CIT_magic.py</a>. The GUI import
     option behaves in a similar fashion to the <a 
href="#SIO" >SIO format</a> import, but you don&#8217;t
     specify lab protocol and you can specify method codes. In the absence of
     method codes, it is assumed the samples were oriented with magnetic
     compass.
     </li>
     <li class="itemize">HUJI format: This import procedure is identical to that for <a 
href="#SIO" >SIO</a> formatted
     files but generates calls for <a 
href="#HUJI_magic.py" >HUJI_magic.py</a>.
     </li>
     <li class="itemize">IODP format: This is a pretty simple operation. Select the file downloaded
     from the <a 
href="#LIMS" >LIMS</a> database and choose whether you want to average replicate
     measurements or not. This makes a call to <a 
href="#IODP_csv_magic.py" >IODP_csv_magic.py</a> to do the
     dirty work.
     </li>
     <li class="itemize">PMD (Enkin) format: This import procedure is identical to that for <a 
href="#2G-bin" >2G
     binary files</a> except it makes calls to <a 
href="#PMD_magic.py" >PMD_magic.py</a>.
     </li>
     <li class="itemize">TDT format: This import procedure is similar to that for <a 
href="#SIO" >SIO</a> formatted
     files, generating calls to <a 
href="#TDT_magic.py" >TDT_magic.py</a>. Obviously, you would check the
     box labelled T and none of the others! If you want to specify the lab field
     direction (which may not be parallel to -Z as in the SIO lab, you also have
     to specify the lab field strength in <span 
class="cmmi-10x-x-109">&#x03BC;</span>T, even though it is in the
     file.
     </li></ul>
                                                                     

                                                                     
<!--l. 671--><p class="noindent" >
<!--l. 671--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-320004.2.2" id="x1-320004.2.2">Importing Anisotropy of magnetic susceptibility data</a></h5>
<!--l. 673--><p class="noindent" >Under the Anisotropy import menu you will find:
     <ul class="itemize1">
     <li class="itemize"><a 
href="#KLY4S_magic.py" >LabView  program</a>  of  Gee  et  al.  2008:  You  first  select  the  KLY4S
     format input file then the <a 
href="#naming_schemes" >naming convention</a>. After that, input your
     Location name (strongly encouraged), the measurer (optional), the
     number of characters to distinguish specimen from sample and the
     instrument  used  (optional).  <a 
href="#Combining_measurement_files" >Combine</a>  your  measurement  files  when
     your are through, to plot versus depth file or as equal area projections
     (suitable sample <a 
href="#ImportOrient" >orientation</a> required).
     </li>
     <li class="itemize"><a 
href="#k15_magic.py" >15 measurement file format of Tauxe 1998: </a> This import procedure is
     the same as for the KLY4S file format.
     </li>
     <li class="itemize"><a 
href="#SUFAR4-asc_magic.py" >SUFAR 4.0 ascii output for Kappabridge</a>: This import procedure is
     the same as for the KLY4S file format.
     </li></ul>
<!--l. 686--><p class="indent" >   <a name='ImportHysteresis'></a>
<!--l. 687--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-330004.2.2" id="x1-330004.2.2">Importing hysteresis data</a></h5>
<!--l. 690--><p class="noindent" >There are two different modes for importing hysteresis/backfield data: by file or
by directory. For the former:
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-33002x1">Select the file.
     </li>
     <li 
  class="enumerate" id="x1-33004x2">Select the <a 
href="#naming_schemes" >naming convention</a>.
     </li>
     <li 
  class="enumerate" id="x1-33006x3">Enter the location name, optional measurer, and instrument name,
     and the specimen name and number of characters to delineate the
     specimen from the sample.
                                                                     

                                                                     
     </li>
     <li 
  class="enumerate" id="x1-33008x4">Indicate whether the file is in cgs or SI units and whether this was an
     IRM backfield experiment</li></ol>
<!--l. 698--><p class="indent" >   For importing whole directories: Your file names must follow the convention
described in the section on <a 
href="#Hysteresis_file_formats" >hysteresis file formats</a>. Follow the same steps as
before, but you will not be asked for a specimen name or whether the
data are from backfield experiments as these are supplied by the file
names.
<!--l. 700--><p class="indent" >   To combine all the data together, select <a 
href="#Combining_measurement_files" >Combining measurement
files</a>.
<!--l. 707--><p class="indent" >   <a name='Combining_measurement_files'></a>
<!--l. 708--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-340004.2.2" id="x1-340004.2.2">Combining measurement files</a></h5>
<!--l. 709--><p class="noindent" >Each time you import a measurement file, you create a MagIC version of the
imported data file with the same name, but a .magic appended to the end.
These filenames are stored in the file <span 
class="cmti-10x-x-109">measurements.log</span>. After you have
completed importing all your measurement files, you must combine them
together into a single <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file in order to use the other
functions in MagIC.py. Just select this option and everything will be done for
you.
<!--l. 713--><p class="noindent" >
<!--l. 713--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-350004.2.2" id="x1-350004.2.2">Creating an orient.txt file from er_samples</a></h5>
<!--l. 714--><p class="noindent" ><a name='samp2orient'></a>
<!--l. 716--><p class="indent" >   This option makes a call to <a 
href="#convert_samples.txt" >convert_samples.txt</a> to convert the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt</span>
file created by some import procedures into an <span 
class="cmti-10x-x-109">orient.txt </span>file which can
be filled in as desired. It can be re-imported by <a 
href="#ImportOrient" >importing orientation</a>
information. After re-importing the orient.txt file, you should update your
measurements.
<!--l. 718--><p class="indent" >   <a name='updatemeas'></a>
<!--l. 719--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-360004.2.2" id="x1-360004.2.2">Update measurements:</a></h5>
<!--l. 721--><p class="noindent" >Update your <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file with new site/location information by
calling the program <a 
href="#update_measurements.py" >update_measurements.py</a>. This should be done after
<a 
href="#ImportOrient" >importing a new <span 
class="cmti-10x-x-109">orient.txt </span>file</a>.
                                                                     

                                                                     
<!--l. 724--><p class="noindent" >
<!--l. 724--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-370004.2.2" id="x1-370004.2.2">Importing prior interpretations</a></h5>
<!--l. 725--><p class="noindent" >Many people prefer to use the software package that they are familiar
with (e.g., <a 
href="#PMD_magic.py" >PaleoMac software of Cogn, 2003)</a>, <a 
href="#CIT_magic.py" >Craig Jones&#8217; <span 
class="cmbx-10x-x-109">PaleoMag</span>
software</a>, or even previously processed Pmag (Tauxe, 1998) or PmagPy
(Tauxe et al., 2010) softare and have generated files containing favorite
interpretations of the paleomagnetic data. MagIC.py can import these
interpretation files, allowing the user to skip re-analysis and proceed
directly to preparation of files for uploading, or re-interpretation of data
files using PmagPy starting with the prior interpretations as a basis.
In any case, the following interpretation files are supported (or could
be):
<!--l. 727--><p class="indent" >   <a name='import_redo'></a>
     <ul class="itemize1">
     <li class="itemize">PmagPy    redo    file:    This    option    copies    the    files    used
     by <a 
href="#zeq_redo.py" >zeq_magic_redo.py</a>, <a 
href="#thellier_gui.py" >thellier_gui.py</a> and <a 
href="#thellier_magic_redo.py" >thellier_magic_redo.py</a> and
     then runs them (see documentation in <a 
href="#mk_redo.py" >mk_redo.py</a> for file formats.
     This will overwrite any existing interpretation files (<span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimen.txt</span>
     or <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_specimens.txt</span>) files you may have created already, so be
     careful!  Also,  this  is  the  main  way  that  the  <a 
href="#thellier_gui.py" >thellier_gui.py</a>  shares
     information with the MagIC.py GUI, so import the redo file generated
     by the auto-interpreter (e.g., <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_interpreter</span><span 
class="cmti-10x-x-109">_STDEV-OPT</span><span 
class="cmti-10x-x-109">_redo</span>
     with this option and you will be able to use them within the MagIC.py
     GUI.
     </li>
     <li class="itemize">DIR: Not supported at this time =<span 
class="cmmi-10x-x-109">&#x003E; </span>if desired send example file to
     ltauxe@ucsd.edu
     </li>
     <li class="itemize">LSQ: Not supported at this time =<span 
class="cmmi-10x-x-109">&#x003E; </span>if desired send example file to
     ltauxe@ucsd.edultauxe@ucsd.edu
     </li>
     <li class="itemize">PMM: Not supported at this time =<span 
class="cmmi-10x-x-109">&#x003E;</span>if desired send example file to
     ltauxe@ucsd.edu
     </li></ul>
<!--l. 737--><p class="indent" >   <a name='ImportMagIC'></a>
                                                                     

                                                                     
<!--l. 738--><p class="indent" >   <a name='subsubsec4-2-2-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-380004.2.2" id="x1-380004.2.2">Copying over your MagIC formatted files</a></h5>
<!--l. 739--><p class="noindent" >If you have already some MagIC tables ready, you can import them into
your MagIC folder with this option. For example, you might have
a previous set of specimen interpretations in a <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen.txt </span>file,
or age information (in an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_ages.txt </span>file. All age information specific
to a give sample or site can be documented in an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_ages.txt </span>file (see
<a 
href="http://earthref.org/MAGIC/metadata.htm" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/metadata.htm</span></a>). These will be assembled with the
respective site/samples in the results table when you <a 
href="#PrepareMagicConsole" >assemble your results</a>. Other
examples might be a location table (<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_locations.txt</span>) or a citation table
(<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_citations.txt</span>).
<!--l. 741--><p class="indent" >   This option will copy your <a 
href="#DataTables" >MagIC</a> formatted file into the MagIC Project
Directory. Be sure to use the standard file names or the MagIC GUI will ignore
them.
<!--l. 743--><p class="indent" >   <a name='AnalysisPlotsMenu'></a>
<!--l. 744--><p class="indent" >   <a name='subsec4-2-3'></a><h4 class="subsectionHead"><span class="titlemark">4.2.3   </span> <a 
href="#QQ2-1-39" id="x1-390004.2.3">Analysis and Plots Menu</a></h4>
<!--l. 746--><p class="noindent" >After you have imported your various datafiles, you can process them using the
tools in the <a 
href="#AnalysisPlotsMenu" >Analysis and Plots menu</a>. All of these options generate and execute
command line calls for various <a 
href="#PmagPy" >PmagPy</a> programs. The <span 
class="cmbx-10x-x-109">MagIC.py </span>GUI uses
default options because it &#8220;knows&#8221; the names of the files it has created, saving
you from having to figure that out. Many of these options require you
to type things in on the command line, such as &#8217;a&#8217; to s[a]ve plots, &#8217;q&#8217;
to quit, or simply return to increment the specimen name. Follow the
instructions for the specific program that are printed in the terminal
window (see also the documentation in the section on <a 
href="#PmagPy" >PmagPy</a> programs).
Once the program has exited, control will be returned to the MagIC.py
GUI.
<!--l. 748--><p class="indent" >   <a name='customize_criteria'></a>
     <ul class="itemize1">
     <li class="itemize">Customize Criteria: here you can change your criteria for acceptance
     or rejection of data.
     </li>
     <li class="itemize">Demagnetization Data: calls the program <a 
href="#zeq_magic.py" >zeq_magic.py</a>. It reads in the
     <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file created when you <a 
href="#Combining_measurement_files" >combine</a> your imported
     measurement files. If you have <a 
href="#ImportOrient"  >imported orientation</a> information, it
     will make the plots using the geographic coordinate system.
                                                                     

                                                                     
     </li>
     <li class="itemize">Thellier-type experiments: There are two options here. The first calls
     the  program  <a 
href="#thellier_magic.py" >thellier_magic.py</a>  and  the  second  calls  <a 
href="#thellier_gui.py" >thellier_gui.py</a>.
     Both  read  in  the  <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt  </span>file  created  when  you
     <a 
href="#Combining_measurement_files" >combine</a>  your  imported  measurement  files.  The  <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_gui.py</span>
     program   works   a   little   differently   than   the   other   <span 
class="cmbx-10x-x-109">PmagPy</span>
     programs  in  that  the  output  interpretations  are  not  immediately
     available to <span 
class="cmbx-10x-x-109">MagIC.py </span>when you quit <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_gui.py</span>. To use the
     interpretations, for example from the auto-interpreter function, you
     must <a 
href="#import_redo" >i</a>mport the redo file as described under the Import menu. You will
     find the auto-interpreter redo file in the with the <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_interpreter</span>
     folder.
     </li>
     <li class="itemize">Equal area:
          <ul class="itemize2">
          <li class="itemize">Quick  look  -  NRM  directions:  This  option  first  fishes  out  all
          the NRM measurements from the <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file
          and  stores  them  in  a  file  called  <span 
class="cmti-10x-x-109">nrm</span><span 
class="cmti-10x-x-109">_measurments.txt</span>.  The
          measurement format is then converted to the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen.txt</span>
          format using <a 
href="#nrm_specimens_magic.py" >nrm_specimens_magic.py</a>, which also looks for an
          <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt  </span>file  and  performs  geographic  and  stratigraphic
          rotations as available. The GUI will ask for desired coordinate
          system  and  level  of  plotting  (by  location,  site,  sample,  etc.
          and then call the program <a 
href="#eqarea_magic.py" >eqarea_magic.py</a> to plot the NRM
          directions.
          </li>
          <li class="itemize">General remanence directions: You are given a choice of tables
          from <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>up to <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt</span>, depending on
          the desired level. You may also choose from among the available
          coordinate  systems  and  scope  of  the  plot(s)  (e.g.,  location,
          site, sample). There are several methods available for estimated
          confidence bounds for the data set including Fisher, Bingham,
          Kent or bootstrap. Plots are made with <a 
href="#eqarea_magic.py" >eqarea_magic.py</a>.
          </li>
          <li class="itemize">Anisotropy  data  -  equal  area  plots:  makes  plots  with  the
          <a 
href="#aniso_magic.py" >aniso_magic.py</a> program. You can choose the scope of the plot
          and the method for estimating confidence intervals.
          </li>
                                                                     

                                                                     
          <li class="itemize">Hysteresis data: calls <a 
href="#hysteresis_magic.py" >hysteresis_magic.py</a> to plot the data that
          you <a 
href="#ImportHysteresis" >imported</a> and <a 
href="#Combining_measurement_files" >combined</a> into a <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file.
          It  generates  a  file  <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_hysteresis.txt  </span>with  all  the  hysteresis
          parameters calculated by the program. These can be plotted using
          the &#8217;Hysteresis ratio plots&#8217; command.
          </li>
          <li class="itemize">Hysteresis ratio plots: This calls <a 
href="#dayplot_magic.py" >dayplot_magic.py</a> to make plots
          of hysteresis ratios and the like in the <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_hysteresis.txt </span>file
          created by <a 
href="#hysteresis_magic.py" >hysteresis_magic.py</a>.
          </li>
          <li class="itemize">IRM  acquisition:  This  calls  <a 
href="#irmaq_magic.py" >irmaq_magic.py</a>  to  make  plots
          of   IRM   acquisition   and   back   field   curves.   It   uses   the
          <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt  </span>file  created  when  you  <a 
href="#Combining_measurement_files" >combine</a>  your
          imported IRM data.
          </li>
          <li class="itemize">3D-IRM  experiment:  makes  plots  of  the  3D-IRM  experiment
          of  Lowrie  (1990),  using  the  program  <a 
href="#lowrie_magic.py" >lowrie_magic.py</a>.  It  uses
          the <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file created when you <a 
href="#Combining_measurement_files" >combine</a> your
          imported 3D-IRM data and allows the option to normalize the
          intensity data by the NRM.
          </li>
          <li class="itemize">Remanence  versus  depth/height:  makes  plots  using  a  call  to
          <a 
href="#core_depthplot.py" >core_depthplot.py</a>.  The  GUI  allows  customization  of  the  plot
          with  choice  of  data  type  (inclination,  declination,  etc.),  time
          scale, depth scale, and customization of plot symbols. If you have
          imported a <a 
href="#IODP_core_summary" >core summary file</a>, you can plot the core tops as well.
          There is a choice of depth scales with a common depth scale (mcd)
          as an option.
          </li>
          <li class="itemize">Anisotropy  data  versus  depth/height:  makes  plots  using  a
          call  to  <a 
href="#ani_depthplot.py" >ani_depthplot.py</a>,  reading  the  <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy.txt  </span>and
          <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>files in the Project Directory.</li></ul>
     </li>
     <li class="itemize">Reversals test: performs a bootstrap reversals test with the <a 
href="#revtest_magic.py" >revtest_magic.py</a>
     program. You can choose coordinate system and selection criteria.
     </li>
     <li class="itemize">Fold test: performs a fold test with <a 
href="#foldtest_magic.py" >foldtest_magic.py</a> and allows choice of
                                                                     

                                                                     
     selection critieria. Note - it takes a while so be patient and you need to
     have <a 
href="#ImportMenu" >imported</a> structural corrections.
     </li></ul>
<!--l. 772--><p class="indent" >   <a name='PrepareMagicConsole'></a>
<!--l. 773--><p class="indent" >   <a name='subsec4-2-4'></a><h4 class="subsectionHead"><span class="titlemark">4.2.4   </span> <a 
href="#QQ2-1-40" id="x1-400004.2.4">Prepare for MagIC Console</a></h4>
<!--l. 774--><p class="noindent" >Once all your data have been imported and interpreted using one of the
interpretation tools outlined in the section on <a 
href="#AnalysisPlotsMenu" >Analysis and Plots</a>, you can
assemble the results into the various <a 
href="#DataTables" >tables</a> expected by MagIC, e.g., the
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens, pmag</span><span 
class="cmti-10x-x-109">_samples, pmag</span><span 
class="cmti-10x-x-109">_sites </span>and <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results </span>tables (also various
rock magnetic tables, if available).
     <ul class="itemize1">
     <li class="itemize">Assemble                              specimens:                              The
     various programs for interpreting measurement data like <a 
href="#zeq_magic.py" >zeq_magic.py</a>
     or <a 
href="#thellier_magic.py" >thellier_magic.py</a> produce <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>formatted files with
     names like <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimens.txt </span>or <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_specimens.txt</span>. The directional
     data should be recalculated for various coordinate systems and the
     intensity data corrected for anisotropy corrections and the like. All of
     these data need to be assembled into a single <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>file,
     which is what this option does. <a name='AssembleResults'></a>
     </li>
     <li class="itemize">Assemble results: After assembling the specimen data into a single
     <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>file, data must be averaged by sample and/or by site
     and stored in <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_sample.txt </span>and <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_site.txt </span>tables. The directional
     data can be converted to VGPs and intensities into V[A]DMs, which are
     kept in the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>table. Study level averages such as
     paleomagnetic pole positions can be calculated. All of these operations are
     carried out by the program <a 
href="#specimens_results_magic.py" >specimens_results_magic.py</a>.
          <ul class="itemize2">
          <li class="itemize">You have a choice of selection criteria (default, existing (created
          with the <a 
href="#customize_criteria" >customize criteria</a> option, and none).
          </li>
          <li class="itemize">For  many  applications,  data  are  normally  averaged  first  by
          sample, then by site and this is the default. But and argument
          could be made that in certain circumstances (e.g., with intensity
                                                                     

                                                                     
          data in which each specimen is independent of the other), site
          averages could be made using all the specimen data together and
          not averaging by sample. Choose -aD to average directions by site
          and not by sample and -aI to average intensities by site and not
          by sample. Also, choose -sam to calculate sample level VGPs and
          VADMs if desired. Otherwise, the program will do this for site
          level data onlly.
          </li>
          <li class="itemize">For calculating VDMs, you need oriented inclinations and for
          VADMs, you need a latitude. The latitude can be the present
          latitude  or  a  reconstructed  paleolatitude  (model  latitude).  To
          choose the present latitude, select &#8217;-lat&#8217; or <a 
href="#ImportMenu" >import</a> a model latitude
          file and choose that option.
          </li>
          <li class="itemize">The -p option lets you look at the data site by site to check if
          there are terrible errors. If you want to reconsider some of the
          sample orientations, for example, you should use the option in
          the <a 
href="#Utitlities" >Utitlities menu</a> to check the sample orientations for common
          mistakes.
          </li>
          <li class="itemize">You  can  just  skip  the  directional  (-xD)  or  intensity  (-xI)
          calculations if they are not relevant (this speeds things up a bit).
          </li>
          <li class="itemize">If you want to calculate normal and reverse means for the study,
          select -pol.
          </li>
          <li class="itemize">You can choose which coordinate systems you want to include
          in the MagIC tables. The GUI sniffs through the options and
          presents them to you.
          </li>
          <li class="itemize">The MagIC database wants all non-synthetic data to have ages
          associated with them. Site/sample specific ages are entered using
          the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_ages.txt </span>table (imported in the Import er_ages option in
          the <a 
href="#er_ages" >Import Menu</a>, but age bounds for the study must be entered
          so that <a 
href="#specimens_results_magic.py" >specimens_results_magic.py</a> can assign age bounds for
          every result. The GUI therefore asks for these age bounds. Age
          units are a controlled vocabulary, so choose from this list: [Ga,
          ka, Ma, years AD (+/-), Years BP, Years Cal AD (+/-) Years
                                                                     

                                                                     
          Cal BP]. If you enter nothing, the default age bounds will be 0
          to 4.5 Ga.</li></ul>
     </li>
     <li class="itemize">Prepare upload txt file: The <a 
href="#Uploading" >MagIC Console</a> will import a specially
     formatted ascii file, parsing all the tables into their correct tabs and
     allowing you to proceed to the final steps of file preparation for
     uploading into the database. It will create an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_locations.txt </span>file for
     you based on what is in the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file. It will ask you for
     the missing required information. Then the GUI prepares a file
     called <span 
class="cmti-10x-x-109">upload</span><span 
class="cmti-10x-x-109">_dos.txt </span>which can be directly imported into the MagIC
     console.</li></ul>
<!--l. 795--><p class="indent" >   <a name='Utilities'></a>
<!--l. 796--><p class="indent" >   <a name='subsec4-2-5'></a><h4 class="subsectionHead"><span class="titlemark">4.2.5   </span> <a 
href="#QQ2-1-41" id="x1-410004.2.5">Utilities Menu</a></h4>
     <ul class="itemize1">
     <li class="itemize">Check   sample   orientations:   This   program   calls   the   program
     <a 
href="#site_edit_magic.py" >site_edit_magic.py</a>. It steps through the data site by site and allows
     you  to  evaluate  orientation  information,  testing  outliers  against
     specific, common field mistakes (arrow wrong direction, wrong scratch
     mark, etc.)
     </li>
     <li class="itemize">Extract Results to table for publication: After assembling your results,
     you can extract information from the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>file as an tab
     delimited (excel ready) file or as a (my favorite) LaTex formatted table.
     That way, the data in your publication will be identical to the data
     in the MagIC database (what a concept!). This option allows you to
     do that using the program <a 
href="#pmag_results_extract.py" >pmag_results_extract.py</a>. It will create two
     files: <span 
class="cmti-10x-x-109">Intensities.txt </span>and <span 
class="cmti-10x-x-109">Directions.txt</span>.
     </li>
     <li class="itemize">Map of VGPs: makes plots using <a 
href="#vgpmap_magic.py" >vgpmap_magic.py</a>, which reads from
     the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>file (where VGPs are stored). To get VGPs, you
     need to <a 
href="#AssembleResults" >assemble</a> your results first. If you <a 
href="#ImportMenu" >imported</a> orientation data,
     you can select the coordinate system. You can also choose whether
     or not to &#8216;flip&#8217; the reverse VGPs and the location of the &#8217;eye&#8217; in the
     orthographic plot.
                                                                     

                                                                     
     </li>
     <li class="itemize">Map  of  site  locations:  makes  plots  using  <a 
href="#basemap_magic.py" >basemap_magic.py</a>  which
     reads from the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file. Choosing high resolution requires that
     the <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution</a> datafile be installed. There are many more options
     available if you use the program on the command line - this is just for
     a &#8216;quick look&#8217;.
     </li>
     <li class="itemize">Make  IZZI  exp.  chart:  The  IZZI  paleointensity  experiment  (Tauxe
     and Staudigel, 2004) is a complicated protocol which requires some
     concentration to get the order of heating steps in the right order. This
     utility calls <a 
href="#chartmaker.py" >chartmaker.py</a> to make a chart to facilitate the laboratory
     procedure.
     </li>
     <li class="itemize">Expected   directions/paleolatitudes:   calls   <a 
href="#apwp.py" >apwp.py</a>   to   calculate
     paleodirectiions and paleolatitudes for a give location at a specified
     time, after assigning it a tectonic plate.</li></ul>
<!--l. 808--><p class="noindent" >
<!--l. 808--><p class="indent" >   <a name='subsec4-2-6'></a><h4 class="subsectionHead"><span class="titlemark">4.2.6   </span> <a 
href="#QQ2-1-42" id="x1-420004.2.6">Help Menu</a></h4>
<!--l. 810--><p class="noindent" >Takes you to the PmagPy Documentation website:
<!--l. 812--><p class="indent" >   <a 
href="http://earthref.org/PmagPy/Docs/PmagPy" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/Docs/PmagPy</span></a>.
<!--l. 814--><p class="indent" >   <a name='PmagPy'></a>
                                                                     

                                                                     
<!--l. 815--><p class="indent" >   <a name='ch5'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;5</span><br /><a 
href="#QQ2-1-43" id="x1-430005">The <span 
class="cmbx-10x-x-109">PmagPy </span>software package</a></h2>
   The <span 
class="cmbx-10x-x-109">PmagPy </span>software package is a comprehensive set of programs for
paleomagnetists and rock magnetists. Follow the instructions on the <a 
href="http://earthref.org/PmagPy" >PmagPy
home page</a>.
<!--l. 822--><p class="indent" >   When you type something on your <a 
href="#command_line" >command line</a>, your operating system
looks for programs of the same name in special places. These are special &#8220;paths&#8221;
so the directory with your Python scripts has to &#8220;be in your path&#8221;. To inform the
operating system of the new directory, you need to &#8220;set your path&#8221;. Follow the
instructions on the website: <a 
href="http://earthref.org/PmagPy/set_path.html" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/set_path.html</span></a> for
your particular system.
<!--l. 827--><p class="noindent" ><a name='sec5-1'></a><h3 class="sectionHead"><span class="titlemark">5.1   </span> <a 
href="#QQ2-1-44" id="x1-440005.1">General characteristics of PmagPy programs</a></h3>
<!--l. 829--><p class="noindent" ><span 
class="cmbx-10x-x-109">PmagPy </span>scripts work by calling them on a <a 
href="#command_line" >command line</a>. The python scripts
must be placed in a directory that is in your &#8220;path&#8221;. To see if this has
been properly done, type <span 
class="cmbx-10x-x-109">dir</span><span 
class="cmbx-10x-x-109">_cart.py -h </span>on the command line and you
should get a help message. If you get a &#8220;command not found&#8221; message,
you need to fix your path; check the &#8220;installing python&#8221; page on the
software website. Another possible cause for failure is that somehow, the
python scripts are no longer executable. To fix this, change directories
into the directory with the scripts, and type the command: chmod a+x
*.py
<!--l. 832--><p class="indent" >   For people who hate command line programs and prefer graphical user
interfaces with menus, etc., some of the key programs for interpreting
paleomagnetic and rock magnetic data are packaged together in a program called
<a 
href="#MagIC.py" >MagIC.py</a>. This can be invoked by typing <span 
class="cmbx-10x-x-109">MagIC.py </span>on the command line. The
<a 
href="#MagIC.py" >MagIC.py</a> program generates the desired commands for you, so you do not have
to learn UNIX or how to use the command line (except to call the <span 
class="cmbx-10x-x-109">MagIC.py</span>
program itself). Nonetheless, some understanding of what is actually happening
is helpful, because the <span 
class="cmbx-10x-x-109">MagIC.py </span>program is more limited than full range of
<span 
class="cmbx-10x-x-109">PmagPy </span>programs. So, here is a brief introduction to how the <span 
class="cmbx-10x-x-109">PmagPy</span>
programs work.
<!--l. 835--><p class="indent" >   All <span 
class="cmbx-10x-x-109">PmagPy </span>programs print a help message out if you type: <span 
class="cmbx-10x-x-109">program</span><span 
class="cmbx-10x-x-109">_name.py</span>
<span 
class="cmbx-10x-x-109">-h </span>on the command line. Many have an &#8220;interactive&#8221; option triggered by
typing <span 
class="cmbx-10x-x-109">program</span><span 
class="cmbx-10x-x-109">_name.py -i</span>. Many also allow reading from <a 
href="#standard_IO"  >standard
input and output</a>. The help message will explain how each particular
program functions. There are some common features for the command line
options:
     <ul class="itemize1">
                                                                     

                                                                     
     <li class="itemize">Switches are from one to three characters long, preceded by a &#8217;-&#8217;.
     </li>
     <li class="itemize">The  switch  &#8217;-h&#8217;  always  prints  the  help  message  and  &#8217;-i&#8217;  allows
     interactive entry of options.
     </li>
     <li class="itemize">Options for command line switches immediately follow the switch. For
     example: -f INPUT -F OUTPUT will set the input file to INPUT and
     the output to OUTPUT.
     </li>
     <li class="itemize">The switch for input files all start with -f and -F for output files.
     </li>
     <li class="itemize">-spc -sam -sit -syn -loc are switches relating to specimens, samples,
     sites, synthetics and locations respectively.
     </li>
     <li class="itemize">Capitalized switches suppress an option (e.g., -A means do not average,
     while -a means DO average).
     </li>
     <li class="itemize">-crd [s,g,t] sets the coordinate system
     </li>
     <li class="itemize">-fmt [svg,png,jpg] the default image format.
     </li>
     <li class="itemize">-sav saves the plots silently and quits the program</li></ul>
<!--l. 854--><p class="indent" >   The <span 
class="cmbx-10x-x-109">PmagPy </span>scripts call on two special modules, the <span 
class="cmbx-10x-x-109">pmag </span>and the
<span 
class="cmbx-10x-x-109">pmagplotlib </span>modules. These contain most of the calculations and plotting
functions.
<!--l. 856--><p class="indent" >   The source code and the help messages for all programs in the PmagPy
package are also available online at: <a name='pmagpydocs'></a> <a 
href="http://earthref.org/PmagPy/pmagpydocs" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/pmagpydocs</span></a>
<!--l. 860--><p class="indent" >   A link to these source code/help menu files is provided for each program
listed below with the format [program_name_docs].
<!--l. 863--><p class="indent" >   <a name='Examples'></a>
                                                                     

                                                                     
<!--l. 864--><p class="indent" >   <a name='sec5-2'></a><h3 class="sectionHead"><span class="titlemark">5.2   </span> <a 
href="#QQ2-1-45" id="x1-450005.2">Examples of how to use <span 
class="cmbx-10x-x-109">PmagPy </span>programs</a></h3>
<!--l. 867--><p class="noindent" >In all examples, the &#8217;%&#8217; prompt stands for whatever command line prompt you
have. Download the package containing example data files from:
<!--l. 870--><p class="indent" >   <a name='Datafiles'></a> <a 
href="http://earthref.org/PmagPy/Datafiles_2.0.zip" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/Datafiles_2.0.zip</span></a>
<!--l. 873--><p class="noindent" >and unzip the file. Data files for the following examples can be found in the
directory with the name of the program (except for measurement input files
which are all in the <span 
class="cmti-10x-x-109">Measurement</span><span 
class="cmti-10x-x-109">_Import </span>folder.
<!--l. 876--><p class="indent" >   <a name='aarm_magic.py'></a>
<!--l. 877--><p class="indent" >   <a name='subsec5-2-1'></a><h4 class="subsectionHead"><span class="titlemark">5.2.1   </span> <a 
href="#QQ2-1-46" id="x1-460005.2.1">aarm_magic.py</a></h4>
<!--l. 878--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/aarm_magic-module.html" >[aarm_magic docs]</a>
<!--l. 883--><p class="indent" >   Anisotropy of anhysteretic or other remanence can be converted to a tensor
and used to correct natural remanence data for the effects of anisotropy
remanence acquisition. For example, directions may be deflected from the
geomagnetic field direction or intensities may be biased by strong anisotropies
in the magnetic fabric of the specimen. By imparting an anhysteretic
or thermal remanence in many specific orientations, the anisotropy of
remanence acquisition can be characterized and used for correction. We do
this for anisotropy of anhysteretic remanence (AARM) by imparting an
ARM in 9, 12 or 15 positions. Each ARM must be preceded by an AF
demagnetization step. The 15 positions are shown in the <a 
href="#k15_magic.py" >k15_magic.py</a>
example.
<!--l. 888--><p class="indent" >   For the 9 position scheme, <span 
class="cmbx-10x-x-109">aarm</span><span 
class="cmbx-10x-x-109">_magic.py </span>assumes that the AARMs are
imparted in positions 1,2,3, 6,7,8, 11,12,13. Someone (a.k.a. Josh Feinberg) has
kindly made the measurements and saved them an <a 
href="#sio_magic.py" >SIO formatted measurement
file</a> named <span 
class="cmti-10x-x-109">arm</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>in the datafile directory called <span 
class="cmti-10x-x-109">aarm</span><span 
class="cmti-10x-x-109">_magic</span>.
Note the special format of these files - the treatment column (column #2) has
the position number (1,2,3,6, etc.) followed by either a &#8220;00&#8221; for the obligatory
zero field baseline step or a &#8220;10&#8221; for the in-field step. These could also be &#8216;0&#8216; and
&#8216;1&#8217;.
<!--l. 890--><p class="indent" >   We need to first import these into the magic_measurements format
and then calculate the anisotropy tensors. These can then be plotted
or used to correct paleointensity or directional data for anisotropy of
remanence.
<!--l. 892--><p class="indent" >   So, first use the program <a 
href="#sio_magic.py" ><span 
class="cmbx-10x-x-109">sio</span><span 
class="cmbx-10x-x-109">_magic.py</span></a> to import the AARM data into the
MagIC format. The DC field was 50 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T, the peak AC field was 180 mT, the
location was &#8216;Bushveld&#8217; and the lab protocol was AF and Anisotropy. The
                                                                     

                                                                     
naming convention used Option # 3 (see help menu).
<!--l. 894--><p class="indent" >   Then use the program <a 
href="#aarm_magic.py" >aarm_magic.py</a> to calculate the best-fit tensor and
write out the MagIC tables: <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy </span>and <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_results</span>. These files can be
used to correct remanence data in a <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens </span>format table (e.g, intensity
data) for the effects of remanent anisotropy (e.g., using the program
<a 
href="#thellier_magic.py" >thellier_magic_redo.py</a>.
<!--l. 896--><p class="indent" >   Here is a transcript of a session that works. Note that the <span 
class="cmbx-10x-x-109">sio</span><span 
class="cmbx-10x-x-109">_magic.py</span>
command is all on one line (which is what the terminal backslash means).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-6">
%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;arm_magic_example.dat&#x00A0;-loc&#x00A0;Bushveld&#x00A0;-LP&#x00A0;AF:ANI&#x00A0;-F&#x00A0;aarm_measurements.txt&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-ncn&#x00A0;3&#x00A0;-ac&#x00A0;180&#x00A0;-dc&#x00A0;50&#x00A0;-1&#x00A0;-1
&#x00A0;<br />
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;aarm_measurements.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;aarm_magic.py
&#x00A0;<br />specimen&#x00A0;tensor&#x00A0;elements&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./arm_anisotropy.txt
&#x00A0;<br />specimen&#x00A0;statistics&#x00A0;and&#x00A0;eigenparameters&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./aarm_results.txt
&#x00A0;<br />
</div>
<!--l. 909--><p class="nopar" >
<!--l. 913--><p class="indent" >   <a name='angle.py'></a>
<!--l. 914--><p class="indent" >   <a name='subsec5-2-2'></a><h4 class="subsectionHead"><span class="titlemark">5.2.2   </span> <a 
href="#QQ2-1-47" id="x1-470005.2.2">angle.py </a></h4>
<!--l. 914--><p class="noindent" >[<a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#Vector_multiplication" >Essentials Appendix A.3.4</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/angle-module.html" >[angle docs]</a>
<!--l. 918--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">angle.py </span>to calculate the angle (<span 
class="cmmi-10x-x-109">&#x03B1;</span>) between two directions
<span 
class="cmmi-10x-x-109">D </span>= 350<span 
class="cmmi-10x-x-109">.</span>2<span 
class="cmmi-10x-x-109">,I </span>= 26<span 
class="cmmi-10x-x-109">.</span>8;<span 
class="cmmi-10x-x-109">D </span>= 98<span 
class="cmmi-10x-x-109">.</span>6<span 
class="cmmi-10x-x-109">,I </span>= 67<span 
class="cmmi-10x-x-109">.</span>3.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-7">
%&#x00A0;angle.py&#x00A0;-i
&#x00A0;<br />Declination&#x00A0;1:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;350.2
&#x00A0;<br />Inclination&#x00A0;1:&#x00A0;26.8
&#x00A0;<br />Declination&#x00A0;2:&#x00A0;98.6
&#x00A0;<br />Inclination&#x00A0;2:&#x00A0;67.3
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;72.1
&#x00A0;<br />Declination&#x00A0;1:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;^D
&#x00A0;<br />Good&#x00A0;bye
</div>
<!--l. 929--><p class="nopar" > [NB: PC users will get a more angry sounding exit message]
<!--l. 932--><p class="indent" >   You can also use this program by reading in a filename using the &#8217;-f&#8217; option or
from <a 
href="#standard_IO" >standard input </a>(with <span 
class="cmmi-10x-x-109">&#x003C;</span>). Try this out with the test file in the <span 
class="cmti-10x-x-109">angle</span>
directory (<span 
class="cmti-10x-x-109">angle.dat</span>). First examine the contents of the input file using
<span 
class="cmbx-10x-x-109">&#8220;cat&#8221; </span>(or &#8220; type&#8221; on a DOS prompt). Then use <span 
class="cmbx-10x-x-109">angle.py </span>to calculate the
angles. You can also save your output in a file <span 
class="cmti-10x-x-109">angle.out </span>with the &#8217;-F&#8217;
option:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-8">
&#x00A0;%&#x00A0;cat&#x00A0;angle.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;32.9&#x00A0; &#x00A0;&#x00A0;&#x00A0;&#x00A0;6.4&#x00A0;&#x00A0;&#x00A0;-42.9
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;11.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;63.7&#x00A0; &#x00A0;&#x00A0;&#x00A0;10.5&#x00A0;&#x00A0;&#x00A0;-55.4
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;11.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;31.4&#x00A0; &#x00A0;&#x00A0;358.1&#x00A0;&#x00A0;&#x00A0;-71.8
&#x00A0;<br />&#x00A0;&#x00A0;349.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;36.2&#x00A0; &#x00A0;&#x00A0;356.3&#x00A0;&#x00A0;&#x00A0;-45.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;60.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;63.5&#x00A0; &#x00A0;&#x00A0;&#x00A0;58.9&#x00A0;&#x00A0;&#x00A0;-56.6
&#x00A0;<br />&#x00A0;&#x00A0;351.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;37.6&#x00A0; &#x00A0;&#x00A0;&#x00A0;55.0&#x00A0;&#x00A0;&#x00A0;-45.8
&#x00A0;<br />&#x00A0;&#x00A0;345.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;53.1&#x00A0; &#x00A0;&#x00A0;&#x00A0;44.8&#x00A0;&#x00A0;&#x00A0;-26.9
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;12.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;20.1&#x00A0; &#x00A0;&#x00A0;&#x00A0;13.6&#x00A0;&#x00A0;&#x00A0;-54.0
&#x00A0;<br />&#x00A0;&#x00A0;352.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;37.6&#x00A0; &#x00A0;&#x00A0;&#x00A0;&#x00A0;5.1&#x00A0;&#x00A0;&#x00A0;-39.9
&#x00A0;<br />&#x00A0;&#x00A0;341.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;53.8&#x00A0; &#x00A0;&#x00A0;&#x00A0;25.1&#x00A0;&#x00A0;&#x00A0;-61.1
&#x00A0;<br />....
&#x00A0;<br />
&#x00A0;<br />&#x00A0;%&#x00A0;angle.py&#x00A0;-f&#x00A0;angle.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;75.9
&#x00A0;<br />&#x00A0;&#x00A0;119.1
&#x00A0;<br />&#x00A0;&#x00A0;103.7
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;81.4
&#x00A0;<br />&#x00A0;&#x00A0;120.1
&#x00A0;<br />&#x00A0;&#x00A0;100.9
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;95.1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;74.1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;78.4
&#x00A0;<br />&#x00A0;&#x00A0;120.1
&#x00A0;<br />......
&#x00A0;<br />.
</div>
<!--l. 961--><p class="nopar" >
<!--l. 963--><p class="indent" >   <a name='ani_depthplot.py'></a>
<!--l. 964--><p class="indent" >   <a name='subsec5-2-3'></a><h4 class="subsectionHead"><span class="titlemark">5.2.3   </span> <a 
href="#QQ2-1-48" id="x1-480005.2.3">ani_depthplot.py</a></h4>
<!--l. 965--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/ani_depthplot-module.html" >[ani_depthplot docs]</a>
<!--l. 969--><p class="indent" >   Anisotropy data can be plotted versus depth. The program <span 
class="cmbx-10x-x-109">ani</span><span 
class="cmbx-10x-x-109">_depthplot.py</span>
uses MagIC formatted data tables of the <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy.txt </span>and <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt</span>
types. <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy.txt </span>stores the tensor elements and measurement
                                                                     

                                                                     
meta-data while <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>stores the depths, location and other information.
Bulk susceptibility measurements can also be plotted if they are available in a
<span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>formatted file.
<!--l. 971--><p class="indent" >   In this example, we will use the data from Tauxe et al. (2012) measured
on samples obtained during Expedition 318 of the International Ocean
Drilling Program. To get the entire dataset, go to the MagIC data base at:
<a 
href="http://earthref.org/MAGIC/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/</span></a> and find the data using the search interface. As a
short-cut, you can use the &#8220;permalink&#8221;:
<!--l. 974--><p class="indent" >   <a 
href="http://earthref.org/MAGIC/m000629dt20120607193954" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/m000629dt20120607193954</span></a>.
<!--l. 976--><p class="indent" >   Download the text file by clicking on the icon under the red arrow
in:
<!--l. 978--><p class="indent" >   <img 
src="PmagPy22x.png" alt="PIC" class="graphics" width="426.79134pt" height="132.70686pt" ><!--tex4ht:graphics  
name="PmagPy22x.png" src="EPSfiles/tauxe12-magic.eps"  
-->
<!--l. 980--><p class="indent" >   Unpack the data using the program <a 
href="#download_magic.py" >download_magic.py</a>. This will unpack the
data into the different holes. Change directories into Location_2 (which contains
the data for Hole U1359A). Or, you can use the data in the <span 
class="cmbx-10x-x-109">ani</span><span 
class="cmbx-10x-x-109">_depthplot</span>
directory of the <a 
href="#Examples" >example data files</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-9">
%&#x00A0;ani_depthplot.py
</div>
<!--l. 985--><p class="nopar" >
<!--l. 987--><p class="noindent" >will create the plot:
<!--l. 989--><p class="indent" >   <img 
src="PmagPy23x.png" alt="PIC" class="graphics" width="426.79134pt" height="357.61765pt" ><!--tex4ht:graphics  
name="PmagPy23x.png" src="EPSfiles/ani-depthplot.eps"  
-->
<!--l. 991--><p class="indent" >   <a name='aniso_magic.py'></a>
<!--l. 992--><p class="indent" >   <a name='subsec5-2-4'></a><h4 class="subsectionHead"><span class="titlemark">5.2.4   </span> <a 
href="#QQ2-1-49" id="x1-490005.2.4">aniso_magic.py</a></h4>
<!--l. 993--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/aniso_magic-module.html" >[aniso_magic docs]</a>
                                                                     

                                                                     
<!--l. 997--><p class="indent" >   Samples were collected from the eastern margin a dike oriented with a
bedding pole declination of 110<sup><span 
class="cmsy-8">&#x2218;</span></sup> and dip of 2<sup><span 
class="cmsy-8">&#x2218;</span></sup>. The data have been imported into
a rmag_anisotropy formatted file named <span 
class="cmti-10x-x-109">dike</span><span 
class="cmti-10x-x-109">_anisotropy.txt</span>.
<!--l. 999--><p class="indent" >   Make a plot of the data using <span 
class="cmbx-10x-x-109">aniso</span><span 
class="cmbx-10x-x-109">_magic.py</span>. Use the site parametric
bootstrap option and plot out the bootstrapped eigenvectors. Draw on the trace
of the dike.
<!--l. 1001--><p class="indent" >   These things are done in this session:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-10">
%&#x00A0;aniso_magic.py&#x00A0;-f&#x00A0;dike_anisotropy.txt&#x00A0;-gtc&#x00A0;110&#x00A0;2&#x00A0;-par&#x00A0;-v&#x00A0;-crd&#x00A0;g
&#x00A0;<br />Doing&#x00A0;bootstrap&#x00A0;-&#x00A0;be&#x00A0;patient
&#x00A0;<br />Boostrap&#x00A0;Statistics:
&#x00A0;<br />&#x00A0;tau_i,&#x00A0;V_i_D,&#x00A0;V_i_I,&#x00A0;V_i_zeta,&#x00A0;V_i_zeta_D,&#x00A0;V_i_zeta_I,&#x00A0;V_i_eta,&#x00A0;V_i_eta_D,&#x00A0;V_i_eta_I
&#x00A0;<br />0.34040284&#x00A0;&#x00A0;&#x00A0;&#x00A0;29.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;26.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;165.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;66.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;295.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.7
&#x00A0;<br />0.33536589&#x00A0;&#x00A0;&#x00A0;166.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;70.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;24.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;18.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;17.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;285.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.1
&#x00A0;<br />0.32423124&#x00A0;&#x00A0;&#x00A0;296.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;12.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;12.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;134.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;76.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;27.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.1
&#x00A0;<br />compare&#x00A0;with&#x00A0;[d]irection
&#x00A0;<br />&#x00A0;plot&#x00A0;[g]reat&#x00A0;circle,&#x00A0;&#x00A0;change&#x00A0;[c]oord.&#x00A0;system,&#x00A0;change&#x00A0;[e]llipse&#x00A0;calculation,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;s[a]ve&#x00A0;plots,&#x00A0;[q]uit
&#x00A0;<br />
</div>
<!--l. 1015--><p class="nopar" >
<!--l. 1017--><p class="noindent" >which produced these plots:
<!--l. 1021--><p class="indent" >   <img 
src="PmagPy24x.png" alt="PIC" class="graphics" width="426.79134pt" height="183.3788pt" ><!--tex4ht:graphics  
name="PmagPy24x.png" src="EPSfiles/dike.eps"  
-->
<!--l. 1023--><p class="indent" >   The specimen eigenvectors are plotted in the left-hand diagram with the
usual convention that squares are the <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmr-8">1</span></sub> directions, triangles are the <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmr-8">2</span></sub>
directions and circles are the <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmr-8">3</span></sub> directions. All directions are plotted on the
lower hemisphere. The bootstrapped eigenvectors are shownin the middle
diagram. Cumulative distributions of the bootstrapped eigenvalues are shown to
the right with the 95% confidence bounds plotted as vertical lines. It appears
that the magma was moving in the northern and slightly up direction along the
dike.
                                                                     

                                                                     
<!--l. 1026--><p class="indent" >   There are more options to <span 
class="cmbx-10x-x-109">aniso</span><span 
class="cmbx-10x-x-109">_magic.py </span>that come in handy. In
particular, one often wishes to test if a particular fabric is isotropic (the three
eigenvalues cannot be distinguished), or if a particular eigenvector is parallel to
some direction. For example, undisturbed sedimentary fabrics are oblate (the
maximum and intermediate directions cannot be distinguished from one another,
but are distinct from the minimum) and the eigenvector associated with the
minimum eigenvalue is vertical. These criteria can be tested using the
distributions of bootstrapped eigenvalues and eigenvectors.
<!--l. 1028--><p class="indent" >   The following session illustrates how this is done, using the data in the test
file <span 
class="cmti-10x-x-109">sed</span><span 
class="cmti-10x-x-109">_anisotropy.txt </span>in the aniso_magic directory.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-11">
%aniso_magic.py&#x00A0;-f&#x00A0;sed_anisotropy.txt&#x00A0;-d&#x00A0;3&#x00A0;0&#x00A0;90&#x00A0;-v&#x00A0;-crd&#x00A0;g
&#x00A0;<br />
&#x00A0;<br />Doing&#x00A0;bootstrap&#x00A0;-&#x00A0;be&#x00A0;patient
&#x00A0;<br />Boostrap&#x00A0;Statistics:
&#x00A0;<br />&#x00A0;tau_i,&#x00A0;V_i_D,&#x00A0;V_i_I,&#x00A0;V_i_zeta,&#x00A0;V_i_zeta_D,&#x00A0;V_i_zeta_I,&#x00A0;V_i_eta,&#x00A0;V_i_eta_D,&#x00A0;V_i_eta_I
&#x00A0;<br />0.33673459&#x00A0;&#x00A0;&#x00A0;359.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;157.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;81.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;269.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.2
&#x00A0;<br />0.33546969&#x00A0;&#x00A0;&#x00A0;&#x00A0;89.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.0&#x00A0;&#x00A0;1349.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;303.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;55.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;153.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;179.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;21.2
&#x00A0;<br />0.32779574&#x00A0;&#x00A0;&#x00A0;179.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;82.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;358.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;88.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.1
&#x00A0;<br />compare&#x00A0;with&#x00A0;[d]irection
&#x00A0;<br />&#x00A0;plot&#x00A0;[g]reat&#x00A0;circle,&#x00A0;&#x00A0;change&#x00A0;[c]oord.&#x00A0;system,&#x00A0;change&#x00A0;[e]llipse&#x00A0;calculation,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;s[a]ve&#x00A0;plots,&#x00A0;[q]uit
&#x00A0;<br />&#x00A0;
</div>
<!--l. 1042--><p class="nopar" >
<!--l. 1044--><p class="indent" >   which makes these plots:
<!--l. 1046--><p class="indent" >   <img 
src="PmagPy25x.png" alt="PIC" class="graphics" width="426.79134pt" height="279.48245pt" ><!--tex4ht:graphics  
name="PmagPy25x.png" src="EPSfiles/sed-aniso.eps"  
-->
                                                                     

                                                                     
<!--l. 1048--><p class="indent" >   The top three plots are as in the dike example before, showing a clear triaxial
fabric (all three eigenvalues and associated eigenvectors are distinct from one
another. In the lower three plots we have the distributions of the three
components of the chosen axis, <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmr-8">3</span></sub>, their 95% confidence bounds (dash lines) and
the components of the designated direction (solid line). This direction is also
shown in the equal area projection above as a red pentagon. The minimum
eigenvector is not vertical in this case.
<!--l. 1052--><p class="indent" >   <a name='apwp.py'></a>
<!--l. 1053--><p class="indent" >   <a name='subsec5-2-5'></a><h4 class="subsectionHead"><span class="titlemark">5.2.5   </span> <a 
href="#QQ2-1-50" id="x1-500005.2.5">apwp.py </a></h4>
<!--l. 1054--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch16.html#ch16" >[Essentials Chapter 16]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/apwp-module.html" >[apwp docs]</a>
<!--l. 1057--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">apwp.py </span>calculates paleolatitude, declination, inclination from
a pole latitude and longitude based on the paper Besse and Courtillot (2002; see
<a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch16.html#apparent_polar_wander_path" >Essentials Chapter 16</a> for complete discussion). Use it to calculate the expected
direction for 100 million year old rocks at a locality in La Jolla Cove (Latitude:
33N, Longitude 117W). Assume that we are on the North American Plate! (Note
that there IS no option for the Pacific plate in the program <span 
class="cmbx-10x-x-109">apwp.py</span>, and that
La Jolla was on the North American plate until a few million years ago
(6?).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-12">
%&#x00A0;apwp.py&#x00A0;-i
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Welcome&#x00A0;to&#x00A0;paleolatitude&#x00A0;calculator&#x00A0;-&#x00A0;CTRL-D&#x00A0;to&#x00A0;quit
&#x00A0;<br />
&#x00A0;<br />pick&#x00A0;a&#x00A0;plate:&#x00A0;NA,&#x00A0;SA,&#x00A0;AF,&#x00A0;IN,&#x00A0;EU,&#x00A0;AU,&#x00A0;ANT,&#x00A0;GL
&#x00A0;<br />
&#x00A0;<br />Plate
&#x00A0;<br />NA
&#x00A0;<br />Site&#x00A0;latitude
&#x00A0;<br />33
&#x00A0;<br />&#x00A0;Site&#x00A0;longitude
&#x00A0;<br />-117
&#x00A0;<br />&#x00A0;Age
&#x00A0;<br />100
&#x00A0;<br />Age&#x00A0;&#x00A0;Paleolat.&#x00A0;&#x00A0;Dec.&#x00A0;&#x00A0;Inc.&#x00A0;&#x00A0;Pole_lat.&#x00A0;&#x00A0;Pole_Long.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;100.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;38.8&#x00A0;&#x00A0;&#x00A0;352.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;58.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;81.5&#x00A0;&#x00A0;&#x00A0;198.3
&#x00A0;<br />
</div>
<!--l. 1078--><p class="nopar" >
<!--l. 1080--><p class="indent" >   Note that as with many <span 
class="cmbx-10x-x-109">PmagPy </span>programs, the input information can
be read from a file and the output can be put in a file. For example,
we put the same information into a file, <span 
class="cmti-10x-x-109">apwp</span><span 
class="cmti-10x-x-109">_example.dat </span>and use this
syntax:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-13">
%&#x00A0;apwp.py&#x00A0;-f&#x00A0;apwp_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;100.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;38.8&#x00A0;&#x00A0;&#x00A0;352.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;58.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;81.5&#x00A0;&#x00A0;&#x00A0;198.3
</div>
<!--l. 1085--><p class="nopar" >
<!--l. 1087--><p class="indent" >   <a name='atrm_magic.py'></a>
<!--l. 1088--><p class="indent" >   <a name='subsec5-2-6'></a><h4 class="subsectionHead"><span class="titlemark">5.2.6   </span> <a 
href="#QQ2-1-51" id="x1-510005.2.6">atrm_magic.py</a></h4>
<!--l. 1089--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/atrm_magic-module.html" >[atrm_magic docs]</a>
<!--l. 1093--><p class="indent" >   Anisotropy of thermal remanence (ATRM) is similar to anisotropy of
anhysteretic remanence (AARM) and the procedure for obtaining the tensor is
also similar. Therefore, the program <span 
class="cmbx-10x-x-109">atrm</span><span 
class="cmbx-10x-x-109">_magic.py </span>is quite similar to
<a 
href="#aarm_magic.py" >aarm_magic.py</a>. However, the SIO lab procedures for the two experiments are
somewhat different. In the ATRM experiment, there is a single, zero
field step at the chosen temperature which is used as a baseline. We
use only six positions (as opposed to nine for AARM) because of the
additional risk of alteration at each temperature step. The positions are also
different:
                                                                     

                                                                     
<!--l. 1095--><p class="indent" >   <img 
src="PmagPy26x.png" alt="PIC" class="graphics" width="426.79134pt" height="263.6971pt" ><!--tex4ht:graphics  
name="PmagPy26x.png" src="EPSfiles/atrm_meas.eps"  
-->
<!--l. 1097--><p class="indent" >   The file <span 
class="cmti-10x-x-109">atrm</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>in the <span 
class="cmti-10x-x-109">atrm</span><span 
class="cmti-10x-x-109">_magic </span>directory is an SIO
formatred data file containing ATRM measurement data done in a temperature
of 520<sup><span 
class="cmsy-8">&#x2218;</span></sup>C. Note the special format of these files - the treatment column (column
#2) has the temperature in centigrade followed by either a &#8220;00&#8221; for the
obligatory zero field baseline step or a &#8220;10&#8221; for the first postion, and so on. These
could also be &#8216;0&#8216; and &#8216;1&#8217;, etc..
<!--l. 1099--><p class="indent" >   Use the program <a 
href="#sio_magic.py" >sio_magic.py</a> to import the ATRM data into the MagIC
format. The DC field was 40 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T. The naming convention used option # 1 (see
help menu). Then use the program <span 
class="cmbx-10x-x-109">atrm</span><span 
class="cmbx-10x-x-109">_magic.py </span>to calculate the best-fit
tensor and write out the MagIC tables: <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy </span>and <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_results</span>
formatted files. These files can be used to correct remanence data in a
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens </span>format table (e.g, intensity data) for the effects of remanent
anisotropy (e.g., using the program <a 
href="#thellier_magic.py" >thellier_magic_redo.py</a>.
<!--l. 1102--><p class="indent" >   Here is an example transcript:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-14">
%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;atrm_magic_example.dat&#x00A0;-loc&#x00A0;Africa&#x00A0;-LP&#x00A0;T:ANI&#x00A0;-F&#x00A0;atrm_measurements.txt
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-ncn&#x00A0;1&#x00A0;&#x00A0;-dc&#x00A0;40&#x00A0;-1&#x00A0;-1
&#x00A0;<br />
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;atrm_measurements.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;atrm_magic.py
&#x00A0;<br />
&#x00A0;<br />specimen&#x00A0;tensor&#x00A0;elements&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./trm_anisotropy.txt
&#x00A0;<br />specimen&#x00A0;statistics&#x00A0;and&#x00A0;eigenparameters&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./atrm_results.txt
</div>
<!--l. 1115--><p class="nopar" >
<!--l. 1117--><p class="indent" >   <a name='azdip_magic.py'></a>
<!--l. 1118--><p class="indent" >   <a name='subsec5-2-7'></a><h4 class="subsectionHead"><span class="titlemark">5.2.7   </span> <a 
href="#QQ2-1-52" id="x1-520005.2.7">azdip_magic.py</a></h4>
<!--l. 1119--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> and <a 
href="#MagIC" >[MagIC]</a><a 
href="http://earthref.org/PmagPy/pmagpydocs/azdip_magic-module.html" >[azdip_magic docs]</a>
<!--l. 1122--><p class="indent" >   Many paleomagnetists save orientation information in files in this
format: Sample Azimuth Plunge Strike Dip (AZDIP format), where the
Azimuth and Plunge are the declination and inclination of the drill direction
and the strike and dip are the attitude of the sampled unit (with dip
to the right of strike). The MagIC database convention is to use the
direction of the <span 
class="cmmi-10x-x-109">X </span>coordinate of the specimen measurement system. To
convert an <span 
class="cmti-10x-x-109">AzDip </span>formatted file (<span 
class="cmti-10x-x-109">example.az</span>) for samples taken from a
location name &#8220;Northern Iceland&#8221; into the MagIC format and save the
information in the MagIC <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file format, use the program
<span 
class="cmbx-10x-x-109">azdip</span><span 
class="cmbx-10x-x-109">_magic.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-15">
%&#x00A0;azdip_magic.py&#x00A0;-f&#x00A0;azdip_magic_example.dat&#x00A0;-ncn&#x00A0;1&#x00A0;-mcd&#x00A0;FS-FD:SO-POM
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-loc&#x00A0;"Northern&#x00A0;Iceland"
&#x00A0;<br />
&#x00A0;<br />Data&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;er_samples.txt
</div>
<!--l. 1131--><p class="nopar" >
<!--l. 1133--><p class="indent" >   Note that there are many options for relating sample names to site names and
we used the first convention that has a single character at the end of the site
name to designate each sample (e.g., is132d is sample &#8217;d&#8217; from site is132). We
have also specified certain field sampling and orientation method codes (-mcd),
here field sampling-field drilled (FS-FD) and sample orientation-Pomeroy
(SO-POM). The location was &#8220;Northern Iceland&#8221;. See the help menu for more
options.
<!--l. 1135--><p class="indent" >   Another way to do this is to use the <a 
href="#orientation_magic.py" >orientation_magic.py</a> program which
allows much more information to be imported.
<!--l. 1137--><p class="indent" >   <a name='b_vdm.py'></a>
<!--l. 1138--><p class="indent" >   <a name='subsec5-2-8'></a><h4 class="subsectionHead"><span class="titlemark">5.2.8   </span> <a 
href="#QQ2-1-53" id="x1-530005.2.8">b_vdm.py</a></h4>
<!--l. 1139--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_dipole_moment" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/b_vdm-module.html" >[b_vdm docs]</a>
<!--l. 1142--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">b</span><span 
class="cmbx-10x-x-109">_vdm </span>to convert an estimated paleofield value of 33 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T
obtained from a lava flow at 22<sup><span 
class="cmsy-8">&#x2218;</span></sup> N latitude to the equivalent Virtual Dipole
Moment (VDM) in Am<sup><span 
class="cmr-8">2</span></sup>. Put the input information into a file called
<span 
class="cmti-10x-x-109">vdm</span><span 
class="cmti-10x-x-109">_input.dat </span>and read from it using <a 
href="#standard_IO" >standard input </a>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-16">
%&#x00A0;cat&#x00A0;&#x003E;&#x00A0;b_vdm_example.dat
&#x00A0;<br />33&#x00A0;22
&#x00A0;<br />^D
&#x00A0;<br />%&#x00A0;b_vdm.py&#x00A0;&#x003C;&#x00A0;b_vdm_example.dat
&#x00A0;<br />&#x00A0;7.159e+22
</div>
<!--l. 1150--><p class="nopar" >
<!--l. 1152--><p class="indent" >   <a name='basemap_magic.py'></a>
<!--l. 1153--><p class="indent" >   <a name='subsec5-2-9'></a><h4 class="subsectionHead"><span class="titlemark">5.2.9   </span> <a 
href="#QQ2-1-54" id="x1-540005.2.9">basemap_magic.py</a></h4>
<!--l. 1155--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> and <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution instructions</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/basemap_magic-module.html" >[basemap_magic docs]</a>
<!--l. 1158--><p class="indent" >   Python has a complete map plotting package and PmagPy has a utility for
making simple base maps for projects. Site location data imported for example
using <a 
href="#orientation_magic.py" >orientation_magic.py</a> into an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites </span>formatted text file can be plotted
using <span 
class="cmbx-10x-x-109">basemap</span><span 
class="cmbx-10x-x-109">_magic.py</span>. There are many options, so check the help
message for more details. Note that if you want to use <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution
datafiles</a> or the etopo20 meshgrid (-etp option), you must install the high
resolution continental outlines as described on the <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution instructions</a>
website.
<!--l. 1161--><p class="indent" >   As an example, use the program <span 
class="cmbx-10x-x-109">basemap</span><span 
class="cmbx-10x-x-109">_magic.py </span>to make a simple
basemap plot with site locations in a MagIC <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>formatted file named
<span 
class="cmti-10x-x-109">basemap</span><span 
class="cmti-10x-x-109">_example.txt</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-17">
%&#x00A0;basemap_magic.py&#x00A0;-f&#x00A0;basemap_example.txt
</div>
<!--l. 1165--><p class="nopar" >
<!--l. 1167--><p class="noindent" >which makes this plot:
<!--l. 1173--><p class="indent" >   <img 
src="PmagPy27x.png" alt="PIC" class="graphics" width="426.79134pt" height="345.79643pt" ><!--tex4ht:graphics  
name="PmagPy27x.png" src="EPSfiles/basemap.eps"  
-->
<!--l. 1175--><p class="indent" >   Use the buttons at the bottom of the plot to resize or save the plot in the
desired format.
<!--l. 1178--><p class="indent" >   <a name='biplot_magic.py'></a>
<!--l. 1179--><p class="indent" >   <a name='subsec5-2-10'></a><h4 class="subsectionHead"><span class="titlemark">5.2.10   </span> <a 
href="#QQ2-1-55" id="x1-550005.2.10">biplot_magic.py</a></h4>
                                                                     

                                                                     
<!--l. 1182--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch8.html#ch8" >[Essentials Chapter 8]</a> and <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/biplot_magic-module.html" >[biplot_magic docs]</a>
<!--l. 1185--><p class="indent" >   It is often useful to plot measurements from one experiement against another.
For example, rock magnetic studies of sediments often plot the IRM against the
ARM or magnetic susceptibility. All of these types of measurements can be
imported into a single <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements </span>formatted file, using magic method
codes and other clues (lab fields, etc.) to differentiate one from another. Data
were obtained from a Paleogene core from 28<sup><span 
class="cmsy-8">&#x2218;</span></sup>S for a relative paleointensity
study. IRM, ARM, magnetic susceptibility and remanence data were uploaded to
the MagIC database. The magic_measurements formatted file for this study is
saved in <span 
class="cmti-10x-x-109">core</span><span 
class="cmti-10x-x-109">_measurements.txt</span>.
<!--l. 1188--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">biplot</span><span 
class="cmbx-10x-x-109">_magic.py </span>to make a biplot of magnetic
susceptibility against ARM. Note that the program makes use of the
<a 
href="#method_codes" >MagIC method codes</a> which are LT-IRM for IRM, LT-AF-I for ARM (AF
demagnetization, in a field), and LP-X for magnetic susceptibility.
<!--l. 1190--><p class="indent" >   First, to find out which data are available, run the program like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-18">
%&#x00A0;biplot_magic.py&#x00A0;-f&#x00A0;biplot_magic_example.txt
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;which&#x00A0;responds&#x00A0;with&#x00A0;this:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;[&#8217;LT-AF-Z&#8217;,&#x00A0;&#8217;LT-AF-I&#8217;,&#x00A0;&#8217;LT-IRM&#8217;,&#x00A0;&#8217;LP-X&#8217;]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 1196--><p class="nopar" >
<!--l. 1198--><p class="indent" >   These are the method codes for AF demagnetization of NRM, ARM, IRM
and susceptibility measurements respectively. So to make a plot of susceptibility
against ARM, we would run the program again:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-19">
%&#x00A0;biplot_magic.py&#x00A0;-f&#x00A0;biplot_magic_example.txt&#x00A0;-x&#x00A0;LP-X&#x00A0;-y&#x00A0;LT-AF-I
&#x00A0;<br />LP-X&#x00A0;&#x00A0;selected&#x00A0;for&#x00A0;X&#x00A0;axis
&#x00A0;<br />LT-AF-I&#x00A0;&#x00A0;selected&#x00A0;for&#x00A0;Y&#x00A0;axis
&#x00A0;<br />All
&#x00A0;<br />measurement_magn_mass&#x00A0;&#x00A0;being&#x00A0;used&#x00A0;for&#x00A0;plotting&#x00A0;Y
&#x00A0;<br />measurement_chi_mass&#x00A0;&#x00A0;being&#x00A0;used&#x00A0;for&#x00A0;plotting&#x00A0;X.
&#x00A0;<br />
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;for&#x00A0;next&#x00A0;plot
</div>
<!--l. 1211--><p class="nopar" >
<!--l. 1213--><p class="noindent" >which makes the plot:
<!--l. 1217--><p class="indent" >   <img 
src="PmagPy28x.png" alt="PIC" class="graphics" width="426.79134pt" height="283.88821pt" ><!--tex4ht:graphics  
name="PmagPy28x.png" src="EPSfiles/arm-x.eps"  
-->
<!--l. 1220--><p class="indent" >   <a name='bootams.py'></a>
                                                                     

                                                                     
<!--l. 1221--><p class="indent" >   <a name='subsec5-2-11'></a><h4 class="subsectionHead"><span class="titlemark">5.2.11   </span> <a 
href="#QQ2-1-56" id="x1-560005.2.11">bootams.py</a></h4>
<!--l. 1222--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/bootams-module.html" >[bootams docs]</a>
<!--l. 1225--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">bootams.py </span>calculates bootstrap statistics for anisotropy
tensor data in the form of:
<!--l. 1227--><p class="indent" >   x11 x22 x33 x12 x23 x13
<!--l. 1229--><p class="indent" >   It does this by selecting para-data sets and calculating the Hext average
eigenparameters. It has an optional parametric bootstrap whereby the <span 
class="cmmi-10x-x-109">&#x03C3; </span>for the
data set as a whole is used to draw new para data sets. The bootstrapped
eigenparameters are assumed to be Kent distributed and the program calculates
Kent error ellipses for each set of eigenvectors. It also estimates the standard
deviations of the bootstrapped eigenvalues.
<!--l. 1232--><p class="indent" >   Use this to calculate the bootstrapped error statistics for the data in file
<span 
class="cmti-10x-x-109">bootams</span><span 
class="cmti-10x-x-109">_examples.data</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-20">
%&#x00A0;bootams.py&#x00A0;-par&#x00A0;-f&#x00A0;bootams_example.dat
&#x00A0;<br />Doing&#x00A0;bootstrap&#x00A0;-&#x00A0;be&#x00A0;patient
&#x00A0;<br />
&#x00A0;<br />tau&#x00A0;tau_sigma&#x00A0;V_dec&#x00A0;V_inc&#x00A0;V_eta&#x00A0;V_eta_dec&#x00A0;V_eta_inc&#x00A0;V_zeta&#x00A0;V_zeta_dec&#x00A0;V_zeta_inc
&#x00A0;<br />
&#x00A0;<br />0.33505&#x00A0;0.00021&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.7&#x00A0;&#x00A0;&#x00A0;267.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;28.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;27.0&#x00A0;&#x00A0;&#x00A0;122.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;56.8
&#x00A0;<br />0.33334&#x00A0;0.00023&#x00A0;&#x00A0;&#x00A0;124.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;61.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;19.6&#x00A0;&#x00A0;&#x00A0;244.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.5&#x00A0;&#x00A0;&#x00A0;340.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;22.1
&#x00A0;<br />0.33161&#x00A0;0.00026&#x00A0;&#x00A0;&#x00A0;268.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;21.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;20.4&#x00A0;&#x00A0;&#x00A0;137.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;57.3
&#x00A0;<br />
</div>
<!--l. 1244--><p class="nopar" >
<!--l. 1246--><p class="indent" >   Note that every time bootams gets called, the output will be slightly different
because this depends on calls to random number generators. If the answers are
different by a lot, then the number of bootstrap calculations is too low. The
number of bootstraps can be changed with the -nb option.
<!--l. 1249--><p class="indent" >   <a name='cart_dir.py'></a>
<!--l. 1250--><p class="indent" >   <a name='subsec5-2-12'></a><h4 class="subsectionHead"><span class="titlemark">5.2.12   </span> <a 
href="#QQ2-1-57" id="x1-570005.2.12">cart_dir.py</a></h4>
<!--l. 1251--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/cart_dir-module.html" >[cart_dir docs]</a>
<!--l. 1254--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">cart</span><span 
class="cmbx-10x-x-109">_dir.py </span>to convert these cartesian coordinates to
geomagnetic elements:
   <div class="tabular"> <table id="TBL-5" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1"><col 
id="TBL-5-2"><col 
id="TBL-5-3"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-5-1-1"  
class="td11"><span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub>        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-5-1-2"  
class="td11"><span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">2</span></sub>         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-5-1-3"  
class="td11"><span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">3</span></sub>        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-5-2-1"  
class="td11">0.3971  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-5-2-2"  
class="td11">-0.1445 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-5-2-3"  
class="td11">0.9063 </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-5-3-1"  
class="td11">-0.5722 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-5-3-2"  
class="td11">0.0400 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-5-3-3"  
class="td11">-0.8192</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-5-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-5-4-1"  
class="td11">       </td> </tr></table></div>
<!--l. 1268--><p class="indent" >   To use the interactive option:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-21">
%&#x00A0;cart_dir.py&#x00A0;-i
&#x00A0;<br />X:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;0.3971
&#x00A0;<br />Y:&#x00A0;-0.1445
&#x00A0;<br />Z:&#x00A0;0.9063
&#x00A0;<br />&#x00A0;&#x00A0;340.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;65.0&#x00A0;&#x00A0;1.000e+00
&#x00A0;<br />X:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;-.5722
&#x00A0;<br />Y:&#x00A0;0.0400
&#x00A0;<br />Z:&#x00A0;-0.8192
&#x00A0;<br />&#x00A0;&#x00A0;176.0&#x00A0;&#x00A0;&#x00A0;-55.0&#x00A0;&#x00A0;1.000e+00
</div>
<!--l. 1280--><p class="nopar" >
<!--l. 1282--><p class="indent" >   To read from a file:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-22">
%&#x00A0;cart_dir.py&#x00A0;-f&#x00A0;cart_dir_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;340.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;65.0&#x00A0;&#x00A0;1.000e+00
&#x00A0;<br />&#x00A0;&#x00A0;176.0&#x00A0;&#x00A0;&#x00A0;-55.0&#x00A0;&#x00A0;1.000e+00
</div>
<!--l. 1288--><p class="nopar" >
<!--l. 1290--><p class="indent" >   <a name='chartmaker.py'></a>
<!--l. 1291--><p class="indent" >   <a name='subsec5-2-13'></a><h4 class="subsectionHead"><span class="titlemark">5.2.13   </span> <a 
href="#QQ2-1-58" id="x1-580005.2.13">chartmaker.py</a></h4>
<!--l. 1293--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#ch10" >[Essentials Chapter 10]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/chartmaker-module.html" >[chartmaker docs]</a>
<!--l. 1296--><p class="indent" >   Paleointensity experiments are quite complex and it is easy to make a mistake
in the laboratory. The SIO lab uses a simple chart that helps the experimenter
keep track of in-field and zero field steps and makes sure that the field gets
verified before each run. You can make a chart for an infield-zerofield,
zerofield-infield (IZZI) experiment using the program <span 
class="cmbx-10x-x-109">chartmaker.py</span>. Make
such a chart using 50<sup><span 
class="cmsy-8">&#x2218;</span></sup>C steps up to 500<sup><span 
class="cmsy-8">&#x2218;</span></sup>C followed by 10<sup><span 
class="cmsy-8">&#x2218;</span></sup>C steps up to
600<sup><span 
class="cmsy-8">&#x2218;</span></sup>C.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-23">
%&#x00A0;chartmaker.py
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Welcome&#x00A0;to&#x00A0;the&#x00A0;thellier-thellier&#x00A0;experiment&#x00A0;automatic&#x00A0;chart&#x00A0;maker.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Please&#x00A0;select&#x00A0;desired&#x00A0;step&#x00A0;interval&#x00A0;and&#x00A0;upper&#x00A0;bound&#x00A0;for&#x00A0;which&#x00A0;it&#x00A0;is&#x00A0;valid.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;e.g.,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;50
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;500
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;10
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;600
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;a&#x00A0;blank&#x00A0;entry&#x00A0;signals&#x00A0;the&#x00A0;end&#x00A0;of&#x00A0;data&#x00A0;entry.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;which&#x00A0;would&#x00A0;generate&#x00A0;steps&#x00A0;with&#x00A0;50&#x00A0;degree&#x00A0;intervals&#x00A0;up&#x00A0;to&#x00A0;500,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;followed&#x00A0;by&#x00A0;10&#x00A0;degree&#x00A0;intervals&#x00A0;up&#x00A0;to&#x00A0;600.
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;chart&#x00A0;is&#x00A0;stored&#x00A0;in:&#x00A0;&#x00A0;chart.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Enter&#x00A0;desired&#x00A0;treatment&#x00A0;step&#x00A0;interval:&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;50
&#x00A0;<br />&#x00A0;Enter&#x00A0;upper&#x00A0;bound&#x00A0;for&#x00A0;this&#x00A0;interval:&#x00A0;500
&#x00A0;<br />&#x00A0;Enter&#x00A0;desired&#x00A0;treatment&#x00A0;step&#x00A0;interval:&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;10
&#x00A0;<br />&#x00A0;Enter&#x00A0;upper&#x00A0;bound&#x00A0;for&#x00A0;this&#x00A0;interval:&#x00A0;600
&#x00A0;<br />&#x00A0;Enter&#x00A0;desired&#x00A0;treatment&#x00A0;step&#x00A0;interval:&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;quit
&#x00A0;<br />output&#x00A0;stored&#x00A0;in:&#x00A0;chart.txt
&#x00A0;<br />
&#x00A0;<br />%cat&#x00A0;chart.txt
&#x00A0;<br />file:_________________&#x00A0;&#x00A0;&#x00A0;&#x00A0;field:___________uT
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;date&#x00A0;|&#x00A0;run#&#x00A0;|&#x00A0;zone&#x00A0;I&#x00A0;|&#x00A0;zone&#x00A0;II&#x00A0;|&#x00A0;zone&#x00A0;III&#x00A0;|&#x00A0;start&#x00A0;|&#x00A0;sp&#x00A0;|&#x00A0;cool&#x00A0;|
&#x00A0;<br />________________________________________________________
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;0.0 &#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|
&#x00A0;<br />________________________________________________________
&#x00A0;<br />&#x00A0;Z&#x00A0; &#x00A0;100.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|
&#x00A0;<br />________________________________________________________
&#x00A0;<br />&#x00A0;I&#x00A0; &#x00A0;100.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|
&#x00A0;<br />________________________________________________________
&#x00A0;<br />&#x00A0;T&#x00A0; &#x00A0;100.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|
&#x00A0;<br />________________________________________________________
                                                                     

                                                                     
&#x00A0;<br />&#x00A0;I&#x00A0; &#x00A0;150.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;|
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />
</div>
<!--l. 1340--><p class="nopar" >
<!--l. 1342--><p class="indent" >   The chart allows you to fill in the file name in which the data were stored and
the field value intended for the infield steps. The designations &#8216;Z&#8217;, &#8216;I&#8217;, &#8217;T&#8217;, &#8217;and
&#8217;P&#8217; are for zero-field, in-field, pTRM tail checks and pTRM checks respectively.
There are fields for the date of the runs, the fields measured in different
zones in the oven prior to the start of the experiment, and the start and
stop times. The numbers, e.g., 100.1 are the treatment temperatures
(100) followed by the code for each experiment type. These get entered
in the treatment fields in the SIO formatted magnetometer files (see
<a 
href="#SIO_magic" >sio_magic.py</a>).
<!--l. 1345--><p class="indent" >   <a name='chi_magic.py'></a>
<!--l. 1346--><p class="indent" >   <a name='subsec5-2-14'></a><h4 class="subsectionHead"><span class="titlemark">5.2.14   </span> <a 
href="#QQ2-1-59" id="x1-590005.2.14">chi_magic.py</a></h4>
<!--l. 1347--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch8.html#ch8" >[Essentials Chapter 8]</a> &amp; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/chi_magic-module.html" >[chi_magic docs]</a>
<!--l. 1350--><p class="indent" >   It is sometimes useful to measure susceptibility as a function of temperature,
applied field and frequency. Here we use a data set that came from the
Tiva Canyon Tuff sequence (see Carter-Stiglitz, 2006). Use the program
<span 
class="cmbx-10x-x-109">chi</span><span 
class="cmbx-10x-x-109">_magic.py </span>to plot the data in the magic_measurements formatted file:
<span 
class="cmti-10x-x-109">chi</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-24">
%&#x00A0;chi_magic.py&#x00A0;-f&#x00A0;chi_magic_example.dat
&#x00A0;<br />IRM-Kappa-2352&#x00A0;1&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;2
&#x00A0;<br />IRM-OldBlue-1892&#x00A0;2&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;2
&#x00A0;<br />Skipping&#x00A0;susceptibitily&#x00A0;-&#x00A0;AC&#x00A0;field&#x00A0;plot&#x00A0;as&#x00A0;a&#x00A0;function&#x00A0;of&#x00A0;temperature
&#x00A0;<br />enter&#x00A0;s[a]ve&#x00A0;to&#x00A0;save&#x00A0;files,&#x00A0;&#x00A0;[return]&#x00A0;to&#x00A0;quit
&#x00A0;<br />
&#x00A0;<br />
</div>
<!--l. 1360--><p class="nopar" >
<!--l. 1362--><p class="noindent" >produced this plot:
<!--l. 1365--><p class="indent" >   <img 
src="PmagPy29x.png" alt="PIC" class="graphics" width="426.79134pt" height="225.7296pt" ><!--tex4ht:graphics  
name="PmagPy29x.png" src="EPSfiles/chi-magic.eps"  
-->
<!--l. 1367--><p class="indent" >   You can see the dependence on temperature, frequency and applied field.
These data support the suggestion that there is a strong superparamagnetic
component in these specimens.
<!--l. 1369--><p class="indent" >   <a name='combine_magic'></a>
<!--l. 1370--><p class="indent" >   <a name='subsec5-2-15'></a><h4 class="subsectionHead"><span class="titlemark">5.2.15   </span> <a 
href="#QQ2-1-60" id="x1-600005.2.15">combine_magic.py</a></h4>
<!--l. 1370--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/combine_magic-module.html" >[combine_magic docs]</a>
                                                                     

                                                                     
<!--l. 1374--><p class="indent" >   MagIC tables have many columns only some of which are used in a particular
instance. So combining files of the same type must be done carefully to
ensure that the right data come under the right headings. The program
<span 
class="cmbx-10x-x-109">combine</span><span 
class="cmbx-10x-x-109">_magic.py </span>can be used to combine any number of MagIC
files from a given type. For an example of how to use this program, see
<a 
href="#AGM_magic.py" >AGM_magic.py</a>.
<!--l. 1378--><p class="indent" >   <a name='common_mean.py'></a>
<!--l. 1379--><p class="indent" >   <a name='subsec5-2-16'></a><h4 class="subsectionHead"><span class="titlemark">5.2.16   </span> <a 
href="#QQ2-1-61" id="x1-610005.2.16">common_mean.py</a></h4>
<!--l. 1380--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/common_mean-module.html" >[common_mean docs]</a>
<!--l. 1383--><p class="indent" >   Most paleomagnetists use some form of Fisher Statistics to decide if two
directions are statistically distinct or not (see <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >Essentials Chapter 11</a> for a
discussion of those techniques. But often directional data are not fisher
distributed and the parametric approach will give misleading answers. In these
cases, one can use a boostrap approach, described in detail in <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter
12]</a>. Here we use the program <span 
class="cmbx-10x-x-109">common</span><span 
class="cmbx-10x-x-109">_mean.py </span>for a bootstrap test
for common mean to check whether two declination, inclination data
sets have a common mean at the 95% level of confidence. The data sets
are: <span 
class="cmti-10x-x-109">common</span><span 
class="cmti-10x-x-109">_mean</span><span 
class="cmti-10x-x-109">_ex</span><span 
class="cmti-10x-x-109">_file1.dat  </span>and <span 
class="cmti-10x-x-109">common</span><span 
class="cmti-10x-x-109">_mean</span><span 
class="cmti-10x-x-109">_ex</span><span 
class="cmti-10x-x-109">_file2.dat</span>. But
first, let&#8217;s look at the data in equal area projection using the program
<a 
href="#eqarea.py" >eqarea.py</a>.
<!--l. 1386--><p class="indent" >   The session:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-25">
%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;common_mean_ex_file1.dat&#x00A0;-p
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;common_mean_ex_file1.dat.svg
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;&#x00A0;eqarea.py&#x00A0;-f&#x00A0;common_mean_ex_file2.dat&#x00A0;-p
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;common_mean_ex_file2.dat.svg
</div>
<!--l. 1393--><p class="nopar" >
<!--l. 1395--><p class="noindent" >generates two .svg formatted files that look like these:
<!--l. 1399--><p class="indent" >   <img 
src="PmagPy30x.png" alt="PIC" class="graphics" width="426.79134pt" height="253.06647pt" ><!--tex4ht:graphics  
name="PmagPy30x.png" src="EPSfiles/common-mean-eq.eps"  
-->
<!--l. 1401--><p class="indent" >   Now let&#8217;s look at the common mean problem using <span 
class="cmbx-10x-x-109">common</span><span 
class="cmbx-10x-x-109">_mean.py</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-26">
%&#x00A0;common_mean.py&#x00A0;-f&#x00A0;common_mean_ex_file1.dat&#x00A0;-f2&#x00A0;common_mean_ex_file2.dat
&#x00A0;<br />Doing&#x00A0;first&#x00A0;set&#x00A0;of&#x00A0;directions,&#x00A0;please&#x00A0;be&#x00A0;patient..
&#x00A0;<br />Doing&#x00A0;second&#x00A0;set&#x00A0;of&#x00A0;directions,&#x00A0;please&#x00A0;be&#x00A0;patient..
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;&#x003C;Return&#x003E;&#x00A0;to&#x00A0;quit
</div>
<!--l. 1408--><p class="nopar" >
<!--l. 1410--><p class="noindent" >The three plots are:
<!--l. 1414--><p class="indent" >   <img 
src="PmagPy31x.png" alt="PIC" class="graphics" width="426.79134pt" height="149.37642pt" ><!--tex4ht:graphics  
name="PmagPy31x.png" src="EPSfiles/common-mean.eps"  
-->
<!--l. 1416--><p class="indent" >   These suggest that the two data sets share a common mean.
<!--l. 1418--><p class="indent" >   Now compare the data in <span 
class="cmti-10x-x-109">common</span><span 
class="cmti-10x-x-109">_mean</span><span 
class="cmti-10x-x-109">_ex</span><span 
class="cmti-10x-x-109">_file1.dat  </span>with the expected
direction at the 5<sup><span 
class="cmsy-8">&#x2218;</span></sup>N latitude that these data were collected (Dec=0,
Inc=9.9).
<!--l. 1420--><p class="indent" >   To do this, follow this transcript:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-27">
%&#x00A0;common_mean.py&#x00A0;-f&#x00A0;common_mean_ex_file1.dat&#x00A0;-dir&#x00A0;0&#x00A0;9.9
&#x00A0;<br />Doing&#x00A0;first&#x00A0;set&#x00A0;of&#x00A0;directions,&#x00A0;please&#x00A0;be&#x00A0;patient..
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;&#x003C;Return&#x003E;&#x00A0;to&#x00A0;quit
</div>
<!--l. 1426--><p class="nopar" >
<!--l. 1430--><p class="indent" >   <img 
src="PmagPy32x.png" alt="PIC" class="graphics" width="426.79134pt" height="137.27432pt" ><!--tex4ht:graphics  
name="PmagPy32x.png" src="EPSfiles/common-mean-EX.eps"  
-->
<!--l. 1432--><p class="indent" >   Apparently the data (cumulative distribution functions) are entirely
consistent with the expected direction (dashed lines are the cartesian coordinates
of that).
<!--l. 1434--><p class="indent" >   <a name='cont_rot.py'></a>
<!--l. 1435--><p class="indent" >   <a name='subsec5-2-17'></a><h4 class="subsectionHead"><span class="titlemark">5.2.17   </span> <a 
href="#QQ2-1-62" id="x1-620005.2.17">cont_rot.py</a></h4>
<!--l. 1436--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch16.html#ch16" >[Essentials Chapter 16 </a>and <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#polerot" >Essentials Appendix A.3.5.]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/cont_rot-module.html" >[cont_rot docs]</a>
<!--l. 1439--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">cont</span><span 
class="cmbx-10x-x-109">_rot.py </span>to make an orthographic projection with
latitude = -20<sup><span 
class="cmsy-8">&#x2218;</span></sup> and longitude = 0<sup><span 
class="cmsy-8">&#x2218;</span></sup> at the center of the African and South
American continents reconstructed to 180 Ma using the Torsvik et al. (2008)
poles of finite rotation. Do this by first holding Africa fixed. Move the output
plot to <span 
class="cmti-10x-x-109">fixed</span><span 
class="cmti-10x-x-109">_africa.svg</span>. Then make the plot for Africa adjusted to the
paleomagnetic reference frame. Make the continental outlines in black lines and
set the resolution to &#8217;low&#8217;.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-28">
%&#x00A0;cont_rot.py&#x00A0;-con&#x00A0;af:sam&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;-20&#x00A0;0&#x00A0;-sym&#x00A0;k-&#x00A0;&#x00A0;1&#x00A0;-age&#x00A0;180&#x00A0;-res&#x00A0;l
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Cont_rot.pdf
&#x00A0;<br />%&#x00A0;mv&#x00A0;Cont_rot.pdf&#x00A0;fixed_africa.pdf
&#x00A0;<br />%&#x00A0;cont_rot.py&#x00A0;-con&#x00A0;af:sam&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;-20&#x00A0;0&#x00A0;-sym&#x00A0;&#x00A0;k-&#x00A0;1&#x00A0;-age&#x00A0;180&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-res&#x00A0;l&#x00A0;-sac
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Cont_rot.pdf
</div>
<!--l. 1450--><p class="nopar" >
<!--l. 1452--><p class="indent" >   These commands generated the following plots (first on left, second on
right):
<!--l. 1455--><p class="indent" >         <img 
src="PmagPy33x.png" alt="PIC" class="graphics" width="426.79134pt" height="212.19092pt" ><!--tex4ht:graphics  
name="PmagPy33x.png" src="EPSfiles/controt.eps"  
-->
<!--l. 1458--><p class="indent" >   <a name='convert2unix.py'></a>
<!--l. 1459--><p class="indent" >   <a name='subsec5-2-18'></a><h4 class="subsectionHead"><span class="titlemark">5.2.18   </span> <a 
href="#QQ2-1-63" id="x1-630005.2.18">convert2unix.py</a></h4>
<!--l. 1460--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/convert2unix-module.html" >[convert2unix docs]</a>
<!--l. 1462--><p class="indent" >   This is a handy little script that turns Windows or Mac file formatted files
(not Word or other proprietary formats) into Unix file format. It does the change
in place, overwriting the original file.
                                                                     

                                                                     
<!--l. 1464--><p class="indent" >   <a name='convert_samples.py'></a>
<!--l. 1465--><p class="indent" >   <a name='subsec5-2-19'></a><h4 class="subsectionHead"><span class="titlemark">5.2.19   </span> <a 
href="#QQ2-1-64" id="x1-640005.2.19">convert_samples.py</a></h4>
<!--l. 1466--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/convert_samples-module.html" >[convert_samples docs]</a>
<!--l. 1469--><p class="indent" >   If one of the MagIC related programs in PmagPy created a very lean looking
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file (for example using <a 
href="#azdip_magic.py" >azdip_magic.py</a>) and you need to add more
information (say, latitude, longitude, lithology, etc.), you can convert the
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file into an <a 
href="#orientation_magic.py" >orient.txt</a> file format, edit it in, for example
Excel, and then re-import it back into the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file format. Try
this on the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples </span>formatted file in the <span 
class="cmti-10x-x-109">convert</span><span 
class="cmti-10x-x-109">_samples </span>directory,
<span 
class="cmti-10x-x-109">convert</span><span 
class="cmti-10x-x-109">_samples</span><span 
class="cmti-10x-x-109">_example.dat</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-29">
%&#x00A0;convert_samples.py&#x00A0;-f&#x00A0;convert_samples_example.dat
&#x00A0;<br />Data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;orient_Northern_Iceland.txt
</div>
<!--l. 1474--><p class="nopar" >
<!--l. 1479--><p class="indent" >   <a name='core_depthplot.py'></a>
<!--l. 1480--><p class="indent" >   <a name='subsec5-2-20'></a><h4 class="subsectionHead"><span class="titlemark">5.2.20   </span> <a 
href="#QQ2-1-65" id="x1-650005.2.20">core_depthplot.py</a></h4>
<!--l. 1480--><p class="noindent" >[<a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch15.html#ch15" >[Essentials Chapter 15]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/core_depthplot-module.html" >[core_depthplot docs]</a>
<!--l. 1483--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">core</span><span 
class="cmbx-10x-x-109">_depthplot.py </span>to plot various measurement data
versus sample depth. The data must be in the MagIC data formats. The program
will plot whole core data, discrete sample at a bulk demagnetization step, data
from vector demagnetization experiments, and so on. There are many options, so
check the help menu before you begin.
<!--l. 1485--><p class="indent" >   We can try this out on some data from DSDP Hole 522, measured by
Tauxe and Hartl (1997). These can be downloaded and unpacked (see
<a 
href="#download_magic.py" >download_magic.py</a> for details), or you can try it out on the data files in the
directory <span 
class="cmbx-10x-x-109">core</span><span 
class="cmbx-10x-x-109">_depthplot</span>. You must specify a lab-protocol (LP) for plotting. In
this example, we will plot the alternating field (AF) data after the 15 mT step.
The magnetizations will be plotted on a log scale and, as this is a record of the
Oligocene, we will plot the Oligocene time scale, using the calibration
of Gradstein et al. (2004), commonly referred to as &#8220;GTS04&#8221; for the
the Oligocene. We are only interested in the data between 50 and 150
meters (the -d option sets this) and we will suppress the declinations
(-D).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-30">
%&#x00A0;core_depthplot.py&#x00A0;-LP&#x00A0;AF&#x00A0;15&#x00A0;-log&#x00A0;-d&#x00A0;50&#x00A0;150&#x00A0;-ts&#x00A0;gts04&#x00A0;23&#x00A0;34&#x00A0;-D
</div>
<!--l. 1489--><p class="nopar" >
<!--l. 1491--><p class="noindent" >will produce the plot:
<!--l. 1493--><p class="indent" >   <img 
src="PmagPy34x.png" alt="PIC" class="graphics" width="426.79134pt" height="355.8875pt" ><!--tex4ht:graphics  
name="PmagPy34x.png" src="EPSfiles/core-depthplot.eps"  
-->
<!--l. 1496--><p class="indent" >   <a name='curie.py'></a>
<!--l. 1497--><p class="indent" >   <a name='subsec5-2-21'></a><h4 class="subsectionHead"><span class="titlemark">5.2.21   </span> <a 
href="#QQ2-1-66" id="x1-660005.2.21">curie.py</a></h4>
<!--l. 1498--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch6.html#ch6" >[Essentials Chapter 6]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/curie-module.html" >[curie docs]</a>
                                                                     

                                                                     
<!--l. 1502--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">curie.py </span>to interpret curie temperature data in the example
file <span 
class="cmti-10x-x-109">curie</span><span 
class="cmti-10x-x-109">_example.dat</span>. Use a smoothing window of 10<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-31">
%curie.py&#x00A0;-f&#x00A0;curie_example.txt&#x00A0;-w&#x00A0;10
&#x00A0;<br />second&#x00A0;deriative&#x00A0;maximum&#x00A0;is&#x00A0;at&#x00A0;T=552
</div>
<!--l. 1509--><p class="nopar" >
<!--l. 1511--><p class="noindent" >which generates these plots:
<!--l. 1515--><p class="indent" >   <img 
src="PmagPy35x.png" alt="PIC" class="graphics" width="412.56496pt" height="407.50162pt" ><!--tex4ht:graphics  
name="PmagPy35x.png" src="EPSfiles/curie-ex.eps"  
-->
<!--l. 1518--><p class="indent" >   <a name='customize_criteria.py'></a>
                                                                     

                                                                     
<!--l. 1519--><p class="indent" >   <a name='subsec5-2-22'></a><h4 class="subsectionHead"><span class="titlemark">5.2.22   </span> <a 
href="#QQ2-1-67" id="x1-670005.2.22">customize_criteria.py</a></h4>
<!--l. 1520--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/customize_criteria-module.html" >[customize_criteria docs]</a>
<!--l. 1523--><p class="indent" >   The MagIC database allows documentation of which criteria were used in
selecting data on a specimen, sample or site level and to easily apply those
criteria (and re-apply them as they change) in preparing the different tables.
These choices are stored in the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria </span>table in each MagIC project
directory (see <a 
href="#MagIC.py" >MagIC.py</a> documentation).
<!--l. 1525--><p class="indent" >   Certain <span 
class="cmbx-10x-x-109">PmagPy </span>programs use the datafile <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria.txt </span>to select data
(for example <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic.py </span>and <span 
class="cmbx-10x-x-109">specimens</span><span 
class="cmbx-10x-x-109">_results</span><span 
class="cmbx-10x-x-109">_magic.py</span>). To
customize these criteria for your own data sets, you can use the program
<span 
class="cmbx-10x-x-109">customize</span><span 
class="cmbx-10x-x-109">_criteria.py</span>. This program is also called by the <span 
class="cmbx-10x-x-109">MagIC.py </span>GUI
under the Utilities menu. Try it out on <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria.txt</span>. This is a &#8220;full vector&#8221;
set of criteria - meaning that it has both directions and intensity flags set.
Change the <span 
class="cmti-10x-x-109">specimen</span><span 
class="cmti-10x-x-109">_alpha95 </span>cutoff to 180. from whatever it is now set to. Save
the output to a new file named <span 
class="cmti-10x-x-109">new</span><span 
class="cmti-10x-x-109">_criteria.txt</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-32">
%&#x00A0;customize_criteria.py&#x00A0;-f&#x00A0;pmag_criteria.txt&#x00A0;-F&#x00A0;new_criteria.txt
&#x00A0;<br />Acceptance&#x00A0;criteria&#x00A0;read&#x00A0;in&#x00A0;from&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />&#x00A0;[0]&#x00A0;Use&#x00A0;no&#x00A0;acceptance&#x00A0;criteria?
&#x00A0;<br />&#x00A0;[1]&#x00A0;Use&#x00A0;default&#x00A0;criteria
&#x00A0;<br />&#x00A0;[2]&#x00A0;customize&#x00A0;criteria
&#x00A0;<br />&#x00A0;2
&#x00A0;<br />Enter&#x00A0;new&#x00A0;threshold&#x00A0;value.
&#x00A0;<br />&#x00A0;Return&#x00A0;to&#x00A0;keep&#x00A0;default.
&#x00A0;<br />&#x00A0;Leave&#x00A0;blank&#x00A0;to&#x00A0;not&#x00A0;use&#x00A0;as&#x00A0;a&#x00A0;criterion
&#x00A0;<br />
&#x00A0;<br />sample_alpha95&#x00A0;10
&#x00A0;<br />new&#x00A0;value:&#x00A0;5
&#x00A0;<br />sample_int_n&#x00A0;2
&#x00A0;<br />new&#x00A0;value:&#x00A0;2
&#x00A0;<br />sample_int_sigma&#x00A0;5e-6
&#x00A0;<br />new&#x00A0;value:
&#x00A0;<br />sample_int_sigma_perc&#x00A0;15
&#x00A0;<br />new&#x00A0;value:
&#x00A0;<br />.......
&#x00A0;<br />
&#x00A0;<br />Criteria&#x00A0;saved&#x00A0;in&#x00A0;pmag_criteria.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Pmag&#x00A0;Criteria&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />
</div>
<!--l. 1552--><p class="nopar" >
<!--l. 1554--><p class="indent" >   Note that the default place for the PmagPy programs to look for criteria is in
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria.txt</span>, so you should probably rename the new one that for it to take
effect as your new default.
<!--l. 1558--><p class="indent" >   <a name='dayplot_magic.py'></a>
<!--l. 1559--><p class="indent" >   <a name='subsec5-2-23'></a><h4 class="subsectionHead"><span class="titlemark">5.2.23   </span> <a 
href="#QQ2-1-68" id="x1-680005.2.23">dayplot_magic.py</a></h4>
<!--l. 1560--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch5.html#ch5" >[Essentials Chapter 5]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/dayplot_magic-module.html" >[dayplot_magic docs]</a>
<!--l. 1563--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">dayplot</span><span 
class="cmbx-10x-x-109">_magic.py </span>to make Day (Day et al., 1977) , or
Squareness-Coercivity and Squareness-Coercivity of Remanence plots
                                                                     

                                                                     
(e.g., Tauxe et al., 2002) from the rmag_hyseresis formatted data in
<span 
class="cmti-10x-x-109">dayplot</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat.</span>
<!--l. 1565--><p class="indent" >   The session:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-33">
&#x00A0;&#x00A0;%&#x00A0;dayplot_magic.py&#x00A0;-f&#x00A0;dayplot_magic_example.dat
&#x00A0;<br />
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plots,&#x00A0;return&#x00A0;to&#x00A0;quit:
</div>
<!--l. 1571--><p class="nopar" >
<!--l. 1575--><p class="noindent" >gives the plots:
<!--l. 1579--><p class="indent" >   <img 
src="PmagPy36x.png" alt="PIC" class="graphics" width="426.79134pt" height="151.13788pt" ><!--tex4ht:graphics  
name="PmagPy36x.png" src="EPSfiles/dayplot.eps"  
-->
<!--l. 1582--><p class="indent" >   <a name='di_eq.py'></a>
<!--l. 1583--><p class="indent" >   <a name='subsec5-2-24'></a><h4 class="subsectionHead"><span class="titlemark">5.2.24   </span> <a 
href="#QQ2-1-69" id="x1-690005.2.24">di_eq.py</a></h4>
<!--l. 1584--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap2.html#equal_area" >[Essentials Appendix B]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/di_eq-module.html" >[di_eq docs]</a>
<!--l. 1587--><p class="indent" >   Paleomagnetic data are frequently plotted in equal area projection.
PmagPy has several plotting programs which do this (e.g., <a 
href="#eqarea.py" >eqarea.py</a>,
but occasionally it is handy to be able to convert the directions to X,Y
coordinates directly, without plotting them at all. The program <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_eq.py</span>
does this. Here is an example transcript of a session using the datafile
<span 
class="cmti-10x-x-109">di</span><span 
class="cmti-10x-x-109">_eq</span><span 
class="cmti-10x-x-109">_example.dat</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-34">
%&#x00A0;di_eq.py&#x00A0;-f&#x00A0;di_eq_example.dat
&#x00A0;<br />-0.239410&#x00A0;-0.893491
&#x00A0;<br />0.436413&#x00A0;0.712161
&#x00A0;<br />0.063844&#x00A0;0.760300
&#x00A0;<br />0.321447&#x00A0;0.686216
&#x00A0;<br />0.322720&#x00A0;0.670562
&#x00A0;<br />0.407412&#x00A0;0.540654
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
</div>
<!--l. 1600--><p class="nopar" >
<!--l. 1602--><p class="indent" >   <a name='di_geo.py'></a>
<!--l. 1603--><p class="indent" >   <a name='subsec5-2-25'></a><h4 class="subsectionHead"><span class="titlemark">5.2.25   </span> <a 
href="#QQ2-1-70" id="x1-700005.2.25">di_geo.py</a></h4>
<!--l. 1604--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> and <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#Changing_coordinate_systems" >Changing coordinate systems</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/di_geo-module.html" >[di_geo docs]</a>
<!--l. 1608--><p class="indent" >   Use the programs <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_geo.py </span>to convert <span 
class="cmmi-10x-x-109">D </span>= 8<span 
class="cmmi-10x-x-109">.</span>1<span 
class="cmmi-10x-x-109">,I </span>= 45<span 
class="cmmi-10x-x-109">.</span>2 from specimen
coordinates to geographic adjusted coordinates. The orientation of laboratory
arrow on the specimen was: azimuth = 347; plunge = 27. <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_geo.py </span>works in
the usual three ways (interactive data entry, command line file specification or
from <a 
href="#standard_IO" >standard input </a>. So for a quickie answer for a single specimen, you can use
the interactive mode:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-35">
%&#x00A0;di_geo.py&#x00A0;-i
&#x00A0;<br />Declination:&#x00A0;&#x003C;cntrl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;&#x00A0;81
&#x00A0;<br />Inclination:&#x00A0;45.2
&#x00A0;<br />Azimuth:&#x00A0;347
&#x00A0;<br />Plunge:&#x00A0;27
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;94.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;43.0
</div>
<!--l. 1621--><p class="nopar" > which spits out our answer of Declination = 5.3 and inclination = 71.6.
<!--l. 1624--><p class="indent" >   For more data, it is handy to use the file entry options. There are a bunch of
declination, inclination, azimuth and plunge data in the file <span 
class="cmti-10x-x-109">di</span><span 
class="cmti-10x-x-109">_geo</span><span 
class="cmti-10x-x-109">_example.dat </span>in
the <span 
class="cmti-10x-x-109">di</span><span 
class="cmti-10x-x-109">_geo </span>directory. First look at the data in specimen coordinates in equal area
projection, using the program <a 
href="#eqarea.py" >eqarea.py</a>. Note that this program only
pays attention to the first two columns so it will ignore the orientation
information.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-36">
%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;di_geo_example.dat
</div>
<!--l. 1628--><p class="nopar" > which should look like this:
<!--l. 1631--><p class="indent" >   <img 
src="PmagPy37x.png" alt="PIC" class="graphics" width="341.43306pt" height="341.4306pt" ><!--tex4ht:graphics  
name="PmagPy37x.png" src="EPSfiles/di_geo_spc_eq.eps"  
-->
<!--l. 1635--><p class="indent" >   The data are highly scattered and we hope that the geographic coordinate
system looks better! To find out try:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-37">
di_geo.py&#x00A0;-f&#x00A0;di_geo_example.dat&#x00A0;&#x003E;di_geo.out;&#x00A0;&#x00A0;eqarea.py&#x00A0;-f&#x00A0;di_geo.out
&#x00A0;<br />
</div>
<!--l. 1639--><p class="nopar" >
<!--l. 1641--><p class="noindent" >which looks like this:
<!--l. 1643--><p class="indent" >   <img 
src="PmagPy38x.png" alt="PIC" class="graphics" width="341.43306pt" height="341.4306pt" ><!--tex4ht:graphics  
name="PmagPy38x.png" src="EPSfiles/di_geo_geo_eq.eps"  
-->
<!--l. 1645--><p class="noindent" >These data are clearly much better grouped.
<!--l. 1649--><p class="indent" >   <a name='di_rot.py'></a>
<!--l. 1650--><p class="indent" >   <a name='subsec5-2-26'></a><h4 class="subsectionHead"><span class="titlemark">5.2.26   </span> <a 
href="#QQ2-1-71" id="x1-710005.2.26">di_rot.py</a></h4>
                                                                     

                                                                     
<!--l. 1651--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/di_rot-module.html" >[di_rot docs]</a>
<!--l. 1655--><p class="indent" >   Generate a Fisher distributed set of data from a population with a mean
direction of <span 
class="cmmi-10x-x-109">D </span>= 0<span 
class="cmmi-10x-x-109">,I </span>= 42 using the program <span 
class="cmbx-10x-x-109">fishrot.py</span>. Calculate the mean
direction of the data set using <span 
class="cmbx-10x-x-109">gofish.py</span>. Now use the program <a 
href="#di_rot.py" >di_rot.py</a> to
rotate the set of directions to the mean direction. Look at the data before and
after rotation using <a 
href="#eqarea.py" >eqarea.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-38">
%&#x00A0;fishrot.py&#x00A0;-I&#x00A0;42&#x00A0;&#x003E;fishrot.out
&#x00A0;<br />%&#x00A0;gofish.py&#x00A0;&#x003C;fishrot.out
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;42.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;100&#x00A0;&#x00A0;&#x00A0;&#x00A0;95.3720&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;21.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.1
&#x00A0;<br />%&#x00A0;di_rot.py&#x00A0;-f&#x00A0;fishrot.out&#x00A0;-F&#x00A0;dirot.out&#x00A0;-D&#x00A0;1.7&#x00A0;-I&#x00A0;42.4
&#x00A0;<br />%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;fishrot.out
&#x00A0;<br />&#x00A0;%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;dirot.out
</div>
<!--l. 1664--><p class="nopar" >
<!--l. 1666--><p class="noindent" >which generates plots like these:
<!--l. 1668--><p class="indent" >   <img 
src="PmagPy39x.png" alt="PIC" class="graphics" width="426.79134pt" height="210.25204pt" ><!--tex4ht:graphics  
name="PmagPy39x.png" src="EPSfiles/dirot.eps"  
-->
<!--l. 1670--><p class="indent" >   Note that every instance of <span 
class="cmbx-10x-x-109">fisher.py </span>will draw a different sample from a
Fisher distribution and your exact plot and average values will be different in
detail every time you try this (and that&#8217;s part of the fun of statistical
simulation.)
<!--l. 1673--><p class="indent" >   <a name='di_tilt.py'></a>
<!--l. 1674--><p class="indent" >   <a name='subsec5-2-27'></a><h4 class="subsectionHead"><span class="titlemark">5.2.27   </span> <a 
href="#QQ2-1-72" id="x1-720005.2.27">di_tilt.py</a></h4>
<!--l. 1675--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> and <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#Changing_coordinate_systems" >Changing coordinate systems</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/di_tilt-module.html" >[di_tilt docs]</a>
<!--l. 1680--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_tilt.py </span>to rotate a direction of Declination = 5.3 and
Inclination = 71.6 to &#8220;stratigraphic&#8221; coordinates. The strike was 135 and the dip
                                                                     

                                                                     
was 21. The convention in this program is to use the dip direction, which is to
the &#8220;right&#8221; of this strike.
<!--l. 1685--><p class="indent" >   Here is a session with <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_tilt.py </span>using the interactive option:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-39">
%&#x00A0;di_tilt.py&#x00A0;-i
&#x00A0;<br />Declination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;5.3
&#x00A0;<br />Inclination:&#x00A0;71.6
&#x00A0;<br />Dip&#x00A0;direction:&#x00A0;225
&#x00A0;<br />Dip:&#x00A0;21
&#x00A0;<br />&#x00A0;&#x00A0;285.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;76.6
&#x00A0;<br />Declination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
</div>
<!--l. 1696--><p class="nopar" >
<!--l. 1698--><p class="indent" >   Try the same on the data file saved as <span 
class="cmti-10x-x-109">di</span><span 
class="cmti-10x-x-109">_tilt</span><span 
class="cmti-10x-x-109">_example.dat </span>using the command
line -f switch:
<!--l. 1702--><p class="indent" >   <a name='di_vgp.py'></a>
<!--l. 1703--><p class="indent" >   <a name='subsec5-2-28'></a><h4 class="subsectionHead"><span class="titlemark">5.2.28   </span> <a 
href="#QQ2-1-73" id="x1-730005.2.28">di_vgp.py</a></h4>
<!--l. 1704--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_geomagnetic_poles" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/di_vgp-module.html" >[di_vgp docs]</a>
<!--l. 1707--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">di</span><span 
class="cmbx-10x-x-109">_vgp </span>to convert the following:
<div class="center" 
>
<!--l. 1710--><p class="noindent" >
<div class="tabular"> <table id="TBL-6" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-6-1g"><col 
id="TBL-6-1"><col 
id="TBL-6-2"><col 
id="TBL-6-3"><col 
id="TBL-6-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-6-1-1"  
class="td11"><span 
class="cmmi-10x-x-109">D  </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-1-2"  
class="td11"><span 
class="cmmi-10x-x-109">I   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-1-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03BB;</span><sub><span 
class="cmmi-8">s</span></sub> (N) </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-1-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03D5;</span><sub><span 
class="cmmi-8">s</span></sub> (E)</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-6-2-1"  
class="td11">11  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-2-2"  
class="td11">63  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-2-3"  
class="td11">55       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-2-4"  
class="td11">13     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-6-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-6-3-1"  
class="td11">154 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-3-2"  
class="td11">-58 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-3-3"  
class="td11">45.5    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-6-3-4"  
class="td11">-73    </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-6-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-6-4-1"  
class="td11">   </td></tr></table></div></div>
<!--l. 1721--><p class="indent" >   Here is a transcript of a typical session using the command line option for file
name entry:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-40">
%&#x00A0;di_vgp.py&#x00A0;-f&#x00A0;di_vgp_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;154.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;77.3
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.6&#x00A0;&#x00A0;&#x00A0;-69.6
</div>
<!--l. 1727--><p class="nopar" >
<!--l. 1729--><p class="indent" >   <a name='dipole_pinc.py'></a>
<!--l. 1730--><p class="indent" >   <a name='subsec5-2-29'></a><h4 class="subsectionHead"><span class="titlemark">5.2.29   </span> <a 
href="#QQ2-1-74" id="x1-740005.2.29">dipole_pinc.py</a></h4>
<!--l. 1731--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_geomagnetic_poles" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/dipole_pinc-module.html" >[dipole_pinc docs]</a>
<!--l. 1734--><p class="indent" >   Calculate the expected inclination at a paleolatitude of 24<sup><span 
class="cmsy-8">&#x2218;</span></sup>S.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-41">
%&#x00A0;dipole_pinc.py&#x00A0;-i
&#x00A0;<br />Paleolat&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;inclination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;-24
&#x00A0;<br />&#x00A0;&#x00A0;-41.7
&#x00A0;<br />Paleolat&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;inclination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
&#x00A0;<br />
</div>
<!--l. 1743--><p class="nopar" >
<!--l. 1745--><p class="indent" >   <a name='dipole_plat.py'></a>
<!--l. 1746--><p class="indent" >   <a name='subsec5-2-30'></a><h4 class="subsectionHead"><span class="titlemark">5.2.30   </span> <a 
href="#QQ2-1-75" id="x1-750005.2.30">dipole_plat.py</a></h4>
<!--l. 1747--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_geomagnetic_poles" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/dipole_plat-module.html" >[dipole_plat docs]</a>
<!--l. 1751--><p class="indent" >   Calculate the paleolatitude for an average inclination of 23<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-42">
%&#x00A0;dipole_plat.py&#x00A0;-i
&#x00A0;<br />Inclination&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;paleolatitude:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;23
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;12.0
&#x00A0;<br />Inclination&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;paleolatitude:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
</div>
<!--l. 1759--><p class="nopar" >
<!--l. 1761--><p class="indent" >   <a name='dir_cart.py'></a>
<!--l. 1762--><p class="indent" >   <a name='subsec5-2-31'></a><h4 class="subsectionHead"><span class="titlemark">5.2.31   </span> <a 
href="#QQ2-1-76" id="x1-760005.2.31">dir_cart.py</a></h4>
<!--l. 1762--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/dir_cart-module.html" >[dir_cart docs]</a>
<!--l. 1765--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">dir</span><span 
class="cmbx-10x-x-109">_cart.py </span>to convert the following data from declination
<span 
class="cmmi-10x-x-109">D</span>, inclination <span 
class="cmmi-10x-x-109">I </span>and intensity <span 
class="cmmi-10x-x-109">M </span>to <span 
class="cmmi-10x-x-109">x</span><sub><span 
class="cmr-8">1</span></sub><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">2</span></sub><span 
class="cmmi-10x-x-109">,x</span><sub><span 
class="cmr-8">3</span></sub>.
   <div class="tabular"> <table id="TBL-7" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-7-1g"><col 
id="TBL-7-1"><col 
id="TBL-7-2"><col 
id="TBL-7-3"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-1"  
class="td11"><span 
class="cmmi-10x-x-109">D  </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-2"  
class="td11"><span 
class="cmmi-10x-x-109">I   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-1-3"  
class="td11"><span 
class="cmmi-10x-x-109">M </span>(<span 
class="cmmi-10x-x-109">&#x03BC;</span>Am<sup><span 
class="cmr-8">2</span></sup>)</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-1"  
class="td11">20  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-2"  
class="td11">46  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-7-2-3"  
class="td11">1.3           </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-1"  
class="td11">175 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-2"  
class="td11">-24 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-7-3-3"  
class="td11">4.2</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-7-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-7-4-1"  
class="td11">   </td> </tr></table></div>
<!--l. 1779--><p class="indent" >   You can enter <span 
class="cmmi-10x-x-109">D,I,M </span>data into data file, then running the program by
typing what is after the prompts (%) [ the other stuff is computer responses]
:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-43">
%&#x00A0;cat&#x00A0;&#x003E;&#x00A0;dir_cart_example.dat
&#x00A0;<br />&#x00A0;20&#x00A0;46&#x00A0;1.3
&#x00A0;<br />175&#x00A0;-24&#x00A0;4.2
&#x00A0;<br />^D
&#x00A0;<br />%&#x00A0;dir_cart.py&#x00A0;&#x003C;dir_cart_example.dat
&#x00A0;<br />8.4859e-01&#x00A0;3.0886e-01&#x00A0;9.3514e-01
&#x00A0;<br />-3.8223e+00&#x00A0;3.3441e-01&#x00A0;-1.7083e+00
</div>
<!--l. 1789--><p class="nopar" >
<!--l. 1791--><p class="indent" >   Or you could use <span 
class="cmbx-10x-x-109">dir</span><span 
class="cmbx-10x-x-109">_cart.py </span>interactively as in:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-44">
&#x00A0;%&#x00A0;dir_cart.py&#x00A0;-i
&#x00A0;<br />
&#x00A0;<br />Declination:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]
&#x00A0;<br />&#x00A0;Good-bye
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;dir_cart.py&#x00A0;-i
&#x00A0;<br />Declination:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;20
&#x00A0;<br />Inclination:&#x00A0;46
&#x00A0;<br />Intensity&#x00A0;[return&#x00A0;for&#x00A0;unity]:&#x00A0;1.3
&#x00A0;<br />8.4859e-01&#x00A0;3.0886e-01&#x00A0;9.3514e-01
&#x00A0;<br />Declination:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;175
&#x00A0;<br />Inclination:&#x00A0;-24
&#x00A0;<br />Intensity&#x00A0;[return&#x00A0;for&#x00A0;unity]:&#x00A0;4.2
&#x00A0;<br />-3.8223e+00&#x00A0;3.3441e-01&#x00A0;-1.7083e+00
&#x00A0;<br />Declination:&#x00A0;[cntrl-D&#x00A0;&#x00A0;to&#x00A0;quit]&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
</div>
<!--l. 1810--><p class="nopar" >
<!--l. 1814--><p class="indent" >   <a name='dmag_magic.py'></a>
<!--l. 1815--><p class="indent" >   <a name='subsec5-2-32'></a><h4 class="subsectionHead"><span class="titlemark">5.2.32   </span> <a 
href="#QQ2-1-77" id="x1-770005.2.32">dmag_magic.py</a></h4>
<!--l. 1816--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> and <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/dmag_magic-module.html" >[dmag_magic docs]</a>
<!--l. 1819--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">dmag</span><span 
class="cmbx-10x-x-109">_magic.py </span>to plot out the decay of all alternating field
demagnetization experiments in the magic_measurements formatted file in
<span 
class="cmti-10x-x-109">dmag</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat</span>. These are from Lawrence et al. (2009). Repeat for all
thermal measurements, but exclude all the data acquired during the thermal but
not paleointensity experiments. Try this at the location level and then at the site
level.
<!--l. 1822--><p class="indent" >   Here is a transcript of a session:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-45">
%&#x00A0;&#x00A0;dmag_magic.py&#x00A0;-f&#x00A0;dmag_magic_example.dat&#x00A0;-LT&#x00A0;AF
&#x00A0;<br />5921&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;dmag_magic_example.dat
&#x00A0;<br />McMurdo&#x00A0;plotting&#x00A0;by:&#x00A0;&#x00A0;er_location_name
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;McMurdo_LT-AF-Z.svg
&#x00A0;<br />%&#x00A0;dmag_magic.py&#x00A0;-f&#x00A0;dmag_magic_example.dat&#x00A0;-LT&#x00A0;T&#x00A0;-XLP&#x00A0;PI
&#x00A0;<br />5921&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;dmag_magic_example.dat
&#x00A0;<br />McMurdo&#x00A0;plotting&#x00A0;by:&#x00A0;&#x00A0;er_location_name
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;McMurdo_LT-T-Z.svg
&#x00A0;<br />%&#x00A0;dmag_magic.py&#x00A0;-f&#x00A0;dmag_magic_example.dat&#x00A0;-LT&#x00A0;AF&#x00A0;-obj&#x00A0;sit
&#x00A0;<br />5921&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;dmag_magic_example.dat
&#x00A0;<br />mc20&#x00A0;plotting&#x00A0;by:&#x00A0;&#x00A0;er_site_name
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;to&#x00A0;continue:
&#x00A0;<br />mc200&#x00A0;plotting&#x00A0;by:&#x00A0;&#x00A0;er_site_name
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;mc200_LT-AF-Z.svg
&#x00A0;<br />
</div>
<!--l. 1843--><p class="nopar" >
<!--l. 1845--><p class="noindent" >which produced these plots:
<!--l. 1849--><p class="indent" >   <img 
src="PmagPy40x.png" alt="PIC" class="graphics" width="426.79134pt" height="143.9358pt" ><!--tex4ht:graphics  
name="PmagPy40x.png" src="EPSfiles/dmag.eps"  
-->
<!--l. 1851--><p class="indent" >   <a name='download_magic.py'></a>
<!--l. 1852--><p class="indent" >   <a name='subsec5-2-33'></a><h4 class="subsectionHead"><span class="titlemark">5.2.33   </span> <a 
href="#QQ2-1-78" id="x1-780005.2.33">download_magic.py</a></h4>
                                                                     

                                                                     
<!--l. 1852--><p class="noindent" >[<a 
href="http://earthref.org/MagIC" >MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/download_magic-module.html" >[download_magic docs]</a>
<!--l. 1855--><p class="indent" >   This program unpacks .txt files downloaded from the MagIC database into
individual directories for each location into which the individual files for each
table (e.g., <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_locations.txt, magic</span><span 
class="cmti-10x-x-109">_measurements.txt, pmag</span><span 
class="cmti-10x-x-109">_results.txt</span>
and so on) get placed. As an example, go to the MagIC data base at
<a 
href="http://earthref.org/MAGIC/search" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/search</span></a>. Enter &#8220;Tauxe and 2004&#8221; into the
Reference Text Search field will show you several references. Look for the one
for Tauxe, L., Luskin, C., Selkin, P., Gans, P. and Calvert, A. (2004).
Download the text file under the &#8220;Contribution SmartBook&#8221; column
and save it to your desktop. Make a folder into which you should put
the downloaded txt file called MagIC_download and move the file into
it. Now use the program <span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>to unpack the .txt file
(<span 
class="cmti-10x-x-109">zmab0083201tmp03.txt</span>).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-46">
%&#x00A0;mkdir&#x00A0;MagIC_download
&#x00A0;<br />%&#x00A0;cd&#x00A0;MagIC_download
&#x00A0;<br />%&#x00A0;download_magic.py&#x00A0;-f&#x00A0;zmab0083201tmp03.txt
&#x00A0;<br />%&#x00A0;download_magic.py&#x00A0;-f&#x00A0;zmab0083201tmp03.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_locations&#8217;
&#x00A0;<br />er_locations&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_locations.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_sites&#8217;
&#x00A0;<br />er_sites&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_samples&#8217;
&#x00A0;<br />er_samples&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_specimens&#8217;
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />location_1:&#x00A0;&#x00A0;Snake&#x00A0;River
&#x00A0;<br />unpacking:&#x00A0;&#x00A0;./er_locations.txt
&#x00A0;<br />1&#x00A0;&#x00A0;read&#x00A0;in
&#x00A0;<br />1&#x00A0;&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./Location_1/er_locations.txt
&#x00A0;<br />unpacking:&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />27&#x00A0;&#x00A0;read&#x00A0;in
&#x00A0;<br />27&#x00A0;&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./Location_1/er_sites.txt
&#x00A0;<br />unpacking:&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />271&#x00A0;&#x00A0;read&#x00A0;in
&#x00A0;<br />271&#x00A0;&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./Location_1/er_samples.txt
&#x00A0;<br />unpacking:&#x00A0;&#x00A0;./er_specimens.txt
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
</div>
<!--l. 1886--><p class="nopar" >
<!--l. 1888--><p class="indent" >   You can change directories into each Location directory (in this case
only one) and examine the data using the <span 
class="cmbx-10x-x-109">PmagPy </span>programs (e.g.,
<a 
href="#zeq_magic.py" >zeq_magic.py</a>).
<!--l. 1892--><p class="indent" >   <a name='eigs_s.py'></a>
                                                                     

                                                                     
<!--l. 1893--><p class="indent" >   <a name='subsec5-2-34'></a><h4 class="subsectionHead"><span class="titlemark">5.2.34   </span> <a 
href="#QQ2-1-79" id="x1-790005.2.34">eigs_s.py</a></h4>
<!--l. 1894--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/eigs_s-module.html" >[eigs_s docs]</a>
<!--l. 1897--><p class="indent" >   Print out the eigenparameters in the file <span 
class="cmti-10x-x-109">eigs</span><span 
class="cmti-10x-x-109">_s</span><span 
class="cmti-10x-x-109">_example.dat </span>and then convert
them to tensor data in the .s format (x11,x22,x33,x12,x13,x23).
<!--l. 1900--><p class="indent" >   This session uses the unix utility <span 
class="cmbx-10x-x-109">cat </span>to print the data. [You could use the
Ms-Dos form <span 
class="cmbx-10x-x-109">type </span>in a Windows command line window.] Then, it prints the
tensor data to the screen.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-47">
%&#x00A0;cat&#x00A0;eigs_s_example.dat
&#x00A0;<br />0.33127&#x00A0;&#x00A0;239.53&#x00A0;&#x00A0;&#x00A0;44.70&#x00A0;0.33351&#x00A0;&#x00A0;126.62&#x00A0;&#x00A0;&#x00A0;21.47&#x00A0;0.33521&#x00A0;&#x00A0;19.03&#x00A0;&#x00A0;&#x00A0;37.54
&#x00A0;<br />0.33177&#x00A0;&#x00A0;281.12&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.18&#x00A0;0.33218&#x00A0;&#x00A0;169.79&#x00A0;&#x00A0;&#x00A0;73.43&#x00A0;0.33603&#x00A0;&#x00A0;&#x00A0;12.82&#x00A0;&#x00A0;&#x00A0;15.32
&#x00A0;<br />...
&#x00A0;<br />%&#x00A0;eigs_s.py&#x00A0;-f&#x00A0;eigs_s_example.dat
&#x00A0;<br />0.33416328&#x00A0;0.33280227&#x00A0;0.33303446&#x00A0;-0.00016631&#x00A0;0.00123163&#x00A0;0.00135521
&#x00A0;<br />0.33555713&#x00A0;0.33197427&#x00A0;0.33246869&#x00A0;0.00085685&#x00A0;0.00025266&#x00A0;0.00098151
&#x00A0;<br />0.33585301&#x00A0;0.33140355&#x00A0;0.33274350&#x00A0;0.00132308&#x00A0;0.00117787&#x00A0;0.00000455
&#x00A0;<br />...
</div>
<!--l. 1913--><p class="nopar" >
<!--l. 1927--><p class="indent" >   <a name='eq_di.py'></a>
<!--l. 1928--><p class="indent" >   <a name='subsec5-2-35'></a><h4 class="subsectionHead"><span class="titlemark">5.2.35   </span> <a 
href="#QQ2-1-80" id="x1-800005.2.35">eq_di.py</a></h4>
<!--l. 1929--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2.html#equal_area" >[Essentials Appendix B]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/eq_di-module.html" >[eq_di docs]</a>
<!--l. 1932--><p class="indent" >   Data are frequently published as equal area projections and not listed in
data tables. These data can be digitized as x,y data (assuming the outer
rim is unity) and converted to approximate directions with the program
<span 
class="cmbx-10x-x-109">eq</span><span 
class="cmbx-10x-x-109">_di.py</span>. To use this program, install a graph digitizer (GraphClick from
<a 
href="http://www.arizona-software.ch/graphclick/" class="url" ><span 
class="cmtt-10x-x-109">http://www.arizona-software.ch/graphclick/</span></a> works on Macs).
<!--l. 1934--><p class="indent" >   Digitize the data from the equal area projection saved in the file <span 
class="cmti-10x-x-109">eqarea.png </span>in
the <span 
class="cmti-10x-x-109">eq</span><span 
class="cmti-10x-x-109">_di </span>directory. You should only work on one hemisphere at a time (upper or
lower) and save each hemisphere in its own file. Then you can convert
the X,Y data to approximate dec and inc data - the quality of the data
depends on your care in digitizing and the quality of the figure that you are
digitizing.
<!--l. 1937--><p class="indent" >   Try out <span 
class="cmbx-10x-x-109">eq</span><span 
class="cmbx-10x-x-109">_di.py </span>on your datafile, or use <span 
class="cmti-10x-x-109">eq</span><span 
class="cmti-10x-x-109">_di</span><span 
class="cmti-10x-x-109">_example.dat </span>which are the
digitized data from the lower hemisphere and check your work with <span 
class="cmbx-10x-x-109">eqarea.py</span>.
You should retrieve the lower hemisphere points from the <span 
class="cmbx-10x-x-109">eqarea.py</span>
example.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-48">
%&#x00A0;eq_di.py&#x00A0;-f&#x00A0;eq_di_example.dat&#x00A0;&#x003E;tmp
&#x00A0;<br />%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;tmp
</div>
<!--l. 1942--><p class="nopar" >
<!--l. 1944--><p class="indent" >   NB: To indicate that your data are UPPER hemisphere (negative
inclinations), use the -up switch.
<!--l. 1947--><p class="indent" >   You can verify the process by comparing the plot generated for these data
using <a 
href="#eqarea.py" >eqarea.py</a> with the original png file.
<!--l. 1951--><p class="indent" >   <a name='eqarea.py'></a>
<!--l. 1952--><p class="indent" >   <a name='subsec5-2-36'></a><h4 class="subsectionHead"><span class="titlemark">5.2.36   </span> <a 
href="#QQ2-1-81" id="x1-810005.2.36">eqarea.py</a></h4>
<!--l. 1953--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a> and <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#Plots_useful_in_paleomagnetism" >[Essentials Appendix B.1]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/eqarea-module.html" >[eqarea docs]</a>
<!--l. 1957--><p class="indent" >   Use the program <a 
href="#fishrot.py" >fishrot.py</a> to generate a Fisher distiributed set of data drawn
from a distribution with mean declination of 42<sup><span 
class="cmsy-8">&#x2218;</span></sup> and a mean inclination of 60<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
LSave this to a file called it fishrot.out. Use <span 
class="cmbx-10x-x-109">eqarea.py </span>to plot an equal area
projection of the data.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-49">
%fishrot.py&#x00A0;-D&#x00A0;42&#x00A0;-I&#x00A0;60&#x00A0;&#x003E;&#x00A0;fishrot.out
&#x00A0;<br />%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;fishrot.out
</div>
<!--l. 1963--><p class="nopar" >
<!--l. 1965--><p class="noindent" >which produces the plot:
<!--l. 1969--><p class="indent" >   <img 
src="PmagPy41x.png" alt="PIC" class="graphics" width="341.43306pt" height="361.62714pt" ><!--tex4ht:graphics  
name="PmagPy41x.png" src="EPSfiles/eqarea.eps"  
-->
<!--l. 1971--><p class="indent" >   <a name='eqarea_ell.py'></a>
<!--l. 1972--><p class="indent" >   <a name='subsec5-2-37'></a><h4 class="subsectionHead"><span class="titlemark">5.2.37   </span> <a 
href="#QQ2-1-82" id="x1-820005.2.37">eqarea_ell.py</a></h4>
                                                                     

                                                                     
<!--l. 1973--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapters 11]</a> and <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/eqarea_ell-module.html" >[eqarea_ell docs]</a>
<!--l. 1976--><p class="indent" >   Use the program <a 
href="#tk03.py" >tk03.py</a> to generate a set of simulated data for a latitude of
42<sup><span 
class="cmsy-8">&#x2218;</span></sup>N including reversals. Then use the program <span 
class="cmbx-10x-x-109">eqarea</span><span 
class="cmbx-10x-x-109">_ell.py </span>to plot an equal
area projection of the directions in <span 
class="cmti-10x-x-109">di</span><span 
class="cmti-10x-x-109">_example.txt </span>and plot confidence ellipses.
Here is an example for Bingham ellipses.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-50">
%&#x00A0;tk03.py&#x00A0;-lat&#x00A0;42&#x00A0;-rev&#x00A0;&#x003E;tk03.out
&#x00A0;<br />%&#x00A0;eqarea_ell.py&#x00A0;-f&#x00A0;tk03.out&#x00A0;-ell&#x00A0;B
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zdec&#x00A0;&#x00A0;&#x00A0;&#x00A0;21.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Edec&#x00A0;&#x00A0;&#x00A0;105.7
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Eta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.5
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;n&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;20
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Einc&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zinc&#x00A0;&#x00A0;&#x00A0;-27.6
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zeta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.5
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;357.8
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inc&#x00A0;&#x00A0;&#x00A0;&#x00A0;60.3
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;tk03.out_eq.svg
</div>
<!--l. 1996--><p class="nopar" >
<!--l. 1998--><p class="indent" >   which produces a plot like this:
                                                                     

                                                                     
<!--l. 2000--><p class="indent" >   <img 
src="PmagPy42x.png" alt="PIC" class="graphics" width="341.43306pt" height="426.81314pt" ><!--tex4ht:graphics  
name="PmagPy42x.png" src="EPSfiles/eqarea_ell.eps"  
-->
<!--l. 2002--><p class="indent" >   Other ellipses are Kent, Fisher and bootstrapped ellipses. Check the
documentation for details.
<!--l. 2004--><p class="indent" >   <a name='eqarea_magic.py'></a>
<!--l. 2005--><p class="indent" >   <a name='subsec5-2-38'></a><h4 class="subsectionHead"><span class="titlemark">5.2.38   </span> <a 
href="#QQ2-1-83" id="x1-830005.2.38">eqarea_magic.py</a></h4>
<!--l. 2005--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/eqarea_magic-module.html" >[eqarea_magic docs]</a>
                                                                     

                                                                     
<!--l. 2008--><p class="indent" >   Follow the instructions for downloading and unpacking a data file from the
MagIC database or use the file in the <span 
class="cmti-10x-x-109">download</span><span 
class="cmti-10x-x-109">_magic </span>directory already
downloaded from the <a 
href="http://earthref.org/MagIC/search" >MagIC</a> website. Plot the directional data for the study
from the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>file along with the bootstrapped confidence
ellipse.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-51">
%&#x00A0;eqarea_magic.py&#x00A0;-obj&#x00A0;loc&#x00A0;-crd&#x00A0;g&#x00A0;-f&#x00A0;pmag_results.txt&#x00A0;-ell&#x00A0;Be
&#x00A0;<br />24&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;./pmag_results.txt
&#x00A0;<br />All
&#x00A0;<br />sr01&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T:LP-PI-ALT-PTRM:LP-PI-TRM-ZI&#x00A0;&#x00A0;&#x00A0;330.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.9
&#x00A0;<br />sr03&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;151.8&#x00A0;&#x00A0;&#x00A0;-57.5
&#x00A0;<br />sr04&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;16.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;54.6
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />sr31&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;54.0
&#x00A0;<br />sr34&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T:LP-PI-ALT-PTRM:LP-PI-TRM-ZI&#x00A0;&#x00A0;&#x00A0;205.8&#x00A0;&#x00A0;&#x00A0;-49.4
&#x00A0;<br />sr36&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;197.6&#x00A0;&#x00A0;&#x00A0;-65.5
&#x00A0;<br />sr39&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T:LP-PI-ALT-PTRM:LP-PI-TRM-ZI&#x00A0;&#x00A0;&#x00A0;188.1&#x00A0;&#x00A0;&#x00A0;-47.2
&#x00A0;<br />sr40&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;192.9&#x00A0;&#x00A0;&#x00A0;-60.7
&#x00A0;<br />Normal&#x00A0;Pole&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;59.6
&#x00A0;<br />Reverse&#x00A0;pole&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;185.1&#x00A0;&#x00A0;&#x00A0;-58.8
&#x00A0;<br />Grand&#x00A0;Mean&#x00A0;pole&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;59.3
&#x00A0;<br />mode&#x00A0;&#x00A0;1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zdec&#x00A0;&#x00A0;&#x00A0;111.1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Edec&#x00A0;&#x00A0;&#x00A0;206.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Eta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7.8
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;n&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Einc&#x00A0;&#x00A0;&#x00A0;&#x00A0;28.9
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zinc&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8.7
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zeta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.3
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inc&#x00A0;&#x00A0;&#x00A0;&#x00A0;59.6
&#x00A0;<br />mode&#x00A0;&#x00A0;2
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zdec&#x00A0;&#x00A0;&#x00A0;248.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Edec&#x00A0;&#x00A0;&#x00A0;150.1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Eta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.3
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;n&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Einc&#x00A0;&#x00A0;&#x00A0;&#x00A0;26.4
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zinc&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.4
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zeta&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;185.1
                                                                     

                                                                     
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inc&#x00A0;&#x00A0;&#x00A0;-58.8
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;LO:_Snake&#x00A0;River_SI:__SA:__SP:__CO:_gu_TY:_eqarea_.svg
</div>
<!--l. 2051--><p class="nopar" >
<!--l. 2053--><p class="noindent" >makes this plot:
<!--l. 2057--><p class="indent" >   <img 
src="PmagPy43x.png" alt="PIC" class="graphics" width="341.43306pt" height="401.25954pt" ><!--tex4ht:graphics  
name="PmagPy43x.png" src="EPSfiles/eqarea-magic.eps"  
-->
<!--l. 2059--><p class="indent" >   The information printed to the window is the pmag_result_name in the data
table, the method codes (here the geochronology method, the type of
demagnetization code and the types of demagnetization experiments), and each
                                                                     

                                                                     
site mean declination inclination. The information following &#8220;mode 1&#8221; are the
bootstrapped ellipse parameters.
<!--l. 2061--><p class="indent" >   Some data are study averages and some are individual sites.
<!--l. 2063--><p class="indent" >   Use <a 
href="#magic_select.py" >magic_select.py</a> to select only the individual site data. Try the
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-52">
&#x00A0;%&#x00A0;magic_select.py&#x00A0;-f&#x00A0;pmag_results.txt&#x00A0;-key&#x00A0;data_type&#x00A0;i&#x00A0;&#8217;T&#8217;&#x00A0;-F&#x00A0;site_results.txt
&#x00A0;<br />%&#x00A0;eqarea_magic.py&#x00A0;-f&#x00A0;site_results.txt&#x00A0;-ell&#x00A0;Bv
&#x00A0;<br />21&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;./site_results.txt
&#x00A0;<br />All
&#x00A0;<br />sr01&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T:LP-PI-ALT-PTRM:LP-PI-TRM-ZI&#x00A0;&#x00A0;&#x00A0;330.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.9
&#x00A0;<br />sr03&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;151.8&#x00A0;&#x00A0;&#x00A0;-57.5
&#x00A0;<br />sr04&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;16.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;54.6
&#x00A0;<br />sr09&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;77.9
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />sr36&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;197.6&#x00A0;&#x00A0;&#x00A0;-65.5
&#x00A0;<br />sr39&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T:LP-PI-ALT-PTRM:LP-PI-TRM-ZI&#x00A0;&#x00A0;&#x00A0;188.1&#x00A0;&#x00A0;&#x00A0;-47.2
&#x00A0;<br />sr40&#x00A0;GM-ARAR-AP:LP-DC5:LP-DIR-AF:LP-DIR-T&#x00A0;&#x00A0;&#x00A0;192.9&#x00A0;&#x00A0;&#x00A0;-60.7
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;LO:_Snake&#x00A0;River_SI:__SA:__SP:__CO:_g_TY:_eqarea_.svg
&#x00A0;<br />2&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;LO:_Snake&#x00A0;River_SI:__SA:__SP:__CO:_g_TY:_bdirs_.svg
</div>
<!--l. 2083--><p class="nopar" >
<!--l. 2085--><p class="indent" >   which produces plots like:
                                                                     

                                                                     
<!--l. 2087--><p class="indent" >   <img 
src="PmagPy44x.png" alt="PIC" class="graphics" width="426.79134pt" height="265.86209pt" ><!--tex4ht:graphics  
name="PmagPy44x.png" src="EPSfiles/eqarea_magic_BV.eps"  
-->
<!--l. 2098--><p class="indent" >   <a name='find_EI.py'></a>
<!--l. 2099--><p class="indent" >   <a name='subsec5-2-39'></a><h4 class="subsectionHead"><span class="titlemark">5.2.39   </span> <a 
href="#QQ2-1-84" id="x1-840005.2.39">find_EI.py</a></h4>
<!--l. 2100--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch14.html#ch14" >[Essentials Chapter 14]</a><a 
href="http://earthref.org/PmagPy/pmagpydocs/find_EI-module.html" >[find_EI docs]</a>
<!--l. 2103--><p class="indent" >   A data file was prepared using <a 
href="#tk03" >tk03.py</a> to simulate directions at a latitude of
42<sup><span 
class="cmsy-8">&#x2218;</span></sup>. Use the program <a 
href="#dipole_pinc.py" >dipole_pinc.py</a> to find what the expected inclination at this
latitude is!
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-53">
%&#x00A0;dipole_pinc.py&#x00A0;-i
&#x00A0;<br />Paleolat&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;inclination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;42
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;61.0
&#x00A0;<br />^D
&#x00A0;<br />Paleolat&#x00A0;for&#x00A0;converting&#x00A0;to&#x00A0;inclination:&#x00A0;&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
</div>
<!--l. 2112--><p class="nopar" >
<!--l. 2115--><p class="indent" >   The data were &#8220;flattened&#8221; using the formula tan<span 
class="cmmi-10x-x-109">I</span><sub><span 
class="cmmi-8">o</span></sub> = <span 
class="cmmi-10x-x-109">f</span> tan<span 
class="cmmi-10x-x-109">I</span><sub><span 
class="cmmi-8">f</span></sub> to simulate
inclination error and saved in a data file <span 
class="cmti-10x-x-109">find</span><span 
class="cmti-10x-x-109">_EI</span><span 
class="cmti-10x-x-109">_example.dat </span>in the <span 
class="cmti-10x-x-109">find</span><span 
class="cmti-10x-x-109">_EI</span>
directory. Use the program <span 
class="cmbx-10x-x-109">find</span><span 
class="cmbx-10x-x-109">_EI.py </span>to find the optimum flattening factor <span 
class="cmmi-10x-x-109">f</span>
which, when used to &#8220;unflatten&#8221; the data yields inclination and elongation (ratio
of major and minor eigenvalues of orientation matrix, see the section on
<a 
href="Webbook2.html#orientation_tensor" >eigenvalues</a> in the textbook) most consistent with the TK03.GAD paleosecular
variation model of Tauxe and Kent (2004).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-54">
%&#x00A0;&#x00A0;find_EI.py&#x00A0;-f&#x00A0;find_EI_example.dat
&#x00A0;<br />Bootstrapping....&#x00A0;be&#x00A0;patient
&#x00A0;<br />25&#x00A0;&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;1000
&#x00A0;<br />50&#x00A0;&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;1000
&#x00A0;<br />75&#x00A0;&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;1000
&#x00A0;<br />100&#x00A0;&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;1000
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />Io&#x00A0;Inc&#x00A0;&#x00A0;I_lower,&#x00A0;I_upper,&#x00A0;Elon,&#x00A0;E_lower,&#x00A0;E_upper
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;38.9&#x00A0;&#x00A0;=&#x003E;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;58.8&#x00A0;_&#x00A0;&#x00A0;&#x00A0;&#x00A0;48.4&#x00A0;^&#x00A0;&#x00A0;&#x00A0;&#x00A0;67.0:&#x00A0;&#x00A0;1.4679&#x00A0;_&#x00A0;1.2912&#x00A0;^&#x00A0;1.7337
&#x00A0;<br />S[a]ve&#x00A0;plots&#x00A0;-&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />2&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;findEI_ei.svg
&#x00A0;<br />3&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;findEI_cdf.svg
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;findEI_eq.svg
&#x00A0;<br />4&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;findEI_v2.svg
&#x00A0;<br />
&#x00A0;<br />
</div>
<!--l. 2138--><p class="nopar" >
<!--l. 2140--><p class="noindent" >which produces these plots:
                                                                     

                                                                     
<!--l. 2144--><p class="indent" >   <img 
src="PmagPy45x.png" alt="PIC" class="graphics" width="426.79134pt" height="436.42538pt" ><!--tex4ht:graphics  
name="PmagPy45x.png" src="EPSfiles/find_EI.eps"  
-->
<!--l. 2146--><p class="indent" >   In this example, the original expected inclination at paleolatitude of 42 (61<sup><span 
class="cmsy-8">&#x2218;</span></sup>)
is recovered within the 95% confidence bounds.
<!--l. 2150--><p class="indent" >   <a name='fisher.py'></a>
<!--l. 2151--><p class="indent" >   <a name='subsec5-2-40'></a><h4 class="subsectionHead"><span class="titlemark">5.2.40   </span> <a 
href="#QQ2-1-85" id="x1-850005.2.40">fisher.py</a></h4>
                                                                     

                                                                     
<!--l. 2152--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/fisher-module.html" >[fisher docs]</a>
<!--l. 2155--><p class="indent" >   Draw a set of 10 directions from a Fisher distribution with a <span 
class="cmmi-10x-x-109">&#x03BA; </span>of 30 using
<span 
class="cmbx-10x-x-109">fisher.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-55">
%&#x00A0;fisher.py&#x00A0;-k&#x00A0;30&#x00A0;-n&#x00A0;10
&#x00A0;<br />&#x00A0;&#x00A0;233.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;81.4
&#x00A0;<br />&#x00A0;&#x00A0;357.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;76.4
&#x00A0;<br />&#x00A0;&#x00A0;272.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;62.8
&#x00A0;<br />&#x00A0;&#x00A0;137.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;70.0
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;83.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;71.2
&#x00A0;<br />...
&#x00A0;<br />&#x00A0;&#x00A0;
</div>
<!--l. 2165--><p class="nopar" >
<!--l. 2167--><p class="indent" >   You could plot the output with, e.g., <a 
href="#eqarea.py" >eqarea.py</a>.
<!--l. 2169--><p class="indent" >   Note that every instance of this program draws a different distribution, so
yours will look different in detail.
<!--l. 2172--><p class="indent" >   <a name='fishqq.py'></a>
<!--l. 2173--><p class="indent" >   <a name='subsec5-2-41'></a><h4 class="subsectionHead"><span class="titlemark">5.2.41   </span> <a 
href="#QQ2-1-86" id="x1-860005.2.41">fishqq.py</a></h4>
<!--l. 2174--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/fishqq-module.html" >[fishqq docs]</a>
<!--l. 2177--><p class="indent" >   Test whether a set of 100 data points generated with <a 
href="#fisher.py" >fisher.py</a> are in fact
Fisher distributed by using a Quantile-Quantile plot:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-56">
%&#x00A0;fisher.py&#x00A0;-k&#x00A0;30&#x00A0;-n&#x00A0;100&#x00A0;&#x003E;fishqq_example.txt
&#x00A0;<br />%&#x00A0;fishqq.py&#x00A0;-f&#x00A0;fishqq_example.txt
</div>
<!--l. 2182--><p class="nopar" >
<!--l. 2184--><p class="noindent" >produces these plots:
<!--l. 2188--><p class="indent" >   <img 
src="PmagPy46x.png" alt="PIC" class="graphics" width="426.79134pt" height="209.7493pt" ><!--tex4ht:graphics  
name="PmagPy46x.png" src="EPSfiles/fishqq-ex.eps"  
-->
<!--l. 2190--><p class="noindent" >which support a Fisher distribution for these data.
<!--l. 2194--><p class="indent" >   <a name='fishrot.py'></a>
<!--l. 2195--><p class="indent" >   <a name='subsec5-2-42'></a><h4 class="subsectionHead"><span class="titlemark">5.2.42   </span> <a 
href="#QQ2-1-87" id="x1-870005.2.42">fishrot.py</a></h4>
<!--l. 2196--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/fishrot-module.html" >[fishrot docs]</a>
<!--l. 2199--><p class="indent" >   Draw a set of 5 directions drawn from a Fisher distribution with a
true mean declination of 33, a true mean inclination of 41, and a <span 
class="cmmi-10x-x-109">&#x03BA; </span>of
50:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-57">
%&#x00A0;fishrot.py&#x00A0;-n&#x00A0;5&#x00A0;-D&#x00A0;33&#x00A0;-I&#x00A0;41&#x00A0;-k&#x00A0;50
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;35.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;32.8
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;36.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;30.2
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;37.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;41.8
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;28.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.9
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;26.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;32.8
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 2208--><p class="nopar" >
<!--l. 2210--><p class="indent" >   <a name='foldtest.py'></a>
<!--l. 2211--><p class="indent" >   <a name='subsec5-2-43'></a><h4 class="subsectionHead"><span class="titlemark">5.2.43   </span> <a 
href="#QQ2-1-88" id="x1-880005.2.43">foldtest.py</a></h4>
<!--l. 2212--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/foldtest-module.html" >[foldtest docs]</a>
<!--l. 2215--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">foldtest.py </span>to perform the Tauxe and Watson (1994) foldtest on the
data in <span 
class="cmti-10x-x-109">foldtest</span><span 
class="cmti-10x-x-109">_example.dat</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-58">
%&#x00A0;foldtest.py&#x00A0;-f&#x00A0;foldtest_example.dat
&#x00A0;<br />doing&#x00A0;&#x00A0;1000&#x00A0;&#x00A0;iterations...please&#x00A0;be&#x00A0;patient.....
&#x00A0;<br />0
&#x00A0;<br />50
&#x00A0;<br />100
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />.
&#x00A0;<br />
&#x00A0;<br />82&#x00A0;-&#x00A0;117&#x00A0;Percent&#x00A0;Unfolding
&#x00A0;<br />range&#x00A0;of&#x00A0;all&#x00A0;bootstrap&#x00A0;samples:&#x00A0;&#x00A0;70&#x00A0;&#x00A0;-&#x00A0;&#x00A0;137
&#x00A0;<br />S[a]ve&#x00A0;all&#x00A0;figures,&#x00A0;&#x003C;Return&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;&#x00A0;&#x00A0;a
&#x00A0;<br />3&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;fold_ta.svg
&#x00A0;<br />2&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;fold_st.svg
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;fold_ge.svg
&#x00A0;<br />&#x00A0;
</div>
<!--l. 2233--><p class="nopar" >
<!--l. 2235--><p class="noindent" >which gives the plots:
<!--l. 2239--><p class="indent" >   <img 
src="PmagPy47x.png" alt="PIC" class="graphics" width="426.79134pt" height="191.16449pt" ><!--tex4ht:graphics  
name="PmagPy47x.png" src="EPSfiles/foldtest-ex.eps"  
-->
<!--l. 2241--><p class="indent" >   Apparently these directions were acquired prior to folding because the 95%
confidence bounds on the degree of untilting required for maximizing
                                                                     

                                                                     
concentration of the data (maximum in principle eigenvalue) <span 
class="cmmi-10x-x-109">&#x03C4;</span><sub><span 
class="cmr-8">1</span></sub> of orientation
matrix (see the section on <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#orientation_tensor" >eigenvalues</a> in the textbook) includes 100%.
<a name='foldtest_magic.py'></a>
<!--l. 2245--><p class="indent" >   <a name='subsec5-2-44'></a><h4 class="subsectionHead"><span class="titlemark">5.2.44   </span> <a 
href="#QQ2-1-89" id="x1-890005.2.44">foldtest_magic.py</a></h4>
<!--l. 2245--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> and <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/foldtest_magic-module.html" >[foldtest_magic docs]</a>
<!--l. 2248--><p class="indent" >   This program performs the same test as <a 
href="#foldtest.py" >foldtest.py</a>. The only difference is
that it reads MagIC formatted input files and allows the application
of selection criteria as specified in the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria.txt </span>formatted file.
<a name='gaussian.py'></a>
<!--l. 2252--><p class="indent" >   <a name='subsec5-2-45'></a><h4 class="subsectionHead"><span class="titlemark">5.2.45   </span> <a 
href="#QQ2-1-90" id="x1-900005.2.45">gaussian.py</a></h4>
<!--l. 2253--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/gaussian-module.html" >[gaussian docs]</a>
<!--l. 2257--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">gaussian.py </span>to generate a set of 100 normally distributed data points
drawn from a population with a mean of 10.0 and standard deviation of 30. Save
it to a file named <span 
class="cmbx-10x-x-109">gauss.out</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-59">
%&#x00A0;gaussian.py&#x00A0;-s&#x00A0;3&#x00A0;-n&#x00A0;100&#x00A0;-m&#x00A0;10.&#x00A0;-F&#x00A0;gauss.out
</div>
<!--l. 2261--><p class="nopar" >
<!--l. 2263--><p class="indent" >   You can check the sample mean and standard deviation with <a 
href="#stats.py" >stats.py</a> or make
a histogram of the data with <a 
href="#hisplot.py" >histplot.py</a>
<!--l. 2268--><p class="indent" >   <a name='gobing.py'></a>
<!--l. 2269--><p class="indent" >   <a name='subsec5-2-46'></a><h4 class="subsectionHead"><span class="titlemark">5.2.46   </span> <a 
href="#QQ2-1-91" id="x1-910005.2.46">gobing.py</a></h4>
<!--l. 2270--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/gobing-module.html" >[gobing docs]</a>
<!--l. 2273--><p class="indent" >   Use the dataset generated in the <a 
href="#eqarea_ell.py" >eqarea_ell.py</a> example. Calculate
Bingham parameters using <span 
class="cmbx-10x-x-109">gobing.py </span>instead of within the plotting
program:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-60">
%&#x00A0;gobing.py&#x00A0;-f&#x00A0;tk03.out
&#x00A0;<br />&#x00A0;&#x00A0;357.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;60.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.5&#x00A0;&#x00A0;&#x00A0;105.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;21.0&#x00A0;&#x00A0;&#x00A0;-27.6&#x00A0;20
</div>
<!--l. 2278--><p class="nopar" >
<!--l. 2280--><p class="noindent" >which according to the help message from <span 
class="cmbx-10x-x-109">gobing.py </span>is:
<!--l. 2282--><p class="indent" >   mean dec, mean inc, Eta, Deta, Ieta, Zeta, Zdec, Zinc, N
<!--l. 2285--><p class="indent" >   <a name='gofish.py'></a>
<!--l. 2286--><p class="indent" >   <a name='subsec5-2-47'></a><h4 class="subsectionHead"><span class="titlemark">5.2.47   </span> <a 
href="#QQ2-1-92" id="x1-920005.2.47">gofish.py</a></h4>
<!--l. 2287--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/gofish-module.html" >[gofish docs]</a>
<!--l. 2290--><p class="indent" >   Draw a set of 10 directions drawn from a Fisher distribution with
a true mean declination of 15, a true mean inclination of 41, and a <span 
class="cmmi-10x-x-109">&#x03BA;</span>
of 50 and save it to a file, then use <span 
class="cmbx-10x-x-109">gofish.py </span>to calculate the Fisher
parameters:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-61">
%&#x00A0;&#x00A0;fishrot.py&#x00A0;-n&#x00A0;10&#x00A0;-D&#x00A0;15&#x00A0;-I&#x00A0;41&#x00A0;-k&#x00A0;50&#x00A0;&#x003E;fishrot.out
&#x00A0;<br />%&#x00A0;gofish.py&#x00A0;-f&#x00A0;&#x00A0;fishrot.out
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;10.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;39.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;10&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.8484&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;59.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.5
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 2296--><p class="nopar" >
<!--l. 2298--><p class="noindent" >which according to the help message from <span 
class="cmbx-10x-x-109">gofish.py -h </span>is: mean dec, mean inc,
N, R, k, a95, csd. Your results will vary because every instance of <a 
href="#fishrot.py" >fishrot.py</a>
draws a different sample from the Fisher distribution.
<!--l. 2302--><p class="indent" >   <a name='gokent.py'></a>
<!--l. 2303--><p class="indent" >   <a name='subsec5-2-48'></a><h4 class="subsectionHead"><span class="titlemark">5.2.48   </span> <a 
href="#QQ2-1-93" id="x1-930005.2.48">gokent.py</a></h4>
<!--l. 2304--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/gokent-module.html" >[gokent docs]</a>
<!--l. 2307--><p class="indent" >   Draw a set of 20 data points from a TK03.GAD distibution predicted for a
latitude of 42<sup><span 
class="cmsy-8">&#x2218;</span></sup>N (see 14), without reversals. Calculate kent parameters using
<span 
class="cmbx-10x-x-109">gokent.py</span>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-62">
%&#x00A0;tk03.py&#x00A0;-n&#x00A0;20&#x00A0;-lat&#x00A0;42&#x00A0;&#x003E;tk03.out;&#x00A0;gokent.py&#x00A0;-f&#x00A0;&#x00A0;tk03.out
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;359.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;55.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.3&#x00A0;&#x00A0;&#x00A0;147.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;30.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;7.8&#x00A0;&#x00A0;&#x00A0;246.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.9&#x00A0;20
</div>
<!--l. 2312--><p class="nopar" >
<!--l. 2314--><p class="noindent" >which according to the help message from <span 
class="cmbx-10x-x-109">gobing.py </span>is: mean dec, mean inc,
Eta, Deta, Ieta, Zeta, Zdec, Zinc, N
<!--l. 2317--><p class="noindent" >
<!--l. 2317--><p class="indent" >   <a name='subsec5-2-49'></a><h4 class="subsectionHead"><span class="titlemark">5.2.49   </span> <a 
href="#QQ2-1-94" id="x1-940005.2.49">goprinc.py</a></h4>
<!--l. 2318--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/goprinc-module.html" >[goprinc docs]</a>
<!--l. 2321--><p class="indent" >   Draw a set of 20 data points from a TK03.GAD distibution predicted for a
latitude of 42<sup><span 
class="cmsy-8">&#x2218;</span></sup>N (see 14), including reversals. Calculate the eigenparameters of
the orientation matrix (the principal components) using <span 
class="cmbx-10x-x-109">goprinc.py</span>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-63">
%&#x00A0;tk03.py&#x00A0;-n&#x00A0;20&#x00A0;-lat&#x00A0;42&#x00A0;-rev&#x00A0;&#x003E;tk03.out;&#x00A0;goprinc.py&#x00A0;-f&#x00A0;tk03.out
&#x00A0;<br />0.93863&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;58.6&#x00A0;0.04258&#x00A0;&#x00A0;&#x00A0;226.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;26.5&#x00A0;0.01879&#x00A0;&#x00A0;&#x00A0;128.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.6&#x00A0;20
</div>
<!--l. 2326--><p class="nopar" >
<!--l. 2328--><p class="noindent" >which according to the help message from <span 
class="cmbx-10x-x-109">gobing.py </span>is:
<span 
class="cmmi-10x-x-109">&#x03C4;</span><sub><span 
class="cmr-8">1</span></sub><span 
class="cmmi-10x-x-109">V </span>1<sub><span 
class="cmmi-8">D</span></sub><span 
class="cmmi-10x-x-109">,V </span>1<sub><span 
class="cmmi-8">I</span></sub><span 
class="cmmi-10x-x-109">,&#x03C4;</span><sub><span 
class="cmr-8">2</span></sub><span 
class="cmmi-10x-x-109">V </span>2<sub><span 
class="cmmi-8">D</span></sub><span 
class="cmmi-10x-x-109">V </span>2<sub><span 
class="cmmi-8">I</span></sub><span 
class="cmmi-10x-x-109">&#x03C4;</span><sub><span 
class="cmr-8">3</span></sub><span 
class="cmmi-10x-x-109">V </span>3<sub><span 
class="cmmi-8">D</span></sub><span 
class="cmmi-10x-x-109">V </span>3<sub><span 
class="cmmi-8">I</span></sub><span 
class="cmmi-10x-x-109">,N</span>.
<!--l. 2330--><p class="indent" >   <a name='grab_magic_key.py'></a>
<!--l. 2331--><p class="indent" >   <a name='subsec5-2-50'></a><h4 class="subsectionHead"><span class="titlemark">5.2.50   </span> <a 
href="#QQ2-1-95" id="x1-950005.2.50">grab_magic_key.py</a></h4>
<!--l. 2332--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/grab_magic_key-module.html" >[grab_magic_key docs]</a>
<!--l. 2335--><p class="indent" >   <span 
class="cmbx-10x-x-109">grab</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_key.py </span>is a utility that will print out any column (-key option)
from any <a 
href="#MagIC" >[MagIC]</a> formatted file. For example, we could print out all the site
latitudes from the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file down loaded in the <a 
href="#download_magic.py" >download_magic.py</a>
example:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-64">
%&#x00A0;grab_magic_key.py&#x00A0;-f&#x00A0;er_sites.txt&#x00A0;-key&#x00A0;site_lat
&#x00A0;<br />42.60264
&#x00A0;<br />42.60264
&#x00A0;<br />42.60352
&#x00A0;<br />42.60104
&#x00A0;<br />...
</div>
<!--l. 2344--><p class="nopar" >
<!--l. 2346--><p class="indent" >   You could save the data in a file with the output redirect function (<span 
class="cmmi-10x-x-109">&#x003E; </span>) and
plot them with, say <a 
href="#plot_cdf.py" >plot_cdf.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-65">
%&#x00A0;grab_magic_key.py&#x00A0;-f&#x00A0;er_sites.txt&#x00A0;-key&#x00A0;site_lat&#x00A0;&#x003E;&#x00A0;lats
&#x00A0;<br />%&#x00A0;plot_cdf.py&#x00A0;-f&#x00A0;lats
</div>
<!--l. 2351--><p class="nopar" >
<!--l. 2353--><p class="indent" >   which produces the fascinating (NOT!) plot:
<!--l. 2355--><p class="indent" >   <img 
src="PmagPy48x.png" alt="PIC" class="graphics" width="426.79134pt" height="426.8187pt" ><!--tex4ht:graphics  
name="PmagPy48x.png" src="EPSfiles/grab_magic_key.eps"  
-->
<!--l. 2358--><p class="indent" >   <a name='histplot.py'></a>
<!--l. 2359--><p class="indent" >   <a name='subsec5-2-51'></a><h4 class="subsectionHead"><span class="titlemark">5.2.51   </span> <a 
href="#QQ2-1-96" id="x1-960005.2.51">histplot.py</a></h4>
<!--l. 2360--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/histplot-module.html" >[histplot docs]</a>
<!--l. 2362--><p class="indent" >   Make a histogram of the data generated with the <span 
class="cmbx-10x-x-109">gaussian.py </span>program.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-66">
%&#x00A0;histplot.py&#x00A0;-f&#x00A0;gauss.out
</div>
<!--l. 2368--><p class="nopar" >
<!--l. 2370--><p class="noindent" >which makes a plot similar to:
<!--l. 2372--><p class="indent" >   <img 
src="PmagPy49x.png" alt="PIC" class="graphics" width="426.79134pt" height="335.58876pt" ><!--tex4ht:graphics  
name="PmagPy49x.png" src="EPSfiles/hist.eps"  
-->
<!--l. 2374--><p class="indent" >   <a name='hysteresis_magic.py'></a>
<!--l. 2375--><p class="indent" >   <a name='subsec5-2-52'></a><h4 class="subsectionHead"><span class="titlemark">5.2.52   </span> <a 
href="#QQ2-1-97" id="x1-970005.2.52">hysteresis_magic.py</a></h4>
<!--l. 2376--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch5.html#ch5" >[Essentials Chapters 5]</a>, <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch7.html#ch7" >[Essentials Chapter 7], </a> <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap3.html#hysteresis_parameters" >[Essentials Appendix C.1]</a> &amp;
<a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/hysteresis_magic-module.html" >[hysteresis_magic docs]</a>
                                                                     

                                                                     
<!--l. 2379--><p class="indent" >   Plot the data in <span 
class="cmti-10x-x-109">hysteresis</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.txt</span>, (from Ben-Yosef et al., 2008)
which were imported into MagIC using <a 
href="#AGM_magic.py" >AGM_magic.py</a>. Use the program
<span 
class="cmbx-10x-x-109">hysteresis</span><span 
class="cmbx-10x-x-109">_magic.py </span>to plot the data.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-67">
%&#x00A0;hysteresis_magic.py&#x00A0;-f&#x00A0;hysteresis_magic_example.dat
&#x00A0;<br />
&#x00A0;<br />IS06a-1&#x00A0;1&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;8
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;[s]pecimen&#x00A0;name,&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue
&#x00A0;<br />&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;_IS06a-1_hyst.svg
&#x00A0;<br />3&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;_IS06a-1_DdeltaM.svg
&#x00A0;<br />2&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;_IS06a-1_deltaM.svg
&#x00A0;<br />5&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;_IS06a-1_irm.svg
</div>
<!--l. 2391--><p class="nopar" >
<!--l. 2393--><p class="noindent" >which makes the plots:
                                                                     

                                                                     
<!--l. 2396--><p class="indent" >   <img 
src="PmagPy50x.png" alt="PIC" class="graphics" width="426.79134pt" height="432.40034pt" ><!--tex4ht:graphics  
name="PmagPy50x.png" src="EPSfiles/hysteresis-magic.eps"  
-->
<!--l. 2401--><p class="indent" >   <a name='igrf.py'></a>
<!--l. 2402--><p class="indent" >   <a name='subsec5-2-53'></a><h4 class="subsectionHead"><span class="titlemark">5.2.53   </span> <a 
href="#QQ2-1-98" id="x1-980005.2.53">igrf.py</a></h4>
<!--l. 2403--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a>[Essentials Chapter 2] <a 
href="http://earthref.org/PmagPy/pmagpydocs/igrf-module.html" >[igrf docs]</a>
<!--l. 2406--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">igrf.py  </span>to estimate the field on June 1, 1995 in
                                                                     

                                                                     
Amsterdam, The Netherlands (52.5<sup><span 
class="cmsy-8">&#x2218;</span></sup> N, 5<sup><span 
class="cmsy-8">&#x2218;</span></sup>E).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-68">
%&#x00A0;igrf.py&#x00A0;-i
&#x00A0;<br />Decimal&#x00A0;year:&#x00A0;&#x003C;cntrl-D&#x00A0;to&#x00A0;quit&#x003E;&#x00A0;1995.5
&#x00A0;<br />Elevation&#x00A0;in&#x00A0;km&#x00A0;[0]
&#x00A0;<br />Latitude&#x00A0;(positive&#x00A0;north)&#x00A0;52.5
&#x00A0;<br />Longitude&#x00A0;(positive&#x00A0;east)&#x00A0;5
&#x00A0;<br />&#x00A0;&#x00A0;357.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;67.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;48534
&#x00A0;<br />
&#x00A0;<br />Decimal&#x00A0;year:&#x00A0;&#x003C;cntrl-D&#x00A0;to&#x00A0;quit&#x003E;&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
</div>
<!--l. 2419--><p class="nopar" >
<!--l. 2421--><p class="indent" >   Now read from the file <span 
class="cmti-10x-x-109">igrf</span><span 
class="cmti-10x-x-109">_example.dat </span>which requests field information for
near San Diego for the past 3000 years. The program will evaluate the
field vector for that location for dates from 1900 to the present using
the IGRF/DGRF coefficients in the IGRF-11 model available from:
<a 
href="http://www.ngdc.noaa.gov/IAGA/vmod/igrf.html" class="url" ><span 
class="cmtt-10x-x-109">http://www.ngdc.noaa.gov/IAGA/vmod/igrf.html</span></a>. For the period from 1000
BCE to 1800, the program uses the CALS3k.4b of Korte and Constable (2011)
available at: <a 
href="http://earthref.org/ERDA/1142/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/ERDA/1142/</span></a>. Prior to that and back to 8000
BCE, the program uses the coefficients of Korte et al., 2011 for the CALS10k.1b,
available at: <a 
href="http://earthref.org/ERDA/1403/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/ERDA/1403/</span></a>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-69">
%&#x00A0;igrf.py&#x00A0;-f&#x00A0;igrf_example.dat&#x00A0;-F&#x00A0;igrf.out
</div>
<!--l. 2427--><p class="nopar" >
<!--l. 2429--><p class="indent" >   You can also make a plot of secular variation of field elements by
specifying the age range and location on the command line. Try this for the
location of San Diego for the age range: -3000 1925 in increments of 50
years:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-70">
%&#x00A0;igrf.py&#x00A0;-ages&#x00A0;-3000&#x00A0;1950&#x00A0;50&#x00A0;-loc&#x00A0;33&#x00A0;-117&#x00A0;-plt
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;figure,&#x00A0;&#x003C;Return&#x003E;&#x00A0;&#x00A0;to&#x00A0;quit
</div>
<!--l. 2434--><p class="nopar" >
<!--l. 2436--><p class="indent" >   and get this plot:
<!--l. 2439--><p class="indent" >   <img 
src="PmagPy51x.png" alt="PIC" class="graphics" width="426.79134pt" height="308.14784pt" ><!--tex4ht:graphics  
name="PmagPy51x.png" src="EPSfiles/igrf.eps"  
-->
<!--l. 2442--><p class="indent" >   <a name='incfish.py'></a>
<!--l. 2443--><p class="indent" >   <a name='subsec5-2-54'></a><h4 class="subsectionHead"><span class="titlemark">5.2.54   </span> <a 
href="#QQ2-1-99" id="x1-990005.2.54">incfish.py</a></h4>
<!--l. 2444--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[ Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/incfish-module.html" >[incfish docs]</a>
<!--l. 2447--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">incfish.py </span>to calculate average inclination for inclination
only data simulated by fishrot.py for an average inclination of 60<sup><span 
class="cmsy-8">&#x2218;</span></sup>. If you
                                                                     

                                                                     
save the declination, inclination pairs, you can compare the <span 
class="cmbx-10x-x-109">incfish.py</span>
answer with the Fisher mean. The datafile <span 
class="cmti-10x-x-109">incfish</span><span 
class="cmti-10x-x-109">_example</span><span 
class="cmti-10x-x-109">_di.dat </span>has the
declination, inclination pairs and <span 
class="cmti-10x-x-109">incfish</span><span 
class="cmti-10x-x-109">_example</span><span 
class="cmti-10x-x-109">_inc.dat </span>has just the
inclinations.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-71">
%&#x00A0;fishrot.py&#x00A0;-I&#x00A0;60&#x00A0;-k&#x00A0;10&#x00A0;&#x003E;&#x00A0;incfish_example_di.dat
&#x00A0;<br />%&#x00A0;awk&#x00A0;&#8217;{print&#x00A0;$2}&#8217;&#x00A0;incfish_example_di.dat&#x00A0;&#x003E;&#x00A0;incfish_example_inc.dat
&#x00A0;<br />%&#x00A0;incfish.py&#x00A0;-f&#x00A0;incfish_example_inc.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;57.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;61.0&#x00A0;&#x00A0;100&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;92.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;13.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.0
&#x00A0;<br />%&#x00A0;gofish.py&#x00A0;-f&#x00A0;incfish_example_di.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;62.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;100&#x00A0;&#x00A0;&#x00A0;&#x00A0;91.2727&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;24.0
</div>
<!--l. 2458--><p class="nopar" >
<!--l. 2460--><p class="indent" >   The output for <span 
class="cmbx-10x-x-109">incfish.py </span>is: [gaussian] mean inc, Fisher inc, <span 
class="cmmi-10x-x-109">N,R,k,&#x03B1;</span><sub><span 
class="cmr-8">95</span></sub>.
You can see that the <span 
class="cmbx-10x-x-109">incfish.py </span>result is much closer to the Fisherian result than
the gaussian mean is.
<!--l. 2462--><p class="indent" >   <a name='irmaq_magic.py'></a>
<!--l. 2463--><p class="indent" >   <a name='subsec5-2-55'></a><h4 class="subsectionHead"><span class="titlemark">5.2.55   </span> <a 
href="#QQ2-1-100" id="x1-1000005.2.55">irmaq_magic.py</a></h4>
<!--l. 2464--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/irmaq_magic-module.html" >[irmaq_magic docs]</a>
<!--l. 2467--><p class="indent" >   Someone (Saiko Sugisaki) measured a number of samples from IODP
Expedition 318 Hole U1359A for IRM acquisition curves. She used the ASC
impulse magnetizer&#8217;s coils # 2 and 3 and saved the data in the <a 
href="#sio_magic.py" >SIO format</a>.
Convert these to the <a 
href="#MagIC" >MagIC</a> measurements format, combine them in a single
<span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file with <a 
href="#combine_magic.py" >combine_magic.py</a> and plot the data with
<span 
class="cmbx-10x-x-109">irmaq</span><span 
class="cmbx-10x-x-109">_magic.py</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-72">
%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;U1359A_IRM_coil2.txt&#x00A0;-LP&#x00A0;I&#x00A0;-V&#x00A0;2&#x00A0;-F&#x00A0;U1359A_IRM_coil2.magic&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;-loc&#x00A0;U1359A&#x00A0;-spc&#x00A0;0&#x00A0;-ncn&#x00A0;5
&#x00A0;<br />%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;U1359A_IRM_coil3.txt&#x00A0;-LP&#x00A0;I&#x00A0;-V&#x00A0;3&#x00A0;-F&#x00A0;U1359A_IRM_coil3.magic&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;-loc&#x00A0;U1359A&#x00A0;-spc&#x00A0;0&#x00A0;-ncn&#x00A0;5
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;magic_measurements.txt&#x00A0;-f&#x00A0;U1359A_IRM_coil2.magic&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;U1359A_IRM_coil3.magic
&#x00A0;<br />%&#x00A0;irmaq_magic.py
&#x00A0;<br />559&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;magic_measurements.txt
&#x00A0;<br />U1359A
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;U1359A_LP-IRM.svg
</div>
<!--l. 2481--><p class="nopar" >
<!--l. 2483--><p class="indent" >   which produces the plot:
                                                                     

                                                                     
<!--l. 2485--><p class="indent" >   <img 
src="PmagPy52x.png" alt="PIC" class="graphics" width="426.79134pt" height="433.2706pt" ><!--tex4ht:graphics  
name="PmagPy52x.png" src="EPSfiles/irmaq_magic.eps"  
-->
<!--l. 2488--><p class="indent" >   <a name='k15_magic.py'></a>
<!--l. 2489--><p class="indent" >   <a name='subsec5-2-56'></a><h4 class="subsectionHead"><span class="titlemark">5.2.56   </span> <a 
href="#QQ2-1-101" id="x1-1010005.2.56">k15_magic.py</a></h4>
<!--l. 2490--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/k15_magic-module.html" >[k15_magic docs]</a>
<!--l. 2495--><p class="indent" >   Someone took a set of samples from a dike margin in the Troodos Ophiolite
                                                                     

                                                                     
and measured their anisotropy of magnetic susceptibility on an a Kappabridge
KLY 2.0 instrument in the SIO laboratory:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-73">
tr245f&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;80.00&#x00A0;&#x00A0;&#x00A0;-46.0&#x00A0;204&#x00A0;25
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;995.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;999.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;993.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;995.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1000.
&#x00A0;<br />&#x00A0;&#x00A0;1004.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;999.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1001.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1004.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;999.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;998.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;997.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1002.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;998.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;997.
&#x00A0;<br />tr245g&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;52.00&#x00A0;&#x00A0;&#x00A0;-23.0&#x00A0;204&#x00A0;25
&#x00A0;<br />&#x00A0;&#x00A0;1076.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1066.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1072.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1077.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1067.
&#x00A0;<br />&#x00A0;&#x00A0;1076.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1068.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1072.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1076.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1067.
&#x00A0;<br />&#x00A0;&#x00A0;1068.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1075.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1071.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1068.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1076.
&#x00A0;<br />tr245h&#x00A0;&#x00A0;&#x00A0;&#x00A0;123.00&#x00A0;&#x00A0;&#x00A0;-29.0&#x00A0;204&#x00A0;25
&#x00A0;<br />&#x00A0;&#x00A0;1219.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1231.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1218.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1220.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1232.
&#x00A0;<br />&#x00A0;&#x00A0;1230.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1231.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1234.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1230.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1231.
&#x00A0;<br />&#x00A0;&#x00A0;1221.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1221.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1225.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1221.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1221.
&#x00A0;<br />tr245i1&#x00A0;&#x00A0;&#x00A0;&#x00A0;68.00&#x00A0;&#x00A0;&#x00A0;-26.0&#x00A0;204&#x00A0;25
&#x00A0;<br />&#x00A0;&#x00A0;1031.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1027.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1025.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1032.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1028.
&#x00A0;<br />&#x00A0;&#x00A0;1035.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1031.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1035.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1035.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1032.
&#x00A0;<br />&#x00A0;&#x00A0;1030.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1027.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1032.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1030.&#x00A0;&#x00A0;&#x00A0;&#x00A0;1027.
&#x00A0;<br />&#x00A0;&#x00A0;
</div>
<!--l. 2514--><p class="nopar" >
<!--l. 2516--><p class="indent" >   The first line of each set of four has the specimen name, azimuth, plunge, and
bedding strike and dip the next three lines are sets of five measurements in the
15 positions recommended by Jelinek (1977):
                                                                     

                                                                     
<!--l. 2520--><p class="indent" >   <img 
src="PmagPy53x.png" alt="PIC" class="graphics" width="426.79134pt" height="542.2731pt" ><!--tex4ht:graphics  
name="PmagPy53x.png" src="EPSfiles/meas15.eps"  
-->
<!--l. 2523--><p class="indent" >   The 15 measurements for each specimen, along with orientation information
and the specimen name were saved in the file <span 
class="cmti-10x-x-109">k15</span><span 
class="cmti-10x-x-109">_example.dat</span>. Convert these to
the MagIC format using the program <span 
class="cmbx-10x-x-109">k15</span><span 
class="cmbx-10x-x-109">_magic.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-74">
%&#x00A0;k15_magic.py&#x00A0;-spc&#x00A0;0&#x00A0;-f&#x00A0;k15_example.dat&#x00A0;-loc&#x00A0;"Troodos&#x00A0;Ophiolite"
&#x00A0;<br />Data&#x00A0;saved&#x00A0;to:&#x00A0;&#x00A0;./er_samples.txt&#x00A0;./rmag_anisotropy.txt&#x00A0;./rmag_results.txt&#x00A0;./k15_measurements.txt
&#x00A0;<br />&#x00A0;
</div>
<!--l. 2528--><p class="nopar" >
<!--l. 2530--><p class="indent" >   You can plot the output of this example (default file <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy.txt</span>)
using the program <span 
class="cmbx-10x-x-109">aniso</span><span 
class="cmbx-10x-x-109">_magic.py</span>.
<!--l. 2532--><p class="indent" >   <a name='k15_s.py'></a>
<!--l. 2533--><p class="indent" >   <a name='subsec5-2-57'></a><h4 class="subsectionHead"><span class="titlemark">5.2.57   </span> <a 
href="#QQ2-1-102" id="x1-1020005.2.57">k15_s.py</a></h4>
<!--l. 2534--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/k15_s-module.html" >[k15_s docs]</a>
<!--l. 2539--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">k15</span><span 
class="cmbx-10x-x-109">_s.py </span>to calculate the best-fit tensor elements and residual error for
the data in the file <span 
class="cmti-10x-x-109">k15</span><span 
class="cmti-10x-x-109">_example.dat </span>(same file as for <a 
href="#k15_magic.py" >k15_magic.py</a>. These are:
the specimen name, azimuth and plunge and the strike and dip, followed by the
15 measurements made using the Jelinek 1977 scheme shown in the <a 
href="#k15_magic.py" >k15_magic.py</a>
example. Calculate the .s data in specimen, geographic and tilt adjusted
coordinates:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-75">
%&#x00A0;k15_s.py&#x00A0;-f&#x00A0;k15_example.dat
&#x00A0;<br />0.33146986&#x00A0;0.33413991&#x00A0;0.33439023&#x00A0;0.00075095&#x00A0;-0.00083439&#x00A0;-0.00016688&#x00A0;0.00008618
&#x00A0;<br />0.33335925&#x00A0;0.33335925&#x00A0;0.33328149&#x00A0;-0.00155521&#x00A0;-0.00132193&#x00A0;0.00116641&#x00A0;0.00017193
&#x00A0;<br />0.33097634&#x00A0;0.33573565&#x00A0;0.33328801&#x00A0;0.00163177&#x00A0;0.00013598&#x00A0;0.00000000&#x00A0;0.00018131
&#x00A0;<br />...
&#x00A0;<br />%&#x00A0;k15_s.py&#x00A0;-f&#x00A0;k15_example.dat&#x00A0;-crd&#x00A0;g
&#x00A0;<br />0.33412680&#x00A0;0.33282733&#x00A0;0.33304587&#x00A0;-0.00015289&#x00A0;0.00124840&#x00A0;0.00135721&#x00A0;0.00008618
&#x00A0;<br />0.33556300&#x00A0;0.33198264&#x00A0;0.33245432&#x00A0;0.00087259&#x00A0;0.00024141&#x00A0;0.00096166&#x00A0;0.00017193
&#x00A0;<br />0.33584908&#x00A0;0.33140627&#x00A0;0.33274469&#x00A0;0.00131844&#x00A0;0.00118816&#x00A0;0.00002987&#x00A0;0.00018131
&#x00A0;<br />...
&#x00A0;<br />%&#x00A0;k15_s.py&#x00A0;-f&#x00A0;k15_example.dat&#x00A0;-crd&#x00A0;t
&#x00A0;<br />0.33455712&#x00A0;0.33192658&#x00A0;0.33351630&#x00A0;-0.00043563&#x00A0;0.00092770&#x00A0;0.00105006&#x00A0;0.00008618
&#x00A0;<br />0.33585501&#x00A0;0.33191562&#x00A0;0.33222935&#x00A0;0.00055960&#x00A0;-0.00005314&#x00A0;0.00064730&#x00A0;0.00017193
&#x00A0;<br />0.33586666&#x00A0;0.33084926&#x00A0;0.33328408&#x00A0;0.00142269&#x00A0;0.00013235&#x00A0;0.00009201&#x00A0;0.00018131
&#x00A0;<br />...
</div>
<!--l. 2557--><p class="nopar" >
<!--l. 2562--><p class="indent" >   <a name='KLY4S_magic.py'></a>
<!--l. 2563--><p class="indent" >   <a name='subsec5-2-58'></a><h4 class="subsectionHead"><span class="titlemark">5.2.58   </span> <a 
href="#QQ2-1-103" id="x1-1030005.2.58">KLY4S_magic.py</a></h4>
<!--l. 2563--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/KLY4S_magic-module.html" >[KLY4S_magic docs]</a>
<!--l. 2567--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">AMSSpin </span>available for downloading from
<a 
href="http://earthref.org/ERDA/940/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/ERDA/940/</span></a> generates data for the Kappabridge KLY4S
spinning magnetic susceptibility instrument as described by Gee et al.
(2008).
<!--l. 2569--><p class="indent" >   The files have the format:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-76">
318-U1359B-011H-1-W-75&#x00A0;&#x00A0;0.3415264&#x00A0;0.3403534&#x00A0;0.3181202&#x00A0;-0.0006608&#x00A0;0.0000948&#x00A0;0.0023186&#x00A0;&#x00A0;2.284E-4&#x00A0;1.26728E-4&#x00A0;1.31105E-8&#x00A0;-21.81&#x00A0;&#x00A0;&#x00A0;300.0&#x00A0;&#x00A0;&#x00A0;10.00&#x00A0;-5.13E-6&#x00A0;11/04/11&#x00A0;12:54&#x00A0;Saiko
&#x00A0;<br />318-U1359B-011H-2-W-76&#x00A0;&#x00A0;0.3369955&#x00A0;0.3361130&#x00A0;0.3268916&#x00A0;0.0000845&#x00A0;-0.0005236&#x00A0;0.0003290&#x00A0;&#x00A0;3.500E-4&#x00A0;7.85130E-5&#x00A0;3.16381E-8&#x00A0;-21.81&#x00A0;&#x00A0;&#x00A0;300.0&#x00A0;&#x00A0;&#x00A0;10.00&#x00A0;-4.11E-6&#x00A0;11/04/11&#x00A0;12:57&#x00A0;Saiko
&#x00A0;<br />318-U1359B-011H-3-W-78&#x00A0;&#x00A0;0.3373485&#x00A0;0.3364144&#x00A0;0.3262371&#x00A0;-0.0002281&#x00A0;0.0005881&#x00A0;-0.0011413&#x00A0;&#x00A0;3.523E-4&#x00A0;1.04700E-4&#x00A0;8.77716E-9&#x00A0;-21.81&#x00A0;&#x00A0;&#x00A0;300.0&#x00A0;&#x00A0;&#x00A0;10.00&#x00A0;-4.11E-6&#x00A0;11/04/11&#x00A0;13:00&#x00A0;Saiko
&#x00A0;<br />318-U1359B-011H-4-W-96&#x00A0;&#x00A0;0.3343428&#x00A0;0.3323376&#x00A0;0.3333195&#x00A0;0.0007210&#x00A0;-0.0005503&#x00A0;0.0011256
&#x00A0;<br />&#x00A0;
</div>
<!--l. 2575--><p class="nopar" > where the columns are:
<!--l. 2578--><p class="indent" >   Specimen S_1 S_2 S_3 S_4 S_5 S_6 <span 
class="cmmi-10x-x-109">&#x03C7;</span><sub><span 
class="cmmi-8">b</span></sub>(<span 
class="cmmi-10x-x-109">&#x03BC;</span>SI) date time user
<!--l. 2581--><p class="indent" >   Output files are in the format of the file <span 
class="cmti-10x-x-109">KLY4S</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>(found in
the Measurement_Import/KLY4S_magic folder). One option is for orientation
information to be output as an <span 
class="cmti-10x-x-109">azdip </span>formatted file (see <a 
href="#azdip_magic.py" >azdip_magic.py</a>.) Try it
out on some data from IODP Expedition 318 (Hole U1359B) published by Tauxe
et al., (2012). Note that the sample naming convention is # 5 (-ncn 5) and the
sample name is the same as the site (-spc 0) using <span 
class="cmbx-10x-x-109">KLY4S</span><span 
class="cmbx-10x-x-109">_magic.py </span>as
follows:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-77">
%KLY4S_magic.py&#x00A0;-f&#x00A0;KLY4S_magic_example.dat&#x00A0;&#x00A0;-spc&#x00A0;0&#x00A0;-ncn&#x00A0;5
</div>
<!--l. 2586--><p class="nopar" >
<!--l. 2588--><p class="indent" >   This command will create the files needed by the MagIC database and the
data can be plotted using <span 
class="cmbx-10x-x-109">aniso</span><span 
class="cmbx-10x-x-109">_magic.py</span>. If you were to import the sample
files from the <a 
href="#LIMS" >LIMS</a> data base for these samples, you could plot them versus
depth, or as equal area projections using <a 
href="#ani_depthplot.py" >ani_depthplot.py</a> and <a 
href="#aniso_magic.py" >aniso_magic.py</a>
respectively.
<!--l. 2594--><p class="indent" >   <a name='lnp_magic.py'></a>
<!--l. 2595--><p class="indent" >   <a name='subsec5-2-59'></a><h4 class="subsectionHead"><span class="titlemark">5.2.59   </span> <a 
href="#QQ2-1-104" id="x1-1040005.2.59">lnp_magic.py</a></h4>
<!--l. 2596--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a>, <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap3.html#linesNplanes" >[Essentials Appendix C2.2]</a> &amp; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/lnp_magic-module.html" >[lnp_magic
docs]</a>
<!--l. 2599--><p class="indent" >   This program will take <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen </span>formatted MagIC files (for example,
generated by <a 
href="#zeq_magic.py" >zeq_magic.py</a>) and plot data by site, combining best-fit lines and
best-fit planes using the method described in <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap3.html#linesNplanes" >Essentials Appendix C2.2</a>. Try this
out on the data from the San Francisco Volcanics, notorious for lightning strikes,
published by Tauxe et al., 2003. These can be downloaded from the MagIC
database from <a 
href="http://earthref.org/MAGIC/m000629dt20061213090720/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/m000629dt20061213090720/</span></a> and
unpacked with <a 
href="#download_magic.py" >download_magic.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-78">
%&#x00A0;download_magic.py&#x00A0;-f&#x00A0;zmab0001193tmp02.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_locations&#8217;
&#x00A0;<br />er_locations&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_locations.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_sites&#8217;
&#x00A0;<br />er_sites&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_samples&#8217;
&#x00A0;<br />er_samples&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />...
&#x00A0;<br />%&#x00A0;lnp_magic.py&#x00A0;-f&#x00A0;pmag_specimens.txt&#x00A0;-crd&#x00A0;g
&#x00A0;<br />sv01
&#x00A0;<br />Site&#x00A0;lines&#x00A0;planes&#x00A0;&#x00A0;kappa&#x00A0;&#x00A0;&#x00A0;a95&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;inc
&#x00A0;<br />sv01&#x00A0;0&#x00A0;&#x00A0;5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;286&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;179.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;-54.3&#x00A0;&#x00A0;4.9948
&#x00A0;<br />%&#x00A0;tilt&#x00A0;correction:&#x00A0;&#x00A0;0
&#x00A0;<br />s[a]ve&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue:
&#x00A0;<br />&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;sv01_g_eqarea.svg
&#x00A0;<br />
</div>
<!--l. 2621--><p class="nopar" >
<!--l. 2623--><p class="noindent" >which generated this figure:
                                                                     

                                                                     
<!--l. 2625--><p class="indent" >   <img 
src="PmagPy54x.png" alt="PIC" class="graphics" width="341.43306pt" height="357.3539pt" ><!--tex4ht:graphics  
name="PmagPy54x.png" src="EPSfiles/lnp-ex.eps"  
-->
<!--l. 2627--><p class="indent" >   <a name='lowrie.py'></a>
<!--l. 2628--><p class="indent" >   <a name='subsec5-2-60'></a><h4 class="subsectionHead"><span class="titlemark">5.2.60   </span> <a 
href="#QQ2-1-105" id="x1-1050005.2.60">lowrie.py</a></h4>
<!--l. 2629--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch8.html#lowrie" >[Essentials Chapter 8]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/lowrie-module.html" >[lowrie docs]</a>
<!--l. 2632--><p class="indent" >   Someone (Saiko Sugisaki) subjected a number of specimens from IODP
Expedition 318 Hole U1359A specimens to a 3-D IRM experiment and saved the
data in the <a 
href="#sio_magic.py" >SIO</a> format. Use <span 
class="cmbx-10x-x-109">lowrie.py </span>to make plots of blocking temperature for
the three coercivity fractions.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-79">
&#x00A0;<br />%&#x00A0;lowrie.py&#x00A0;-f&#x00A0;lowrie_example.dat
&#x00A0;<br />318-U1359A-002H-1-W-109
&#x00A0;<br />S[a]ve&#x00A0;figure?&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue&#x00A0;&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;lowrie:_318-U1359A-002H-1-W-109_.svg
&#x00A0;<br />318-U1359A-002H-4-W-65
&#x00A0;<br />S[a]ve&#x00A0;figure?&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue&#x00A0;&#x00A0;&#x00A0;q
</div>
<!--l. 2643--><p class="nopar" >
<!--l. 2645--><p class="indent" >   which produces plots like this:
<!--l. 2647--><p class="indent" >   <img 
src="PmagPy55x.png" alt="PIC" class="graphics" width="341.43306pt" height="350.1383pt" ><!--tex4ht:graphics  
name="PmagPy55x.png" src="EPSfiles/lowrie.eps"  
-->
                                                                     

                                                                     
<!--l. 2649--><p class="indent" >   <a name='lowrie_magic.py'></a>
<!--l. 2650--><p class="indent" >   <a name='subsec5-2-61'></a><h4 class="subsectionHead"><span class="titlemark">5.2.61   </span> <a 
href="#QQ2-1-106" id="x1-1060005.2.61">lowrie_magic.py</a></h4>
<!--l. 2651--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch8.html#lowrie" >[Essentials Chapter 8]</a> and <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/lowrie_magic-module.html" >[lowrie_magic docs]</a>
<!--l. 2654--><p class="indent" >   This program works exactly like <a 
href="#lowrie.py" >lowrie.py</a>, but works on <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt</span>
formatted files. Use <a 
href="#sio_magic.py" >sio_magic.py</a> to import the <span 
class="cmti-10x-x-109">lowrie</span><span 
class="cmti-10x-x-109">_example.dat </span>data file into
the MagIC format. Then use <span 
class="cmbx-10x-x-109">lowrie</span><span 
class="cmbx-10x-x-109">_magic.py </span>to plot the data:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-80">
%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;lowrie_example.dat&#x00A0;-LP&#x00A0;I3d&#x00A0;-loc&#x00A0;U1359A&#x00A0;-F&#x00A0;lowrie_magic_example.dat
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;11&#x00A0;12
&#x00A0;<br />318-U1359A-004H-2-W-18&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;15&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;14
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;13&#x00A0;14
&#x00A0;<br />318-U1359A-004H-2-W-44&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;15&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;14
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;14&#x00A0;16
&#x00A0;<br />318-U1359A-012H-5-W-70&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;16&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;14
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;14&#x00A0;15
&#x00A0;<br />%&#x00A0;lowrie_magic.py&#x00A0;-f&#x00A0;lowrie_magic_example.dat
&#x00A0;<br />318-U1359A-002H-1-W-109
&#x00A0;<br />S[a]ve&#x00A0;figure?&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue
</div>
<!--l. 2671--><p class="nopar" >
<!--l. 2677--><p class="indent" >   <a name='MagIC_Tutorial'></a>
<!--l. 2678--><p class="indent" >   <a name='subsec5-2-62'></a><h4 class="subsectionHead"><span class="titlemark">5.2.62   </span> <a 
href="#QQ2-1-107" id="x1-1070005.2.62">MagIC.py Tutorial</a></h4>
<!--l. 2679--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="#MagIC.py" >MagIC.py</a>
<!--l. 2682--><p class="noindent" >
<!--l. 2682--><p class="indent" >   <a name='subsubsec5-2-62-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1080005.2.62" id="x1-1080005.2.62">Importing data into the MagIC Project Directory</a></h5>
<!--l. 2685--><p class="noindent" >Data do not magically appear in the database. The paleomagnetic community
must contribute them. One way to accomplish this is to use PmagPy to import
measurement data into the MagIC format. You can use the MagIC.py GUI for
this purpose. Find some example datafiles in the subdirectory &#8216;PmagPy_tutorial&#8217;
of the <a 
href="#Datafiles" >Datafiles_2.0 directory</a>. Within this subdirectory, you will find a directory
called &#8216;<span 
class="cmti-10x-x-109">MyFiles</span>&#8217;. This contains data from alternating field demagnetization
(<span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_af.mag</span>), thellier-type experiments (<span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_thel.mag</span>), anisotropy of anhysteretic
remanence (<span 
class="cmti-10x-x-109">mc.aarm</span>), hysteresis loops (<span 
class="cmti-10x-x-109">mc205a1-1.agm </span>and <span 
class="cmti-10x-x-109">mc217a2-1.agm</span>) as
well as a file containing field orientation, location, etc. (<span 
class="cmti-10x-x-109">orient.txt</span>), age
information (<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_ages.txt</span>) and citation information (<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_citations.txt</span>).
                                                                     

                                                                     
<!--l. 2688--><p class="indent" >   Follow the steps outlined in <a 
href="#quick_start" >Quick Start</a> to create a Project Directory and
launch the <span 
class="cmbx-10x-x-109">MagIC.py </span>GUI. Create a directory called <span 
class="cmti-10x-x-109">MagIC </span>in your Project
Directory. Different operating systems will have a different look, but all versions
will put up a Welcome window when you have fired up the program
MagIC.py.
<!--l. 2690--><p class="indent" >   Now import the following:
     <ul class="itemize1">
     <li class="itemize">Field and sampling information: <a 
href="#field_info" >orient.txt</a>.
          <ul class="itemize2">
          <li class="itemize">Select orientation file: choose your orient.txt file from MyFiles.
          </li>
          <li class="itemize">Select naming convention: In this tutorial choose the first naming
          convention XXXXY (e.g., sample mc200a is related to site mc200
          by a terminal character).
          </li>
          <li class="itemize">Select  orientation  convention...:  Choose  to  use  the  IGRF
          calculation at the site and enter 13 hours for the hours to add to
          get from McMurdo time to GMT. These samples were oriented
          with  a  Pomeroy  orientation  device  so  the  correct  orientation
          method is #1, the default.
          </li>
          <li class="itemize">Select method codes: Check &#8217;FS-FD&#8217; and &#8217;SO-POM&#8217;. All the site
          locations were determined with a GPS.</li></ul>
     </li>
     <li class="itemize">Importing magnetometer data: For the example here, we will use the <a 
href="#sio_magic.py" >SIO</a>
     format and import the following files: <span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_af.mag, mc</span><span 
class="cmti-10x-x-109">_thel.mag,</span>
     <span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_aarm.mag </span>which are the AF demagnetization data, Thellier
     experiments, and anisotropy of anhysteretic magnetization respectively.
          <ul class="itemize2">
          <li class="itemize">Select <a 
href="#naming_schemes" >naming convention</a>: Choose the first option (XXXXY).
          </li>
          <li class="itemize">Next you will be presented with forms a form to file out with
          details like the location name (here, McMurdo) and laboratory
          protocol  particulars.  It  is  strongly  encouraged  to  fill  in  the
          location  name  as  this  will  save  much  head  ache  later  on.  In
          the example files provided here, specimen names are all related
                                                                     

                                                                     
          to the sample names by a terminal single character (specimen
          mc200a2 came from sample mc200a), so the number of characters
          to distinguish a specimen from a sample is &#8217;1&#8217;. This is the default
          value so you don&#8217;t actually have to enter the &#8217;1&#8217; in the forms for
          this example.
          </li>
          <li class="itemize">Check the appropriate protocols for each file.
              <ul class="itemize3">
              <li class="itemize">For the AF file (<span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_af.mag</span>), check the AF box: <img 
src="PmagPy56x.png" alt="PIC" class="graphics" width="426.79134pt" height="202.46527pt" ><!--tex4ht:graphics  
name="PmagPy56x.png" src="EPSfiles/make_sio_tut_af.eps"  
-->
              </li>
              <li class="itemize">For the Thellier experimental data (<span 
class="cmti-10x-x-109">mc</span><span 
class="cmti-10x-x-109">_thel.mag</span>), check the
                                                                     

                                                                     
              &#8217;T&#8217; box and fill in the DC field value (30 <span 
class="cmmi-10x-x-109">mu</span>T): <img 
src="PmagPy57x.png" alt="PIC" class="graphics" width="426.79134pt" height="202.46527pt" ><!--tex4ht:graphics  
name="PmagPy57x.png" src="EPSfiles/make_sio_tut_af.eps"  
-->
              </li>
              <li class="itemize">For the AARM data, check the &#8217;ANI&#8217; box and the &#8217;AF&#8217; box
              and fill in the peak AF (180 mT) and dc field values (50 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T)
              to the right: <img 
src="PmagPy58x.png" alt="PIC" class="graphics" width="426.79134pt" height="202.46527pt" ><!--tex4ht:graphics  
name="PmagPy58x.png" src="EPSfiles/make_sio_tut_aarm.eps"  
--></li></ul>
          </li></ul>
     </li>
     <li class="itemize">Importing hysteresis data There are two different modes for importing
     hysteresis/backfield data: by file or by directory. As there are only two in
                                                                     

                                                                     
     this example, we will use the former:
     <!--l. 2717--><p class="noindent" ><img 
src="PmagPy59x.png" alt="PIC" class="graphics" width="426.79134pt" height="306.56503pt" ><!--tex4ht:graphics  
name="PmagPy59x.png" src="EPSfiles/hysteresis.eps"  
-->
          <ul class="itemize2">
          <li class="itemize">Select the file.
          </li>
          <li class="itemize">Select the <a 
href="#naming_schemes" >naming convention</a>. Choose the first option as before.
          </li>
          <li class="itemize">Enter the location name (McMurdo), and the specimen name
          (same as file name) and number of characters to delineate the
          specimen from the sample (3, in this example).
          </li>
          <li class="itemize">Indicate that these files are in cgs units).</li></ul>
     </li>
                                                                     

                                                                     
     <li class="itemize">To combine all the data together, select <a 
href="#Combining_measurement_files" >Combining measurement
     files</a>.
     </li>
     <li class="itemize">Import Prior Interpretations: There are several ways to import prior
     interpretations in MagIC.py. One of the ways is to use the output of
     the<a 
href="#zeq_magic.py" >zeq_magic.py</a> and <a 
href="#thellier_magic.py" >thellier_magic.py</a> programs which interpret
     directional (AF and thermal) and paleointensity (Thellier-type)
     experimental data respectively. They produce <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen </span>formatted
     files called <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimens.txt </span>and <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_specimens.txt </span>respectively. The
     original interpretations from the Lawrence et al. (2009) paper are in the
     MyFiles directory. These can be imported by choosing the &#8217;Import prior
     interpretations&#8217; menu and choosing the MagIC formatted specimen file
     option.
     </li>
     <li class="itemize">Importing MagIC formatted files: There are two other MagIC formatted
     files already filled out for this study: <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_citations.txt </span>and <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_ages.txt</span>.
     The first has the relevant citation information, and the second age
     determinations for particular sites Import these files into the MagIC
     directory using the &#8216;Import MagIC formatted file&#8217; option.</li></ul>
<!--l. 2732--><p class="indent" >   After you have imported your various datafiles, you can process them using
the tools in the <a 
href="#AnalysisPlotsMenu" >Analysis and Plots menu</a>. All of these options generate and
execute command line calls for various <a 
href="#PmagPy" >PmagPy</a> programs. The GUI uses default
options because it &#8220;knows&#8221; the names of the files it has created, saving
you from having to figure that out. Many of these options require you
to type things in on the command line, such as &#8217;a&#8217; to s[a]ve plots, &#8217;q&#8217;
to quit, or simply return to increment the specimen name. Follow the
instructions for the specific program that are printed in the terminal
window (see also the documentation in the section on <a 
href="#PmagPy" >PmagPy</a> programs).
Once the program has exited, control will be returned to the MagIC.py
GUI.
<!--l. 2734--><p class="indent" >   The plots that are available to you now are: Demagnetization data,
Thellier-type experimental data, and Hysteresis data. You may change the
selection criteria from the defaults if you wish.
<!--l. 2737--><p class="indent" >   When you are finished looking at and perhaps re-interpreting the data, you
are ready to prepare the data for the MagIC Console: the gateway to the
MagIC database. This is a three step process under the <a 
href="#PrepareMagicConsole" >Prepare for MagIC
Console</a> menu: : Assemble specimens, Assemble results and Prepare upload
file.
                                                                     

                                                                     
     <ul class="itemize1">
     <li class="itemize"><a 
href="#PrepareMagicConsole" >Assemble specimens</a>: Just choose this and watch the console for errors.
     </li>
     <li class="itemize"><a 
href="#PrepareMagicConsole" >Assemble results</a>: Fill in the following:
          <ul class="itemize2">
          <li class="itemize">Choose the default selection criteria (unless you changed them,
          in which case you can select the customized option -exc).
          </li>
          <li class="itemize">Age Range: These samples ranged from zero to five million years,
          so fill in &#8217;0&#8217;, &#8217;5&#8217; and choose &#8217;Ma&#8217; under the
          </li>
          <li class="itemize">Choose the present latitude (-lat option) for calculating VADMs.
          </li>
          <li class="itemize">Coordinate system: Choose the geographic coordinate system.
          </li>
          <li class="itemize">If you want to look at the data on a site by site basis, select the
          -p option.</li></ul>
     </li>
     <li class="itemize">Prepare upload txt file: The <a 
href="#Uploading" >MagIC Console</a> will import a specially
     formatted ascii file, parsing all the tables into their correct tabs and
     allowing you to proceed to the final steps of file preparation for uploading
     into the database. It will create an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_locations.txt </span>file for you based on
     what is in the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file. It will ask you for the missing required
     information. In this case, the location type was &#8217;Outcrop&#8217;. Then the GUI
     prepares a file called <span 
class="cmti-10x-x-109">upload</span><span 
class="cmti-10x-x-109">_dos.txt </span>which can be directly imported into the
     MagIC console.</li></ul>
<!--l. 2751--><p class="indent" >   After you have assembled the results some additional equal area projections
and utilities will be available to you, if you wish to try these out.
<!--l. 2753--><p class="noindent" >
<!--l. 2753--><p class="indent" >   <a name='subsubsec5-2-62-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1090005.2.62" id="x1-1090005.2.62">Using the MagIC Console</a></h5>
<!--l. 2755--><p class="noindent" >To obtain the MagIC Console software, go to:
<!--l. 2757--><p class="indent" >   <a 
href="http://earthref.org/MAGIC" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC</span></a>
<!--l. 2759--><p class="noindent" >and select &#8216;MagIC Software v2.4&#8217;. Click on the &#8216;CONSOLE SOFTWARE&#8217; and
&#8217;CONTROLLED VOCABULARIES&#8217; links. Unzip the Console software and put
                                                                     

                                                                     
the Controlled vocabularies file into it (copying over whatever was there). As of
this writing the Console works on both Macs and PCs, but is extremely slow on
the Mac OS operating system. Having been warned, open Excel and then select
the &#8217;MagIC.v24.console&#8217; file. This will open the console. Under &#8217;Operations&#8217;,
select &#8217;new smartbook&#8217; and type the name &#8217;Tutorial&#8217; in the File name text
box.
<!--l. 2761--><p class="indent" >   The &#8217;wizard&#8217; will guide you in choosing the necessary columns for the
smartbook:
<!--l. 2763--><p class="indent" >   <img 
src="PmagPy60x.png" alt="PIC" class="graphics" width="426.79134pt" height="387.53209pt" ><!--tex4ht:graphics  
name="PmagPy60x.png" src="EPSFiles/wizard.eps"  
-->
<!--l. 2765--><p class="noindent" >Click on the &#8217;Use predefined settings...&#8217; choose &#8216;Classical Directional and
Intensity Study&#8217; and click &#8217;OK&#8217;. Then add &#8217;Measurement data&#8217; and &#8216;Rock
                                                                     

                                                                     
Magnetics&#8217; and click on the &#8217;Next<span 
class="cmmi-10x-x-109">&#x003E;&#x003E;</span>&#8217; button. Check the boxes for &#8217;Anisotropy&#8217;
and &#8217;Hysteresis&#8217; data and click on the &#8217;Finish&#8217; button. Your smartbook is now
ready for populating.
<!--l. 2767--><p class="indent" >   Under the &#8217;Operations&#8217; menu, select &#8216;Import data files&#8217; and choose the
&#8217;upload_dos.txt&#8217; file in your MagIC project directory. This reads it in and parses
it out to the right tables. Any error logs generated will be in the directory with
the upload_dos file. When you have satisfied your curiosity about the contents of
the smartbook, click on the &#8217;Prepare for uploading&#8217; option under the &#8217;Operations&#8217;
menu. After you indicate that you really want to do this, the console goes
through some extensive checking. If errors are encountered, you will be given the
opportunity to correct them. When the console is finished, it exports
an Excel file (in this case Tutorial.v24.xls) and a text file (in this case
Tutorial.v24.txt). If this were a real study, you would upload these into the
MagIC database by going to: <a 
href="  http://earthref.org/MAGIC " class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC</span></a> and selecting
&#8217;Upload a new contribution&#8217;. Do NOT upload this file to the database, as all
uploaded datasets must be associated with publications. This was just a
Tutorial.
<!--l. 2778--><p class="indent" >   <a name='magic_select.py'></a>
<!--l. 2779--><p class="indent" >   <a name='subsec5-2-63'></a><h4 class="subsectionHead"><span class="titlemark">5.2.63   </span> <a 
href="#QQ2-1-110" id="x1-1100005.2.63">magic_select.py</a></h4>
<!--l. 2780--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/magic_select-module.html" >[magic_select docs]</a>
<!--l. 2784--><p class="indent" >   This program takes any <a 
href="#MagIC" >MagIC</a> formatted file and selects lines that match the
search criteria and saves the output as a new MagIC formatted file of
the same type. Selection criteria match whole or partial strings, avoid
whole or partial strings or evaluate minimum or maximum values. The
syntax is to specify the input file with the -f option, the key you wish to
search on with -key, followed by the string you wish to use as a criterion,
followed with a &#8217;T&#8217; for match exactly, &#8217;F&#8217; avoid entirely, &#8217;has&#8217; for matching
partially and &#8217;not for avoiding any partial match, and min, max and
eval for evaluating the numerical value. The -F option sets the output
file.
<!--l. 2786--><p class="indent" >   For example, you could pick out all the records that match a certain site
name string. You could select out records with specified method codes. You could
get all records with inclinations that are positive.
<!--l. 2788--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">magic</span><span 
class="cmbx-10x-x-109">_select.py </span>to pick out all the best-fit lines based on AF
demagnetization data from the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>file unpacked from the MagIC
database in the <a 
href="#download_magic.py" >download_magic.py</a> example.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-81">
%&#x00A0;magic_select.py&#x00A0;-f&#x00A0;pmag_specimens.txt&#x00A0;-key&#x00A0;magic_method_codes&#x00A0;LP-DIR-AF&#x00A0;has&#x00A0;-F&#x00A0;AF_specimens.txt
&#x00A0;<br />76&#x00A0;&#x00A0;records&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;./AF_specimens.txt
&#x00A0;<br />&#x00A0;&#x00A0;%&#x00A0;magic_select.py&#x00A0;-f&#x00A0;AF_specimens.txt&#x00A0;-key&#x00A0;magic_method_codes&#x00A0;DE-BFL&#x00A0;has&#x00A0;-F&#x00A0;AF_BFL_specimens.txt
&#x00A0;<br />69&#x00A0;&#x00A0;records&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;./AF_BFL_specimens.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;
</div>
<!--l. 2796--><p class="nopar" >
<!--l. 2798--><p class="indent" >   <a name='make_magic_plots.py'></a>
<!--l. 2799--><p class="indent" >   <a name='subsec5-2-64'></a><h4 class="subsectionHead"><span class="titlemark">5.2.64   </span> <a 
href="#QQ2-1-111" id="x1-1110005.2.64">make_magic_plots.py</a></h4>
<!--l. 2800--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/make_magic_plots-module.html" >[make_magic_plots docs]</a>
<!--l. 2803--><p class="indent" >   This program will inspect the files in the current directory and autogenerate
some standard plots.
<!--l. 2805--><p class="indent" >   <a name='Measurement_Import_Scripts'></a>
<!--l. 2806--><p class="indent" >   <a name='subsec5-2-65'></a><h4 class="subsectionHead"><span class="titlemark">5.2.65   </span> <a 
href="#QQ2-1-112" id="x1-1120005.2.65">Measurement Import Scripts</a></h4>
<!--l. 2808--><p class="noindent" ><a name='2G_bin_magic.py'></a>
<!--l. 2809--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1130005.2.65" id="x1-1130005.2.65">2G_bin_magic.py</a></h5>
<!--l. 2810--><p class="noindent" >This program imports the binary format generated by the 2G proprietary
software. It will place the orientation information in the er_samples.txt file and
er_sites.txt file by default. Naming and orientation conventions can be specified
as in the sections on <a 
href="#naming_schemes" >Naming conventtions</a> and <a 
href="#orientation_schemes" >Orientation conventions</a>. You can
also specify sampling method codes that pertain to ALL samples (see section on
<a 
href="#field_info" >f</a>ield information.)
<!--l. 2813--><p class="indent" >   <a name='AGM_magic.py'></a>
<!--l. 2814--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1140005.2.65" id="x1-1140005.2.65">AGM_magic.py</a></h5>
<!--l. 2814--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch5.html#ch5" >[Essentials Chapter 5]</a> &amp; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/AGM_magic-module.html" >[AGM_magic docs]</a>
                                                                     

                                                                     
<!--l. 2818--><p class="indent" >   This program imports Micromag hysteresis files into magic_measurements
formatted files. Because this program imports data into the MagIC database,
specimens need also to have sample/site/location information which can
be provided on the command line. If this information is not available,
for example if this is a synthetic specimen, specify -syn SYN_NAME
for synthetic on the command line instead of the -spn SPEC_NAME
switch.
<!--l. 2821--><p class="indent" >   Someone named Lima Tango has measured a synthetic specimen named <span 
class="cmti-10x-x-109">myspec</span>
for hysteresis and saved the data in a file named <span 
class="cmti-10x-x-109">agm</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.agm</span>. The
backfield IRM curve for the same specimen was saved in <span 
class="cmti-10x-x-109">agm</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.irm</span>.
Use the program <span 
class="cmbx-10x-x-109">AGM</span><span 
class="cmbx-10x-x-109">_magic.py </span>to import the data into a magic_measurements
formatted output file. These were measured using cgs units, so be sure to set
the units switch properly. Combine the two output files together using
<a 
href="#combine_magic.py" >combine_magic.py</a>. [This can be plotted using <span 
class="cmbx-10x-x-109">hysteresis</span><span 
class="cmbx-10x-x-109">_magic.py </span>or
<span 
class="cmbx-10x-x-109">quick</span><span 
class="cmbx-10x-x-109">_hyst.py</span>.] <span 
class="cmbx-10x-x-109">hysteresis</span><span 
class="cmbx-10x-x-109">_magic.py </span>will calculate various hysteresis
parameters and put them in the relevant magic tables for you. ] s
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-82">
%&#x00A0;AGM_magic.py&#x00A0;-spn&#x00A0;myspec&#x00A0;--usr&#x00A0;"Lima&#x00A0;Tango"&#x00A0;-f&#x00A0;agm_magic_example.agm&#x00A0;-u&#x00A0;cgs
&#x00A0;<br />
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./agm_measurements.txt
&#x00A0;<br />%&#x00A0;AGM_magic.py&#x00A0;-spn&#x00A0;myspec&#x00A0;--usr&#x00A0;"Lima&#x00A0;Tango"&#x00A0;-f&#x00A0;agm_magic_example.irm&#x00A0;-u&#x00A0;cgs&#x00A0;&#x00A0;-bak
&#x00A0;<br />
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./irm_measurements.txt
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;magic_measurements.txt&#x00A0;-f&#x00A0;agm_measurements.txt&#x00A0;irm_measurements.txt
&#x00A0;<br />
</div>
<!--l. 2832--><p class="nopar" >
<!--l. 2836--><p class="indent" >   <a name='CIT_magic.py'></a>
<!--l. 2837--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1150005.2.65" id="x1-1150005.2.65">CIT_magic.py</a></h5>
<!--l. 2839--><p class="noindent" >Craig Jones&#8217; <span 
class="cmbx-10x-x-109">PaleoMag </span>software package
(<a 
href="http://cires.colorado.edu/people/jones.craig/PMag3.html" class="url" ><span 
class="cmtt-10x-x-109">http://cires.colorado.edu/people/jones.craig/PMag3.html</span></a>) imports
various file formats, including the so-called &#8217;CIT&#8217; format developed for the
Cal Tech lab.The documentation for the CIT sample format is here:
<a 
href="http://cires.colorado.edu/people/jones.craig/PMag_Formats.html#SAM_format" class="url" ><span 
class="cmtt-10x-x-109">http://cires.colorado.edu/people/jones.craig/PMag_Formats.html#SAM_format</span></a>.
Demagnetization data for each specimen is in its own file in a directory with all
the data for a study. These files are rather strictly formatted with fields
determined by the character number in the line. A typical datafile (hat tip
Swanson-Hysell et al. (2009)) has this format:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-83">
MP&#x00A0;18-1
&#x00A0;<br />&#x00A0;_________169.0&#x00A0;&#x00A0;47.0&#x00A0;170.0&#x00A0;&#x00A0;42.0&#x00A0;&#x00A0;&#x00A0;1.0
&#x00A0;<br />NRM&#x00A0;&#x00A0;&#x00A0;&#x00A0;256.8&#x00A0;-60.3&#x00A0;&#x00A0;63.7&#x00A0;-77.5&#x00A0;4.36E-03&#x00A0;001.8&#x00A0;351.8&#x00A0;-72.5&#x00A0;3.244495&#x00A0;13.18438&#x00A0;0.620611&#x00A0;lowensta
&#x00A0;<br />TT&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;254.0&#x00A0;-60.5&#x00A0;&#x00A0;70.1&#x00A0;-77.5&#x00A0;4.28E-03&#x00A0;002.3&#x00A0;356.4&#x00A0;-72.5&#x00A0;4.752208&#x00A0;16.68586&#x00A0;1.969320&#x00A0;shoemake
&#x00A0;<br />AF&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;260.3&#x00A0;-60.5&#x00A0;&#x00A0;56.5&#x00A0;-76.8&#x00A0;4.32E-03&#x00A0;000.6&#x00A0;346.6&#x00A0;-71.8&#x00A0;3.370241&#x00A0;2.506036&#x00A0;0.391227&#x00A0;lowensta
&#x00A0;<br />AF&#x00A0;&#x00A0;20&#x00A0;256.4&#x00A0;-61.0&#x00A0;&#x00A0;65.2&#x00A0;-76.8&#x00A0;4.33E-03&#x00A0;000.5&#x00A0;352.9&#x00A0;-71.8&#x00A0;3.260177&#x00A0;2.374987&#x00A0;0.277467&#x00A0;lowensta
&#x00A0;<br />AF&#x00A0;&#x00A0;40&#x00A0;254.1&#x00A0;-61.3&#x00A0;&#x00A0;70.0&#x00A0;-76.7&#x00A0;4.34E-03&#x00A0;000.8&#x00A0;356.4&#x00A0;-71.7&#x00A0;3.283688&#x00A0;5.443790&#x00A0;0.216938&#x00A0;lowensta
&#x00A0;<br />TT&#x00A0;100&#x00A0;254.6&#x00A0;-61.6&#x00A0;&#x00A0;69.1&#x00A0;-76.4&#x00A0;4.36E-03&#x00A0;002.6&#x00A0;355.8&#x00A0;-71.3&#x00A0;1.512697&#x00A0;20.08180&#x00A0;0.568813&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;150&#x00A0;259.5&#x00A0;-61.8&#x00A0;&#x00A0;59.9&#x00A0;-75.7&#x00A0;4.49E-03&#x00A0;000.6&#x00A0;349.0&#x00A0;-70.6&#x00A0;2.292811&#x00A0;4.155307&#x00A0;0.582492&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;200&#x00A0;254.2&#x00A0;-62.5&#x00A0;&#x00A0;70.2&#x00A0;-75.4&#x00A0;4.57E-03&#x00A0;000.7&#x00A0;356.7&#x00A0;-70.4&#x00A0;3.548058&#x00A0;4.420838&#x00A0;1.117214&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;250&#x00A0;255.4&#x00A0;-62.5&#x00A0;&#x00A0;68.0&#x00A0;-75.4&#x00A0;4.59E-03&#x00A0;000.9&#x00A0;355.1&#x00A0;-70.4&#x00A0;5.709379&#x00A0;4.016543&#x00A0;2.128517&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;300&#x00A0;254.3&#x00A0;-63.7&#x00A0;&#x00A0;70.4&#x00A0;-74.3&#x00A0;4.55E-03&#x00A0;001.3&#x00A0;356.9&#x00A0;-69.2&#x00A0;4.430973&#x00A0;9.541593&#x00A0;1.820396&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;350&#x00A0;254.9&#x00A0;-64.5&#x00A0;&#x00A0;69.6&#x00A0;-73.5&#x00A0;4.49E-03&#x00A0;000.8&#x00A0;356.3&#x00A0;-68.4&#x00A0;2.008315&#x00A0;6.203830&#x00A0;0.690625&#x00A0;shoemake
&#x00A0;<br />TT&#x00A0;400&#x00A0;252.8&#x00A0;-64.2&#x00A0;&#x00A0;72.8&#x00A0;-73.8&#x00A0;4.48E-03&#x00A0;001.6&#x00A0;358.8&#x00A0;-68.8&#x00A0;2.923507&#x00A0;12.20715&#x00A0;1.171037&#x00A0;shoemake
</div>
<!--l. 2858--><p class="nopar" >
<!--l. 2860--><p class="indent" >   There is an optional first line with &#8217;CIT&#8217; on it (not shown here).
<!--l. 2862--><p class="indent" >   There must be a file with the suffix &#8216;.sam&#8217; in the same directory which gives
details about the samples and a list of the datafiles in the directory. The .sam file
has the form:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-84">
Mamainse&#x00A0;Point
&#x00A0;<br />&#x00A0;47.1&#x00A0;275.3&#x00A0;&#x00A0;-7.2
&#x00A0;<br />MP18-1
&#x00A0;<br />MP18-2
&#x00A0;<br />MP18-3
&#x00A0;<br />MP18-4
&#x00A0;<br />MP18-5
&#x00A0;<br />MP18-6
</div>
<!--l. 2873--><p class="nopar" >
<!--l. 2875--><p class="indent" >   The first line is a comment, the second is the latitude and longitude followed
by a declination correction.
<!--l. 2877--><p class="indent" >   For detailed description of the file format, check <a 
href="http://cires.colorado.edu/people/jones.craig/PMag3.html" >the PaleoMag</a> home
page.
<!--l. 2879--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">CIT</span><span 
class="cmbx-10x-x-109">_magic.py </span>to import the data files from the example
data files in the <span 
class="cmti-10x-x-109">CIT</span><span 
class="cmti-10x-x-109">_magic </span>directory of the <span 
class="cmti-10x-x-109">Measurement</span><span 
class="cmti-10x-x-109">_Import </span>directory of the
<a 
href="#Datafiles" >Datafiles_2.0</a> directory. The location name was &#8220;Mamainse Point&#8221;, the <a 
href="#naming_schemes" >naming
convention</a> was #2 and they were collected by drilling and with a magnetic
compass.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-85">
&#x00A0;CIT_magic.py&#x00A0;&#x00A0;-f&#x00A0;bMP.sam&#x00A0;-loc&#x00A0;"Mamainse&#x00A0;Point"&#x00A0;-spc&#x00A0;0&#x00A0;-ncn&#x00A0;2&#x00A0;-mcd&#x00A0;&#8217;FS-FD:SO-MAG&#8217;
&#x00A0;<br />Mamainse&#x00A0;Point&#x00A0;first&#x00A0;run&#x00A0;(samples&#x00A0;collected&#x00A0;10/05,&#x00A0;samples&#x00A0;run&#x00A0;04/06)
&#x00A0;<br />
&#x00A0;<br />specimens&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./er_specimens.txt
&#x00A0;<br />samples&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;3
&#x00A0;<br />MP18-1&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;23&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;21
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;2
&#x00A0;<br />MP18-2&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;25&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;24
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;3
&#x00A0;<br />MP18-3&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;26&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;24
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;2
&#x00A0;<br />MP18-4&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;25&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;24
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;3
&#x00A0;<br />MP18-5&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;26&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;24
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;1&#x00A0;2
&#x00A0;<br />MP18-6&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;25&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;24
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />data&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
</div>
<!--l. 2906--><p class="nopar" >
<!--l. 2908--><p class="indent" >   These data can now be viewed and interpreted using, for example
<a 
href="#zeq_magic.py" >zeq_magic.py</a>.
<!--l. 2910--><p class="indent" >   <a name='HUJI_magic.py'></a>
<!--l. 2911--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1160005.2.65" id="x1-1160005.2.65">HUJI_magic.py</a></h5>
<!--l. 2913--><p class="noindent" >This program was developed for the late Prof. Hagai Ron at the Hebrew
Universisty, Jerusalem for files with formats like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-86">
mk118 07R-08329 5/10/2007 7:35 N 0 10.4 73.9 10.4 73.9
2.23E-03
&#x00A0;<br />mk118 07R-08330 5/10/2007 7:37 A 5 359.2 60 359.2 60 2.19E-03
&#x00A0;<br />mk118 07R-08331 5/10/2007 7:38 A 10 358.4 48 358.4 48
1.50E-03
&#x00A0;<br />mk118 07R-08332 5/10/2007 7:40 A 15 357.7 43.5 357.7 43.5
8.34E-04
&#x00A0;<br />mk118 07R-08333 5/10/2007 7:42 A 20 358.4 42.5 358.4 42.5
4.89E-04
&#x00A0;<br />mk118 07R-08334 5/10/2007 7:44 A 25 358.8 40.6 358.8 40.6
3.06E-04
&#x00A0;<br />mk118 07R-08335 5/10/2007 7:46 A 30 356.6 41.1 356.6 41.1
2.16E-04
&#x00A0;<br />mk118 07R-08336 5/10/2007 7:48 A 40 357 39.3 357 39.3
1.39E-04
&#x00A0;<br />mk118 07R-08337 5/10/2007 7:50 A 50 357 40 357 40 1.03E-04
&#x00A0;<br />mk118 07R-08338 5/10/2007 7:53 A 60 351.7 46.9 351.7 46.9
9.64E-05
&#x00A0;<br />mk118 07R-08339 5/10/2007 7:55 A 70 350.7 48.7 350.7 48.7
8.89E-05
&#x00A0;<br />mk118 07R-08340 5/10/2007 7:58 A 80 353.8 38.8 353.8 38.8
6.77E-05
</div>
<!--l. 2929--><p class="nopar" >
<!--l. 2931--><p class="indent" >   <span 
class="cmbx-10x-x-109">HUJI</span><span 
class="cmbx-10x-x-109">_magic.py </span>works in a similar fashion to <a 
href="#sio_magic.py" >sio_magic.py</a>.
<!--l. 2933--><p class="indent" >   <a name='LDEO_magic.py'></a>
<!--l. 2934--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1170005.2.65" id="x1-1170005.2.65">LDEO_magic.py</a></h5>
<!--l. 2935--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/LDEO_magic-module.html" >[LDEO_magic docs]</a>
<!--l. 2939--><p class="indent" >   This program works in much the same fashion as <a 
href="#sio_magic.py" >sio_magic.py</a> but the file
formats are different. Here is a typical example:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-87">
isaf2.fix
&#x00A0;<br />LAT:&#x00A0;&#x00A0;&#x00A0;.00&#x00A0;&#x00A0;LON:&#x00A0;&#x00A0;&#x00A0;&#x00A0;.00
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;ID&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TREAT&#x00A0;&#x00A0;I&#x00A0;&#x00A0;CD&#x00A0;&#x00A0;&#x00A0;&#x00A0;J&#x00A0;&#x00A0;&#x00A0;&#x00A0;CDECL&#x00A0;CINCL&#x00A0;&#x00A0;GDECL&#x00A0;GINCL&#x00A0;&#x00A0;BDECL&#x00A0;BINCL&#x00A0;&#x00A0;SUSC&#x00A0;&#x00A0;M/V
&#x00A0;<br />________________________________________________________________________________
&#x00A0;<br />is031c2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;.0&#x00A0;&#x00A0;SD&#x00A0;&#x00A0;0&#x00A0;461.600&#x00A0;163.9&#x00A0;&#x00A0;17.5&#x00A0;&#x00A0;337.1&#x00A0;&#x00A0;74.5&#x00A0;&#x00A0;319.1&#x00A0;&#x00A0;74.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;.0&#x00A0;&#x00A0;&#x00A0;.0
</div>
<!--l. 2947--><p class="nopar" > The first line is the file name and the second has the latitude and longitude
information. The columns are:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-88">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ID:&#x00A0;specimen&#x00A0;name
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;TREAT:&#x00A0;&#x00A0;treatment&#x00A0;step
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;I:&#x00A0;&#x00A0;Instrument
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;CD:&#x00A0;&#x00A0;Circular&#x00A0;standard&#x00A0;devation
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;J:&#x00A0;intensity.&#x00A0;&#x00A0;assumed&#x00A0;to&#x00A0;be&#x00A0;total&#x00A0;moment&#x00A0;in&#x00A0;10^-4&#x00A0;(emu)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;CDECL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;specimen&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;CINCL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;specimen&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;GDECL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;geographic&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;GINCL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;geographic&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BDECL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;bedding&#x00A0;adjusted&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;BINCL:&#x00A0;&#x00A0;Declination&#x00A0;in&#x00A0;bedding&#x00A0;adjusted&#x00A0;coordinate&#x00A0;system
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;SUSC:&#x00A0;&#x00A0;magnetic&#x00A0;susceptibility&#x00A0;(in&#x00A0;micro&#x00A0;SI)a
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;M/V:&#x00A0;mass&#x00A0;or&#x00A0;volume&#x00A0;for&#x00A0;nomalizing&#x00A0;(0&#x00A0;won&#8217;t&#x00A0;normalize)
</div>
<!--l. 2963--><p class="nopar" >
<!--l. 2965--><p class="indent" >   Use the program to import the file <span 
class="cmti-10x-x-109">ldeo</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>into the MagIC
format. It was an AF demagnetization experiment.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-89">
%&#x00A0;LDEO_magic.py&#x00A0;-f&#x00A0;ldeo_magic_example.dat&#x00A0;-LP&#x00A0;AF
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;magic_measurements.txt
</div>
<!--l. 2970--><p class="nopar" >
<!--l. 2972--><p class="indent" >   <a name='IODP_csv_magic.py'></a>
<!--l. 2973--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1180005.2.65" id="x1-1180005.2.65">IODP_csv_magic.py</a></h5>
<!--l. 2975--><p class="noindent" >Just for fun, download the whole core data from IODP expedition 318, Site
U1359, Hole A. (Section Half set to &#8217;A&#8217;) from the <a 
href="#LIMS" >IODP LIMS database</a> using
WebTabular. These data were used in Tauxe et al. (2012) after some editing
(removal core ends and disturbed intervals). Convert them into the MagIC
format using <span 
class="cmbx-10x-x-109">ODP</span><span 
class="cmbx-10x-x-109">_csv</span><span 
class="cmbx-10x-x-109">_magic.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-90">
%&#x00A0;IODP_csv_magic.py&#x00A0;-f&#x00A0;SRM_318_U1359_A_A.csv
&#x00A0;<br />processing:&#x00A0;&#x00A0;SRM_318_U1359_A_A.csv
&#x00A0;<br />specimens&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./er_specimens.txt
&#x00A0;<br />samples&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />......
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />data&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
</div>
<!--l. 2985--><p class="nopar" >
<!--l. 2987--><p class="indent" >   This takes a while so be patient....
<!--l. 2989--><p class="indent" >   If you also downloaded the <a 
href="#IODP_core_summary" >core summary</a> data from the <a 
href="#LIMS" >LIMS</a> database, you
can plot the data and the core tops using <a 
href="#core_depthplot.py" >core_depthplot.py</a>
<!--l. 2992--><p class="indent" >   <a name='PMD_magic.py'></a>
<!--l. 2993--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1190005.2.65" id="x1-1190005.2.65">PMD_magic.py</a></h5>
<!--l. 2996--><p class="noindent" >This format is the one used to import .PMD formatted magnetometer files (used
for example in the PaleoMac software of Cogn, 2003) into the MagIC format.
(See <a 
href="http://www.ipgp.fr/~cogne/pub/paleomac/PMhome.html" class="url" ><span 
class="cmtt-10x-x-109">http://www.ipgp.fr/</span><span 
class="cmtt-10x-x-109">~</span><span 
class="cmtt-10x-x-109">cogne/pub/paleomac/PMhome.html</span></a> for the
PaleoMac home page. The version of these files that <span 
class="cmbx-10x-x-109">PMD</span><span 
class="cmbx-10x-x-109">_magic.py </span>expects
(UCSC version) contains demagnetization data for a single specimen and have a
format like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-91">
Strat&#x00A0;post&#x00A0;corrected&#x00A0;-&#x00A0;Summit&#x00A0;Springs,&#x00A0;-
&#x00A0;<br />ss0101a&#x00A0;&#x00A0;&#x00A0;a=&#x00A0;93.9&#x00A0;&#x00A0;&#x00A0;b=&#x00A0;61.0&#x00A0;&#x00A0;&#x00A0;s=&#x00A0;&#x00A0;0.0&#x00A0;&#x00A0;&#x00A0;d=&#x00A0;&#x00A0;0.0&#x00A0;&#x00A0;&#x00A0;v=11.0E-6m3&#x00A0;&#x00A0;06/17/2003&#x00A0;12:00
&#x00A0;<br />STEP&#x00A0;&#x00A0;Xc&#x00A0;[Am2]&#x00A0;&#x00A0;Yc&#x00A0;[Am2]&#x00A0;&#x00A0;Zc&#x00A0;[Am2]&#x00A0;&#x00A0;MAG[A/m]&#x00A0;&#x00A0;&#x00A0;Dg&#x00A0;&#x00A0;&#x00A0;&#x00A0;Ig&#x00A0;&#x00A0;&#x00A0;&#x00A0;Ds&#x00A0;&#x00A0;&#x00A0;&#x00A0;Is&#x00A0;&#x00A0;a95
&#x00A0;<br />H000&#x00A0;-7.46E-06&#x00A0;-1.61E-05&#x00A0;+5.31E-05&#x00A0;+5.09E+00&#x00A0;&#x00A0;73.3&#x00A0;&#x00A0;35.2&#x00A0;&#x00A0;73.3&#x00A0;&#x00A0;35.2&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H002&#x00A0;-7.57E-06&#x00A0;-1.53E-05&#x00A0;+5.03E-05&#x00A0;+4.83E+00&#x00A0;&#x00A0;73.2&#x00A0;&#x00A0;35.7&#x00A0;&#x00A0;73.2&#x00A0;&#x00A0;35.7&#x00A0;&#x00A0;0.7&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H005&#x00A0;-7.35E-06&#x00A0;-1.16E-05&#x00A0;+3.62E-05&#x00A0;+3.52E+00&#x00A0;&#x00A0;71.5&#x00A0;&#x00A0;38.3&#x00A0;&#x00A0;71.5&#x00A0;&#x00A0;38.3&#x00A0;&#x00A0;0.7&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H008&#x00A0;-7.35E-06&#x00A0;-6.27E-06&#x00A0;+1.92E-05&#x00A0;+1.95E+00&#x00A0;&#x00A0;68.5&#x00A0;&#x00A0;47.1&#x00A0;&#x00A0;68.5&#x00A0;&#x00A0;47.1&#x00A0;&#x00A0;0.7&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H012&#x00A0;-6.84E-06&#x00A0;-3.32E-06&#x00A0;+1.20E-05&#x00A0;+1.29E+00&#x00A0;&#x00A0;69.1&#x00A0;&#x00A0;56.1&#x00A0;&#x00A0;69.1&#x00A0;&#x00A0;56.1&#x00A0;&#x00A0;0.6&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H018&#x00A0;-6.00E-06&#x00A0;-2.26E-06&#x00A0;+8.96E-06&#x00A0;+1.00E+00&#x00A0;&#x00A0;69.3&#x00A0;&#x00A0;60.5&#x00A0;&#x00A0;69.3&#x00A0;&#x00A0;60.5&#x00A0;&#x00A0;0.6&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H025&#x00A0;-5.16E-06&#x00A0;-1.74E-06&#x00A0;+7.18E-06&#x00A0;+8.19E-01&#x00A0;&#x00A0;69.2&#x00A0;&#x00A0;62.5&#x00A0;&#x00A0;69.2&#x00A0;&#x00A0;62.5&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H050&#x00A0;-3.12E-06&#x00A0;-9.23E-07&#x00A0;+4.03E-06&#x00A0;+4.71E-01&#x00A0;&#x00A0;69.3&#x00A0;&#x00A0;64.6&#x00A0;&#x00A0;69.3&#x00A0;&#x00A0;64.6&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H090&#x00A0;-1.80E-06&#x00A0;-5.32E-07&#x00A0;+2.23E-06&#x00A0;+2.65E-01&#x00A0;&#x00A0;67.6&#x00A0;&#x00A0;65.6&#x00A0;&#x00A0;67.6&#x00A0;&#x00A0;65.6&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;cryoSlug
&#x00A0;<br />H180&#x00A0;-9.49E-07&#x00A0;-2.94E-07&#x00A0;+1.21E-06&#x00A0;+1.42E-01&#x00A0;&#x00A0;67.7&#x00A0;&#x00A0;64.8&#x00A0;&#x00A0;67.7&#x00A0;&#x00A0;64.8&#x00A0;&#x00A0;0.5&#x00A0;&#x00A0;cryoSlug
</div>
<!--l. 3013--><p class="nopar" >
<!--l. 3015--><p class="indent" >   The first line is a comment line. The second line has the specimen name, the
core azimuth (a=) and plunge (b=) which are assumed to be the lab arrow
azimuth and plunge (<a 
href="#orientation_schemes" >Orientation scheme</a> #4)D. The third line is a header
explaining the columns in the file.
<!--l. 3018--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">PMD</span><span 
class="cmbx-10x-x-109">_magic.py </span>to convert the file <span 
class="cmti-10x-x-109">ss0101a.pmd </span>in the directory
&#8217;PMD&#8217; in the &#8217;PMD_magic&#8217; folder of the <span 
class="cmti-10x-x-109">Measurement</span><span 
class="cmti-10x-x-109">_import </span>directory in
the example <a 
href="#Datafiles" >datafiles</a> directory. These were taken at a location named
&#8217;Summit Springs&#8217; and have a naming convention of the type XXXX[YYY],
where YYY is sample designation with Z characters from site XXX, or
<a name='naming_schemes'></a>naming convention # 4-2. A single character distinguishes the specimen
from the sample (-spc 1). All samples were oriented with a magnetic
compass.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-92">
%&#x00A0;PMD_magic.py&#x00A0;-f&#x00A0;ss0101a.pmd&#x00A0;-loc&#x00A0;"Summit&#x00A0;Springs"&#x00A0;-ncn&#x00A0;4-2&#x00A0;-spc&#x00A0;1&#x00A0;-mcd&#x00A0;SO-MAG&#x00A0;-F&#x00A0;ss0101a.magic
&#x00A0;<br />&#x00A0;results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
&#x00A0;<br />sample&#x00A0;orientations&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
</div>
<!--l. 3024--><p class="nopar" >
<!--l. 3026--><p class="indent" >   Because each file must be imported separately, you should use a different
name for the output file for each input file (otherwise you will overwrite the
default each time) and set the switch for sample file to append for subsequent
imports:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-93">
%&#x00A0;PMD_magic.py&#x00A0;-f&#x00A0;ss0102a.pmd&#x00A0;-loc&#x00A0;"Summit&#x00A0;Springs"&#x00A0;-ncn&#x00A0;4-2&#x00A0;-spc&#x00A0;1&#x00A0;-mcd&#x00A0;SO-MAG&#x00A0;-F&#x00A0;ss0102a.magic-Fsa&#x00A0;er_samples.txt
&#x00A0;<br />sample&#x00A0;information&#x00A0;will&#x00A0;be&#x00A0;appended&#x00A0;to&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
&#x00A0;<br />sample&#x00A0;orientations&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
</div>
<!--l. 3033--><p class="nopar" > After you finish importing all the data, combine the individual files
together with <a 
href="#combine_magic.py" >combine_magic.py</a> and look at them with, for example,
<a 
href="#zeq_magic.py" >zeq_magic.py</a>.
<!--l. 3036--><p class="indent" >   (see also <a 
href="#PMM_redo.py" >PMM_redo.py</a> for importing interpretations made on these files
using the UCSC (Jarboe) software).
<!--l. 3038--><p class="indent" >   <a name='sio_magic.py'></a>
<!--l. 3039--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1200005.2.65" id="x1-1200005.2.65">sio_magic.py</a></h5>
<!--l. 3040--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/sio_magic-module.html" >[sio_magic docs]</a>
<!--l. 3043--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">sio</span><span 
class="cmbx-10x-x-109">_magic.py </span>allows conversion of the SIO format
magnetometer files to the MagIC common measurements format. It allows
various experiment types so read the help message. The SIO format is a space
delimited file:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-94">
sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.878E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;185.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.3
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.864E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;187.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.6
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.833E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;185.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.0
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.771E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;188.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.0
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;20.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.644E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;187.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.1
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;30.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.182E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;186.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.9
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;40.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.799E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;185.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.9
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;50.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.570E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;187.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.6
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;60.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.423E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;185.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.0
&#x00A0;<br />sc12b1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;80.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.275E-2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;187.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.5
</div>
<!--l. 3057--><p class="nopar" >
<!--l. 3059--><p class="indent" >   The columns are:
<!--l. 3061--><p class="indent" >   Specimen treatment intensity declination inclination optional_string
<!--l. 3064--><p class="indent" >   The treatment field is the temperature (in centigrade), the AF field (in mT),
the impulse field strength, etc. For special experiments like IRM acquisition, the
coil number of the popular ASC impulse magnetizer can be specified if the
treatment steps are in volts. The <a 
href="#k15_magic.py" >position</a> for anisotropy experiments or
whether the treatment is &#8220;in-field&#8221; or in zero field also require special
formatting. The units of the intensity field are in cgs and the directions are
relative to the &#8216;lab arrow&#8217; on the specimen. Here are some examples
of commonly used specimens and conversions from field arrow to lab
arrow.
<!--l. 3066--><p class="indent" >   <img 
src="PmagPy61x.png" alt="PIC" class="graphics" width="426.79134pt" height="102.07436pt" ><!--tex4ht:graphics  
name="PmagPy61x.png" src="EPSfiles/samples.eps"  
-->
<!--l. 3071--><p class="indent" >   As an example, we use data from Sbarbori et al. (2009) done on a set of samples
from the location &#8220;Socorro&#8221;, including AF, thermal, and thellier experimental
data. These were saved in <span 
class="cmti-10x-x-109">sio</span><span 
class="cmti-10x-x-109">_af</span><span 
class="cmti-10x-x-109">_example.dat, sio</span><span 
class="cmti-10x-x-109">_thermal</span><span 
class="cmti-10x-x-109">_example.dat, and</span>
<span 
class="cmti-10x-x-109">sio</span><span 
class="cmti-10x-x-109">_thellier</span><span 
class="cmti-10x-x-109">_example.dat </span>respectively. The lab field for the thellier experiment was
25 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T and was applied along the specimen&#8217;s Z axis (phi=0,theta=90).]
                                                                     

                                                                     
Convert the example files into magic_measurement formatted files with
names like <span 
class="cmti-10x-x-109">af</span><span 
class="cmti-10x-x-109">_measurements.txt</span>, etc. Then combine them together with
<a 
href="#combine_magic" >combine_magic.py</a>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-95">
&#x00A0;<br />Note:&#x00A0;&#x00A0;all&#x00A0;of&#x00A0;these&#x00A0;should&#x00A0;actually&#x00A0;be&#x00A0;on&#x00A0;ONE&#x00A0;line:
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;sio_af_example.dat&#x00A0;-F&#x00A0;af_measurements.txt
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;-LP&#x00A0;AF&#x00A0;-spc&#x00A0;1&#x00A0;-loc&#x00A0;Socorro
&#x00A0;<br />
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;11&#x00A0;13
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;14&#x00A0;16
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;17&#x00A0;19
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;20&#x00A0;22
&#x00A0;<br />sc12b1&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;22&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;14
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;af_measurements.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;sio_thermal_example.dat&#x00A0;-F&#x00A0;thermal_measurements.txt&#x00A0;&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;-LP&#x00A0;T&#x00A0;-spc&#x00A0;1&#x00A0;-loc&#x00A0;Socorro
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;6&#x00A0;7
&#x00A0;<br />sc12b2&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;23&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;22
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;thermal_measurements.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;sio_magic.py&#x00A0;-f&#x00A0;sio_thellier_example.dat&#x00A0;-F&#x00A0;&#x00A0;thellier_measurements.txt&#x00A0;&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-LP&#x00A0;T&#x00A0;-spc&#x00A0;1&#x00A0;-loc&#x00A0;Socorro&#x00A0;-dc&#x00A0;25&#x00A0;0&#x00A0;90
&#x00A0;<br />averaging:&#x00A0;records&#x00A0;&#x00A0;10&#x00A0;11
&#x00A0;<br />sc12b2&#x00A0;started&#x00A0;with&#x00A0;&#x00A0;56&#x00A0;&#x00A0;ending&#x00A0;with&#x00A0;&#x00A0;55
&#x00A0;<br />Averaged&#x00A0;replicate&#x00A0;measurements
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;thellier_measurements.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;magic_measurements.txt&#x00A0;-f&#x00A0;&#x00A0;thellier_measurements.txt&#x00A0;&#x00A0;&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;thermal_measurements.txt&#x00A0;&#x00A0;af_measurements.txt
&#x00A0;<br />
&#x00A0;<br />File&#x00A0;&#x00A0;./thermal_measurements.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;22&#x00A0;&#x00A0;records
&#x00A0;<br />File&#x00A0;&#x00A0;./thellier_measurements.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;55&#x00A0;&#x00A0;records
                                                                     

                                                                     
&#x00A0;<br />File&#x00A0;&#x00A0;./af_measurements.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;14&#x00A0;&#x00A0;records
&#x00A0;<br />All&#x00A0;records&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;
</div>
<!--l. 3115--><p class="nopar" >
<!--l. 3117--><p class="indent" >   The data in these files can be plotted and interpreted with <a 
href="#dmag_magic.py" >dmag_magic.py</a>,
<a 
href="#zeq_magic.py" >zeq_magic.py</a>, or <a 
href="#thellier_magic.py" >thellier_magic.py</a> depending on the experiment.
<!--l. 3119--><p class="indent" >   Note that there are more examples of data file formats and import schemes in
the sections on anisotropy of <a 
href="#aarm_magic.py" >anhysteretic</a> and <a 
href="#atrm_magic.py" >thermal</a> remanences.
<!--l. 3121--><p class="indent" >   <a name='SUFAR4-asc_magic.py'></a>
<!--l. 3122--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1210005.2.65" id="x1-1210005.2.65">SUFAR4-asc_magic.py</a></h5>
<!--l. 3123--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a>; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/SUFAR4-asc_magic-module.html" >[SUFAR4-asc_magic docs]</a>
<!--l. 3128--><p class="indent" >   The Agico Kappabridge instrument comes with the SUFAR program which
makes the measurements and saves the data in a txt file like that in
<span 
class="cmti-10x-x-109">SUFAR4-asc</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.txt </span>in the <span 
class="cmti-10x-x-109">SUFAR4-asc</span><span 
class="cmti-10x-x-109">_magic </span>directory. These data
were measured on a KLY4S instrument with a spinning mode. Import them into
the MagIC format:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-96">
%SUFAR4-asc_magic.py&#x00A0;-f&#x00A0;SUFAR4-asc_magic_example.txt&#x00A0;-loc&#x00A0;U1356A&#x00A0;-spc&#x00A0;0&#x00A0;-ncn&#x00A0;5
&#x00A0;<br />anisotropy&#x00A0;tensors&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./rmag_anisotropy.txt
&#x00A0;<br />bulk&#x00A0;measurements&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./magic_measurements.txt
&#x00A0;<br />specimen&#x00A0;info&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_specimens.txt
&#x00A0;<br />sample&#x00A0;info&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />site&#x00A0;info&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;You&#x00A0;can&#x00A0;now&#x00A0;import&#x00A0;your&#x00A0;data&#x00A0;into&#x00A0;the&#x00A0;Magic&#x00A0;Console&#x00A0;and&#x00A0;complete&#x00A0;data&#x00A0;entry,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;example&#x00A0;the&#x00A0;site&#x00A0;locations,&#x00A0;lithologies,&#x00A0;etc.&#x00A0;plotting&#x00A0;can&#x00A0;be&#x00A0;done
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;with&#x00A0;aniso_magic.py
</div>
<!--l. 3141--><p class="nopar" >
<!--l. 3144--><p class="indent" >   <a name='TDT_magic.py'></a>
<!--l. 3145--><p class="indent" >   <a name='subsubsec5-2-65-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1220005.2.65" id="x1-1220005.2.65">TDT_magic.py</a></h5>
<!--l. 3146--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#ch10" >[Essentials Chapter 10]</a> and <a 
href="#MagIC" >[MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/TDT_magic-module.html" >[TDT_magic docs]</a>
<!--l. 3149--><p class="indent" >   This program imports the default data format for the ThellierTool Program
of Leonhardt et al. (2004). After importing, the data can be viewed with
<a 
href="#thellier_magic.py" ><span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic.py</span></a>.
<!--l. 3151--><p class="indent" >   The file format of the ThellierTool .tdt format is:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-97">
Thellier-tdt
&#x00A0;<br />50.12 0 0 0 0
&#x00A0;<br />2396D 0.00 1821.50 4.6 49.4
&#x00A0;<br />2396D 200.00 1467.5 7.4 44.5
&#x00A0;<br />2396D 200.11 1808.3 4.3 34.4
&#x00A0;<br />2396D 200.13 1421.89 6.1 46
&#x00A0;<br />2396D 230.00 1317.69 6.9 45.3
&#x00A0;<br />2396D 230.11 1711.2 4.3 32.9
&#x00A0;<br />2396D 260.00 1150.89 8.4 44.7
&#x00A0;<br />2396D 200.12 1475.92 4.3 34.7
&#x00A0;<br />...
</div>
<!--l. 3164--><p class="nopar" > The first two lines are headers. The first column of the second line is the applied
field in <span 
class="cmmi-10x-x-109">&#x03BC;</span>T. The rest of this line is azimuth and plunge of the fiducial line
and dip direction and dip of the bedding plane. The data columns are:
specimen, treatment, intensity, declination and inclination. the intensity is the
magnetization in 10<sup><span 
class="cmsy-8">-</span><span 
class="cmr-8">3</span></sup> A/m. The treatment is of the form XXX.YY where
XXX is the temperature and YY is 00, 11, 12, 13, 14 OR 0, 1, 2, 3, 4
where 0 is the NRM step, 11/1 is the pTRM acquisition step, 12/2 is the
pTRM check step and 13/3 is the pTRM tail check. 14/4 is the additivity
check.
<!--l. 3170--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">TDT</span><span 
class="cmbx-10x-x-109">_magic.py </span>to import the ThellierTool tdt formatted
file <span 
class="cmti-10x-x-109">TDT</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>into the MagIC format. The field was 52.12 <span 
class="cmmi-10x-x-109">&#x03BC;</span>T
applied along the 0,0 direction.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-98">
%&#x00A0;TDT_magic.py&#x00A0;-f&#x00A0;tdt_magic_example.dat&#x00A0;-loc&#x00A0;TEST&#x00A0;-dc&#x00A0;50.12&#x00A0;0&#x00A0;0
&#x00A0;<br />results&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;magic_measurements.txt
</div>
<!--l. 3175--><p class="nopar" >
<!--l. 3178--><p class="indent" >   <a name='measurements_normalize.py'></a>
<!--l. 3179--><p class="indent" >   <a name='subsec5-2-66'></a><h4 class="subsectionHead"><span class="titlemark">5.2.66   </span> <a 
href="#QQ2-1-123" id="x1-1230005.2.66">measurements_normalize.py</a></h4>
<!--l. 3180--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/measurements_normalize-module.html" >[measurements_normalize docs]</a>
<!--l. 3183--><p class="indent" >   This program takes specimen weights or volumes from an <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_specimen.txt</span>
formatted file and normalizes the magnetic moment data to make magnetizations.
Weights must be in kilograms and volumes in m<sup><span 
class="cmr-8">3</span></sup>.
<!--l. 3185--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">measurements</span><span 
class="cmbx-10x-x-109">_normalize.py </span>to generate weight
normalized magnetizations for the data in the file <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>in the
&#8212;it measurements_normalize directory. Use the specimen weights in the file
<span 
class="cmti-10x-x-109">specimen</span><span 
class="cmti-10x-x-109">_weights.txt</span>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-99">
%&#x00A0;magic_select.py&#x00A0;-f&#x00A0;magic_measurements.txt&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-key&#x00A0;magic_method_codes&#x00A0;LP-IRM&#x00A0;has&#x00A0;-F&#x00A0;irm_measurements.txt
&#x00A0;<br />205&#x00A0;&#x00A0;records&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;./irm_measurements.txt
&#x00A0;<br />%&#x00A0;measurements_normalize.py&#x00A0;-f&#x00A0;irm_measurements.txt&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;-fsp&#x00A0;specimen_weights.txt&#x00A0;-F&#x00A0;irm_norm_measurements.txt
&#x00A0;<br />Data&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;./irm_norm_measurements.txt
</div>
<!--l. 3194--><p class="nopar" >
<!--l. 3196--><p class="indent" >   <a name='mk_redo.py'></a>
<!--l. 3197--><p class="indent" >   <a name='subsec5-2-67'></a><h4 class="subsectionHead"><span class="titlemark">5.2.67   </span> <a 
href="#QQ2-1-124" id="x1-1240005.2.67">mk_redo.py</a></h4>
<!--l. 3198--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/mk_redo-module.html" >[mk_redo docs]</a>
<!--l. 3201--><p class="indent" >   The programs <a 
href="#zeq_magic.py" >zeq_magic.py</a> and <a 
href="#thellier_magic.py" >thellier_magic.py</a> make <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen</span>
formatted files which can be used for further data reduction either by plotting
or contributing to site means, etc. Sometimes it is useful to redo the
calculation, using anisotropy corrections or a change in coordinate systems,
etc. The re-doing of these specimen level calculations is handled by, for
example <a 
href="#zeq_magic_redo.py" >zeq_magic_redo.py</a> or <a 
href="#thellier_magic_redo.py" >thellier_magic_redo.py</a>. These programs use
<span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements </span>formatted files and perform calculations as dictated
by a &#8220;redo&#8221; file which has the specimen name, bounds for calculation
and, in the case of the demagnetization data interpretation, the type of
calculation desired (best-fit lines with <a 
href="http://earthref.org/cgi-bin/magic-s1-methods.cgi?database_name=magic\hskip 2em\relax &search_start=methods\hskip 2em\relax &category=Direction%20Estimation" >directional estimation magic method
code</a>:DE-BFL, best-fit planes with those with magic method code DE-BFP,
etc.).
<!--l. 3203--><p class="indent" >   Make &#8220;redo&#8221; files from the existing <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen </span>formatted file in the data
files downloaded from the MagIC website as in <span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>and
examine them as follows:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-100">
%&#x00A0;mk_redo.py
&#x00A0;<br />%&#x00A0;cat&#x00A0;zeq_redo
&#x00A0;<br />sr01a1&#x00A0;DE-BFL&#x00A0;473&#x00A0;823&#x00A0;A
&#x00A0;<br />sr01a2&#x00A0;DE-BFL&#x00A0;473&#x00A0;848&#x00A0;A
&#x00A0;<br />sr01c2&#x00A0;DE-BFL&#x00A0;473&#x00A0;823&#x00A0;A
&#x00A0;<br />sr01d1&#x00A0;DE-BFL&#x00A0;373&#x00A0;798&#x00A0;A
&#x00A0;<br />.......
&#x00A0;<br />%&#x00A0;cat&#x00A0;thellier_redo
&#x00A0;<br />sr01a1&#x00A0;573&#x00A0;823
&#x00A0;<br />sr01a2&#x00A0;573&#x00A0;848
&#x00A0;<br />sr01c2&#x00A0;673&#x00A0;823
&#x00A0;<br />sr01d1&#x00A0;373&#x00A0;823
&#x00A0;<br />
&#x00A0;<br />.....
</div>
<!--l. 3220--><p class="nopar" >
<!--l. 3222--><p class="noindent" >Note that the temperature steps are in kelvin and the AF demagnetization steps
are in Tesla as required in the MagIC data base.
<!--l. 3228--><p class="indent" >   <a name='nrm_specimens_magic.py'></a>
<!--l. 3229--><p class="indent" >   <a name='subsec5-2-68'></a><h4 class="subsectionHead"><span class="titlemark">5.2.68   </span> <a 
href="#QQ2-1-125" id="x1-1250005.2.68">nrm_specimens_magic.py</a></h4>
<!--l. 3230--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/nrm_specimens_magic-module.html" >[nrm_specimens_magic docs]</a>
<!--l. 3233--><p class="indent" >   After making NRM measurements, it is frequently useful to look at the
directions in equal area projection to get a &#8220;quick look&#8221; at the results before
proceeding to step wise demagnetization. The data in the magic_measurements
files are usually in specimen coordinates - not geographic, so we need a
way to rotate the data into geographic and or stratigraphic coordinates
and save them in a pmag_specimens formatted file for plotting with
<span 
class="cmbx-10x-x-109">eqarea</span><span 
class="cmbx-10x-x-109">_magic.py</span>. The program <span 
class="cmbx-10x-x-109">nrm</span><span 
class="cmbx-10x-x-109">_specimens</span><span 
class="cmbx-10x-x-109">_magic.py </span>will do this for
you.
<!--l. 3235--><p class="indent" >   Get into the directory you made for tshe <span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>example.
<br 
class="newline" />Use <span 
class="cmbx-10x-x-109">nrm</span><span 
class="cmbx-10x-x-109">_specimens</span><span 
class="cmbx-10x-x-109">_magic.py </span>to convert the NRM measurements in
<span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt  </span>to geographic coordinates saved in a file named
<span 
class="cmti-10x-x-109">nrm</span><span 
class="cmti-10x-x-109">_specimens.txt</span>. The orientation data are in the file <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt</span>. Then plot
the specimen directions for the entire study using <span 
class="cmbx-10x-x-109">eqarea</span><span 
class="cmbx-10x-x-109">_magic.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-101">
%&#x00A0;nrm_specimens_magic.py&#x00A0;-crd&#x00A0;g
&#x00A0;<br />er_samples.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;271&#x00A0;&#x00A0;records
&#x00A0;<br />Data&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;nrm_specimens.txt
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;eqarea_magic.py&#x00A0;-f&#x00A0;nrm_specimens.txt
&#x00A0;<br />177&#x00A0;&#x00A0;records&#x00A0;read&#x00A0;from&#x00A0;&#x00A0;./nrm_specimens.txt
&#x00A0;<br />All
&#x00A0;<br />sr01a1&#x00A0;SO-SUN&#x00A0;&#x00A0;&#x00A0;324.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;66.0
&#x00A0;<br />sr01a2&#x00A0;SO-SUN&#x00A0;&#x00A0;&#x00A0;325.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;62.1
&#x00A0;<br />sr01c2&#x00A0;SO-SUN&#x00A0;&#x00A0;&#x00A0;344.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;63.8
&#x00A0;<br />sr01d1&#x00A0;SO-CMD-NORTH&#x00A0;&#x00A0;&#x00A0;327.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.5
&#x00A0;<br />sr01e2&#x00A0;SO-SUN&#x00A0;&#x00A0;&#x00A0;333.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;67.0
&#x00A0;<br />...
&#x00A0;<br />
&#x00A0;<br />&#x00A0;
</div>
<!--l. 3253--><p class="nopar" >
<!--l. 3255--><p class="indent" >   The first command created a file <span 
class="cmti-10x-x-109">nrm</span><span 
class="cmti-10x-x-109">_specimens.txt </span>and the second created
an equal area projection of the NRM directions in geographic coordinates which
should look like this:
                                                                     

                                                                     
<!--l. 3257--><p class="indent" >   <img 
src="PmagPy62x.png" alt="PIC" class="graphics" width="341.43306pt" height="361.62714pt" ><!--tex4ht:graphics  
name="PmagPy62x.png" src="EPSfiles/nrm-eq.eps"  
-->
<!--l. 3261--><p class="indent" >   <a name='orientation_magic.py'></a>
<!--l. 3262--><p class="indent" >   <a name='subsec5-2-69'></a><h4 class="subsectionHead"><span class="titlemark">5.2.69   </span> <a 
href="#QQ2-1-126" id="x1-1260005.2.69">orientation_magic.py</a></h4>
<!--l. 3263--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> and <a 
href="#field_info" >[Preparing for MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/orientation_magic-module.html" >[orientation_magic
docs]</a>
<!--l. 3267--><p class="indent" >   Try to import the file <span 
class="cmti-10x-x-109">orientation</span><span 
class="cmti-10x-x-109">_example.txt </span>into the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>and
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>files using <span 
class="cmbx-10x-x-109">orientation</span><span 
class="cmbx-10x-x-109">_magic.py</span>. See Section&#x00A0;<a 
href="#x1-200004.1.2">4.1.2<!--tex4ht:ref: sect:field_info --></a> for details
about the <span 
class="cmti-10x-x-109">orient.txt </span>file format. It has field information for a few sites. The
samples were oriented with a Pomeroy orientation device (the default) and it is
desirable to calculate the magnetic declination from the IGRF at the time of
sampling (also the default). Sample names follow the rule that the sample is
                                                                     

                                                                     
designated by a letter at the end of the site name (convention #1 - which is the
default). So we do this by:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-102">
orientation_magic.py&#x00A0;-f&#x00A0;orient_example.txt
&#x00A0;<br />saving&#x00A0;data...
&#x00A0;<br />Data&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt&#x00A0;&#x00A0;and&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />
</div>
<!--l. 3274--><p class="nopar" >
<!--l. 3277--><p class="indent" >   <a name='parse_measurements.py'></a>
<!--l. 3278--><p class="indent" >   <a name='subsec5-2-70'></a><h4 class="subsectionHead"><span class="titlemark">5.2.70   </span> <a 
href="#QQ2-1-127" id="x1-1270005.2.70">parse_measurements.py</a></h4>
<!--l. 3280--><p class="noindent" >This program reads in the <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file and creates an
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_specimens.txt </span>file. The specimen volumes and/or weights can then be
put in columns labelled <span 
class="cmbx-10x-x-109">specimen</span><span 
class="cmbx-10x-x-109">_volume </span>and <span 
class="cmbx-10x-x-109">specimen</span><span 
class="cmbx-10x-x-109">_weight</span>
respectively. Volumes must be in m<sup><span 
class="cmr-8">3</span></sup> and weights in kg. (Yes you can do the
math...).
<!--l. 3282--><p class="indent" >   Try this out on the <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file created in the <a 
href="#irmaq_magic.py" >irmaq_magic.py</a>
example. Pretend you have a bunch of specimen weights you want to use to
normalize the NRM with the program <a 
href="#measurements_normalize.py" >measurements_normalize.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-103">
%&#x00A0;parse_measurements.py
&#x00A0;<br />site&#x00A0;record&#x00A0;in&#x00A0;er_sites&#x00A0;table&#x00A0;not&#x00A0;found&#x00A0;for:&#x00A0;&#x00A0;318-U1359A-002H-1-W-109
&#x00A0;<br />site&#x00A0;record&#x00A0;in&#x00A0;er_sites&#x00A0;table&#x00A0;not&#x00A0;found&#x00A0;for:&#x00A0;&#x00A0;318-U1359A-002H-2-W-135
&#x00A0;<br />site&#x00A0;record&#x00A0;in&#x00A0;er_sites&#x00A0;table&#x00A0;not&#x00A0;found&#x00A0;for:&#x00A0;&#x00A0;318-U1359A-002H-3-W-45
&#x00A0;<br />site&#x00A0;record&#x00A0;in&#x00A0;er_sites&#x00A0;table&#x00A0;not&#x00A0;found&#x00A0;for:&#x00A0;&#x00A0;318-U1359A-002H-4-W-65
&#x00A0;<br />.....
</div>
<!--l. 3291--><p class="nopar" >
<!--l. 3293--><p class="indent" >   The program appears a bit flustered because you have no <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file in
this directory. If you DID, you would overwrite whatever site name was in that
file onto the specimen table. This allows you to carry the changes in that table
through to the specimen table (see <a 
href="#orientation_magic.py" >orientation_magic.py</a>.)
<!--l. 3297--><p class="indent" >   <a name='pca.py'></a>
<!--l. 3298--><p class="indent" >   <a name='subsec5-2-71'></a><h4 class="subsectionHead"><span class="titlemark">5.2.71   </span> <a 
href="#QQ2-1-128" id="x1-1280005.2.71">pca.py</a></h4>
<!--l. 3299--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/pca-module.html" >[pca docs]</a>
<!--l. 3302--><p class="indent" >   This program calculates best-fit lines, planes or Fisher averages through
selected treatment steps. The file format is a simple space delimited file with
specimen name, treatment step, intensity, declination and inclination.
Calculate the best-fit line through the first ten treatment steps in data file
<span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_example.txt</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-104">
&#x00A0;%&#x00A0;pca.py&#x00A0;-dir&#x00A0;L&#x00A0;1&#x00A0;10&#x00A0;-f&#x00A0;zeq_example.dat
&#x00A0;<br />eba24a&#x00A0;DE-BFL
&#x00A0;<br />0&#x00A0;0.00&#x00A0;339.9&#x00A0;57.9&#x00A0;9.2830e-05
&#x00A0;<br />1&#x00A0;2.50&#x00A0;325.7&#x00A0;49.1&#x00A0;7.5820e-05
&#x00A0;<br />...
&#x00A0;<br />eba24a&#x00A0;DE-BFL&#x00A0;10&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.50&#x00A0;&#x00A0;70.00&#x00A0;&#x00A0;&#x00A0;&#x00A0;8.8&#x00A0;&#x00A0;&#x00A0;334.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;51.5
</div>
<!--l. 3313--><p class="nopar" >
<!--l. 3315--><p class="indent" >   According to the help message, this is: specimen name, calculation type, N,
beg, end, MAD, declination and inclination. The calculation type is the MagIC
method code for best-fit lines (see Essentials Appendix&#x00A0;<span 
class="cmbx-10x-x-109">??</span>.)
<!--l. 3324--><p class="indent" >   <a name='plotXY.py'></a>
<!--l. 3325--><p class="indent" >   <a name='subsec5-2-72'></a><h4 class="subsectionHead"><span class="titlemark">5.2.72   </span> <a 
href="#QQ2-1-129" id="x1-1290005.2.72">plotXY.py</a></h4>
<!--l. 3326--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/plotXY-module.html" >[plotXY docs]</a>
<!--l. 3328--><p class="indent" >   This program makes a simple XY plot from any arbitrary input file.
You can specify which columns are X and Y, bounds on the columns,
symbol color and size, axis labels and other options. See <a 
href="#igrf.py" >igrf.py</a> for an
example.
<!--l. 3330--><p class="indent" >   <a name='plot_cdf.py'></a>
<!--l. 3331--><p class="indent" >   <a name='subsec5-2-73'></a><h4 class="subsectionHead"><span class="titlemark">5.2.73   </span> <a 
href="#QQ2-1-130" id="x1-1300005.2.73">plot_cdf.py</a></h4>
<!--l. 3332--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/plot_cdf-module.html" >[plot_cdf docs]</a>
<!--l. 3334--><p class="indent" >   This program plots cumulative distribution functions of a single column of
input data. Use as an example, a normally distributed set of 1000 data points
generated by <a 
href="#gaussian.py" >gaussian.py</a>. Use the defaults of zero mean with a standard
deviation of 1.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-105">
%&#x00A0;gaussian.py&#x00A0;-n&#x00A0;1000&#x00A0;&#x003E;&#x00A0;gaussian.out
&#x00A0;<br />&#x00A0;&#x00A0;%&#x00A0;plot_cdf.py&#x00A0;-f&#x00A0;gaussian.out
&#x00A0;<br />S[a]ve&#x00A0;&#x00A0;plot,&#x00A0;&#x003C;Return&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;CDF_.svg
</div>
<!--l. 3341--><p class="nopar" >
<!--l. 3343--><p class="indent" >   which should have generated a plot something like this:
<!--l. 3346--><p class="indent" >   <img 
src="PmagPy63x.png" alt="PIC" class="graphics" width="341.43306pt" height="327.95367pt" ><!--tex4ht:graphics  
name="PmagPy63x.png" src="EPSfiles/plot_cdf.eps"  
-->
<!--l. 3355--><p class="indent" >   <a name='plot_magic_keys.py'></a>
<!--l. 3356--><p class="indent" >   <a name='subsec5-2-74'></a><h4 class="subsectionHead"><span class="titlemark">5.2.74   </span> <a 
href="#QQ2-1-131" id="x1-1310005.2.74">plot_magic_keys.py</a></h4>
                                                                     

                                                                     
<!--l. 3357--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/plot_magic_keys-module.html" >[plot_magic_keys docs]</a>
<!--l. 3360--><p class="indent" >   This program will plot any column in a specified MagIC formatted file against
any other column in the same file.
<!--l. 3362--><p class="indent" >   <a name='plot_mapPTS.py'></a>
<!--l. 3363--><p class="indent" >   <a name='subsec5-2-75'></a><h4 class="subsectionHead"><span class="titlemark">5.2.75   </span> <a 
href="#QQ2-1-132" id="x1-1320005.2.75">plot_mapPTS.py</a></h4>
<!--l. 3364--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/hires.html" >high resolution instructions</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/plot_mapPTS-module.html" >[plot_mapPTS docs]</a>
<!--l. 3367--><p class="indent" >   NOTE: This program only works if you have installed basemap (full version
of Enthought Python as opposed to the free version.) It will not work with the
free version of Enthought Python. <span 
class="cmbx-10x-x-109">plot</span><span 
class="cmbx-10x-x-109">_mapPTS.py </span>will generate a simple map
of the data points in a file (lon lat) on the desired projection. If you want to use
high resolution or the etopo20 meshgrid (-etp option), you must install the high
resolution continental outlines as described on the <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution instructions</a>
website. There are many options, so check the documentation (-h option) for
details.
<!--l. 3370--><p class="indent" >   Draw a set of 200 uniformly distributed points on the globe with the
program <a 
href="#uniform.py" >uniform.py</a>. Plot these on an orthographic projection with the
viewing point at a longitude of 0 and a latitude of 30<sup><span 
class="cmsy-8">&#x2218;</span></sup>N. If you have
installed the high resolution data sets, use the -etp option to plot the
topographic mesh. Plot the points as large (size = 10) white dots. Also
note that for some reason the .svg output does not place nicely with
illustrator.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-106">
%&#x00A0;uniform.py&#x00A0;-n&#x00A0;200&#x00A0;&#x003E;uniform.out
&#x00A0;<br />%&#x00A0;plot_mapPTS.py&#x00A0;-f&#x00A0;uniform.out&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;30&#x00A0;0&#x00A0;-etp&#x00A0;-sym&#x00A0;wo&#x00A0;10
&#x00A0;<br />please&#x00A0;wait&#x00A0;to&#x00A0;draw&#x00A0;points
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Map_PTS.pdf
</div>
<!--l. 3378--><p class="nopar" >
<!--l. 3380--><p class="indent" >   which should produce a plot similar to this:
<!--l. 3382--><p class="indent" >   <img 
src="PmagPy64x.png" alt="PIC" class="graphics" width="341.43306pt" height="348.3549pt" ><!--tex4ht:graphics  
name="PmagPy64x.png" src="EPSfiles/plot_mapPTS.eps"  
-->
<!--l. 3387--><p class="indent" >   <a name='plotdi_a.py'></a>
                                                                     

                                                                     
<!--l. 3388--><p class="indent" >   <a name='subsec5-2-76'></a><h4 class="subsectionHead"><span class="titlemark">5.2.76   </span> <a 
href="#QQ2-1-133" id="x1-1330005.2.76">plotdi_a.py</a></h4>
<!--l. 3389--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/plotdi_a-module.html" >[plotdi_a docs]</a>
<!--l. 3392--><p class="indent" >   Place the following declination, inclination <span 
class="cmmi-10x-x-109">&#x03B1;</span><sub><span 
class="cmr-8">95</span></sub> data in a space delimited file
called <br 
class="newline" /><span 
class="cmti-10x-x-109">plotdi</span><span 
class="cmti-10x-x-109">_a</span><span 
class="cmti-10x-x-109">_example.dat</span>.
   <div class="tabular"> <table id="TBL-8" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-8-1g"><col 
id="TBL-8-1"><col 
id="TBL-8-2"><col 
id="TBL-8-3"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-1"  
class="td11">Dec</td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-2"  
class="td11">Inc  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-1-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03B1;</span><sub><span 
class="cmr-8">95</span></sub></td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-1"  
class="td11">39.1 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-2"  
class="td11">37.5 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-2-3"  
class="td11">5.0 </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-1"  
class="td11">30.3 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-2"  
class="td11">36.2 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-8-3-3"  
class="td11">15</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-8-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-1"  
class="td11">29.9 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-2"  
class="td11">45.6 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-8-4-3"  
class="td11">7   </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-1"  
class="td11">34.6 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-2"  
class="td11">28.4 </td> <td  style="white-space:nowrap; text-align:left;" id="TBL-8-5-3"  
class="td11">3</td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-8-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-8-6-1"  
class="td11">    </td> </tr></table></div>
<!--l. 3405--><p class="indent" >   Make a plot of these data using <span 
class="cmbx-10x-x-109">plotdi</span><span 
class="cmbx-10x-x-109">_a.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-107">
%&#x00A0;plotdi_a.py&#x00A0;-f&#x00A0;plotdi_a_example.dat
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;Return&#x00A0;to&#x00A0;continue:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;eq.svg
</div>
<!--l. 3411--><p class="nopar" > which makes the plot:
<!--l. 3415--><p class="indent" >   <img 
src="PmagPy65x.png" alt="PIC" class="graphics" width="341.43306pt" height="341.4306pt" ><!--tex4ht:graphics  
name="PmagPy65x.png" src="EPSfiles/plotdi-a-example.eps"  
-->
<!--l. 3417--><p class="indent" >   <a name='pmag_results_extract.py'></a>
<!--l. 3418--><p class="indent" >   <a name='subsec5-2-77'></a><h4 class="subsectionHead"><span class="titlemark">5.2.77   </span> <a 
href="#QQ2-1-134" id="x1-1340005.2.77">pmag_results_extract.py</a></h4>
<!--l. 3419--><p class="noindent" ><a 
href="#MagiC" >[:MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/pmag_results_extract-module.html" >[pmag_results_extract docs]</a>
                                                                     

                                                                     
<!--l. 3422--><p class="indent" >   This program extracts a tab delimited txt file from a <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results </span>formatted
file. This allows you to publish data tables that have identical data to the data
uploaded into the MagIC database. Try this out in the directory created for the
<span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>example:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-108">
%&#x00A0;pmag_results_extract.py&#x00A0;-f&#x00A0;pmag_results.txt
&#x00A0;<br />data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;./Directions.txt&#x00A0;./Intensities.txt&#x00A0;./SiteNfo.txt
</div>
<!--l. 3427--><p class="nopar" >
<!--l. 3429--><p class="indent" >   This creates tab delimited files that can be incorporated into a paper, for
example. You can also export the information in LaTeX format if you
prefer.
<!--l. 3437--><p class="indent" >   <a name='pt_rot.py'></a>
<!--l. 3438--><p class="indent" >   <a name='subsec5-2-78'></a><h4 class="subsectionHead"><span class="titlemark">5.2.78   </span> <a 
href="#QQ2-1-135" id="x1-1350005.2.78">pt_rot.py</a></h4>
<!--l. 3439--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch16.html#ch16" >[Essentials Chapter 16]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/pt_rot-module.html" >[pt_rot docs]</a>
<!--l. 3442--><p class="indent" >   This program reads in a file with location, age and destination plate and
rotates the data into the destination plate coordinates using the rotations and
methods in <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap1.html#polerot" >Essentials Appendix A.3.5</a>. Alternatively, you can supply your own
rotation parameters with the -ff option.
<!--l. 3444--><p class="indent" >   First, save the location of Cincinnati (39.1 latitude, -84.7 longitude) in a file
called <span 
class="cmti-10x-x-109">pt</span><span 
class="cmti-10x-x-109">_rot.input </span>using either the UNIX <span 
class="cmbx-10x-x-109">cat </span>function or your favorite text
editor. Save the data as a lon/lat pair separated by a space. Then use the
program <span 
class="cmbx-10x-x-109">pt</span><span 
class="cmbx-10x-x-109">_rot.py </span>to rotate Cincinnati to (Northwest) African coordinates at
80 Ma. Plot both points using <a 
href="#plot_mapPTS.py" >plot_mapPTS.py</a>. You should save the lon, lat,
plate, age, destination_plate information in a file called <span 
class="cmti-10x-x-109">pt</span><span 
class="cmti-10x-x-109">_rot</span><span 
class="cmti-10x-x-109">_example.dat </span>in the
following:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-109">
%&#x00A0;plot_mapPTS.py&#x00A0;-f&#x00A0;pt_rot.input&#x00A0;-sym&#x00A0;g^&#x00A0;10
&#x00A0;<br />please&#x00A0;wait&#x00A0;to&#x00A0;draw&#x00A0;points
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Map_PTS.pdf
&#x00A0;<br />%&#x00A0;pt_rot.py&#x00A0;-f&#x00A0;pt_rot_example.dat
&#x00A0;<br />299.763594614&#x00A0;34.6088989286
&#x00A0;<br />%&#x00A0;pt_rot.py&#x00A0;-f&#x00A0;pt_rot_example.dat&#x00A0;&#x003E;pt_rot.out
&#x00A0;<br />%&#x00A0;plot_mapPTS.py&#x00A0;-f&#x00A0;pt_rot.out&#x00A0;-sym&#x00A0;ro&#x00A0;10
&#x00A0;<br />please&#x00A0;wait&#x00A0;to&#x00A0;draw&#x00A0;points
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Map_PTS.pdf
</div>
<!--l. 3458--><p class="nopar" >
<!--l. 3460--><p class="indent" >   The two plots will look like these:
                                                                     

                                                                     
<!--l. 3462--><p class="indent" >   <img 
src="PmagPy66x.png" alt="PIC" class="graphics" width="426.79134pt" height="393.96886pt" ><!--tex4ht:graphics  
name="PmagPy66x.png" src="EPSfiles/pt_rot.eps"  
-->
<!--l. 3467--><p class="indent" >   Now, use the program to rotate a selection of North American poles from
180-200 Ma (in the file <span 
class="cmti-10x-x-109">nam</span><span 
class="cmti-10x-x-109">_180-200.txt </span>in the <span 
class="cmti-10x-x-109">pt</span><span 
class="cmti-10x-x-109">_rot </span>directory) to Pangea A
coordinates (finite rotation pole and angle in <span 
class="cmti-10x-x-109">nam</span><span 
class="cmti-10x-x-109">_panA.frp</span>. Note that
<a 
href="#plot_mapPTS.py" >plot_mapPTS.py</a> reads in longitude/latitude pairs, while <span 
class="cmbx-10x-x-109">pt</span><span 
class="cmbx-10x-x-109">_rot.py </span>reads in
latitude longitude pairs.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-110">
%&#x00A0;plot_mapPTS.py&#x00A0;-f&#x00A0;nam_180-200.txt&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;60&#x00A0;90&#x00A0;-sym&#x00A0;c^&#x00A0;10
&#x00A0;<br />please&#x00A0;wait&#x00A0;to&#x00A0;draw&#x00A0;points
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Map_PTS.pdf
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;pt_rot.py&#x00A0;-ff&#x00A0;nam_180-200.txt&#x00A0;nam_panA.frp
&#x00A0;<br />165.005966833&#x00A0;75.1055653383
&#x00A0;<br />272.368103052&#x00A0;83.1542552681
&#x00A0;<br />281.233199772&#x00A0;63.3738811186
&#x00A0;<br />260.36973769&#x00A0;70.7986591555
&#x00A0;<br />250.91392318&#x00A0;70.3067026787
&#x00A0;<br />251.438099128&#x00A0;65.9369002914
&#x00A0;<br />255.371917029&#x00A0;63.4115373574
&#x00A0;<br />204.92422073&#x00A0;71.7944043036
&#x00A0;<br />.....
&#x00A0;<br />%&#x00A0;pt_rot.py&#x00A0;-ff&#x00A0;nam_180-200.txt&#x00A0;nam_panA.frp&#x00A0;&#x003E;&#x00A0;pt_rot_panA.out
&#x00A0;<br />%&#x00A0;plot_mapPTS.py&#x00A0;-f&#x00A0;pt_rot_panA.out&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;60&#x00A0;90&#x00A0;-sym&#x00A0;ro&#x00A0;10
&#x00A0;<br />please&#x00A0;wait&#x00A0;to&#x00A0;draw&#x00A0;points
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;Map_PTS.pdf
</div>
<!--l. 3490--><p class="nopar" >
<!--l. 3492--><p class="indent" >   These plots should look like this:
                                                                     

                                                                     
<!--l. 3494--><p class="indent" >   <img 
src="PmagPy67x.png" alt="PIC" class="graphics" width="426.79134pt" height="210.05519pt" ><!--tex4ht:graphics  
name="PmagPy67x.png" src="EPSfiles/pt_rot_panA.eps"  
-->
<!--l. 3496--><p class="indent" >   <a name='qqplot.py'></a>
<!--l. 3497--><p class="indent" >   <a name='subsec5-2-79'></a><h4 class="subsectionHead"><span class="titlemark">5.2.79   </span> <a 
href="#QQ2-1-136" id="x1-1360005.2.79">qqlot.py</a></h4>
<!--l. 3497--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ap2.html#quantile_quantile_plots" >[Essentials Appendix B.1.5]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/qqplot-module.html" >[qqplot docs]</a>
<!--l. 3501--><p class="indent" >   Makes a quantile-quantile plot of the input data file against a normal
distribution. The plot has the mean, standard deviation and the <span 
class="cmmi-10x-x-109">D </span>statistic as
well as the <span 
class="cmmi-10x-x-109">D</span><sub><span 
class="cmmi-8">c</span></sub> statistic expected from a normal distribution. Use <span 
class="cmbx-10x-x-109">qqplot.py </span>to
test whether the data generated with <span 
class="cmbx-10x-x-109">gaussian.py </span>is in fact normally
distributed. (It will be 95% of the time!).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-111">
%&#x00A0;gaussian.py&#x00A0;&#x00A0;-F&#x00A0;&#x00A0;gauss.out
&#x00A0;<br />%&#x00A0;qqplot.py&#x00A0;-f&#x00A0;gauss.out
&#x00A0;<br />mean,sigma,&#x00A0;d,&#x00A0;Dc
&#x00A0;<br />0.02069909&#x00A0;0.849042146783&#x00A0;0.0528626896977&#x00A0;0.0886
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit&#x00A0;without&#x00A0;saving:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;qq.svg
</div>
<!--l. 3513--><p class="nopar" >
<!--l. 3515--><p class="noindent" >which generates this plot:
<!--l. 3519--><p class="indent" >   <img 
src="PmagPy68x.png" alt="PIC" class="graphics" width="341.43306pt" height="357.35611pt" ><!--tex4ht:graphics  
name="PmagPy68x.png" src="EPSfiles/qq.eps"  
-->
                                                                     

                                                                     
<!--l. 3522--><p class="indent" >   <a name='quick_hyst.py'></a>
<!--l. 3523--><p class="indent" >   <a name='subsec5-2-80'></a><h4 class="subsectionHead"><span class="titlemark">5.2.80   </span> <a 
href="#QQ2-1-137" id="x1-1370005.2.80">quick_hyst.py</a></h4>
<!--l. 3524--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch5.html#ch5" >[Essentials Chapter 5]</a> and <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/quick_hyst-module.html" >[quick_hyst docs]</a>
<!--l. 3527--><p class="indent" >   <a 
href="#hysteresis_magic.py" >hysteresis_magic.py</a> makes plots of hysteresis loops and calculates the main
hysteresis parameters. For a quick look with no interpretation, you can use
<span 
class="cmbx-10x-x-109">quick</span><span 
class="cmbx-10x-x-109">_hyst.py</span>. Try it out on the data file <span 
class="cmti-10x-x-109">hysteresis</span><span 
class="cmti-10x-x-109">_magic</span><span 
class="cmti-10x-x-109">_example.dat </span>in the
<span 
class="cmti-10x-x-109">hysteresis</span><span 
class="cmti-10x-x-109">_magic </span>directory.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-112">
%&#x00A0;quick_hyst.py&#x00A0;-f&#x00A0;hysteresis_magic_example.dat&#x00A0;-fmt&#x00A0;svg
&#x00A0;<br />IS06a-1&#x00A0;1&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;8
&#x00A0;<br />working&#x00A0;on&#x00A0;t:&#x00A0;&#x00A0;273
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;[s]pecimen&#x00A0;name,&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue
&#x00A0;<br />&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;LO:__SI:_IS06_SA:_IS06a_SP:_IS06a-1_TY:_hyst_.svg
&#x00A0;<br />IS06a-1&#x00A0;1&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;8
&#x00A0;<br />working&#x00A0;on&#x00A0;t:&#x00A0;&#x00A0;273
&#x00A0;<br />S[a]ve&#x00A0;plots,&#x00A0;[s]pecimen&#x00A0;name,&#x00A0;[q]uit,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue
&#x00A0;<br />&#x00A0;q
&#x00A0;<br />Good&#x00A0;bye
</div>
<!--l. 3541--><p class="nopar" >
<!--l. 3543--><p class="indent" >   which makes a plot like this:
                                                                     

                                                                     
<!--l. 3545--><p class="indent" >   <img 
src="PmagPy69x.png" alt="PIC" class="graphics" width="341.43306pt" height="344.47011pt" ><!--tex4ht:graphics  
name="PmagPy69x.png" src="EPSfiles/quick_hyst.eps"  
-->
<!--l. 3547--><p class="indent" >   <a name='revtest.py'></a>
<!--l. 3548--><p class="indent" >   <a name='subsec5-2-81'></a><h4 class="subsectionHead"><span class="titlemark">5.2.81   </span> <a 
href="#QQ2-1-138" id="x1-1380005.2.81">revtest.py</a></h4>
<!--l. 3549--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/revtest-module.html" >[revtest docs]</a>
<!--l. 3552--><p class="indent" >   Use <span 
class="cmbx-10x-x-109">revtest.py </span>to test whether the two modes in the data set
<span 
class="cmti-10x-x-109">revtest</span><span 
class="cmti-10x-x-109">_example.txt </span>are antipodal or not:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-113">
%&#x00A0;revtest.py&#x00A0;-f&#x00A0;revtest_example.txt
&#x00A0;<br />doing&#x00A0;first&#x00A0;mode,&#x00A0;be&#x00A0;patient
&#x00A0;<br />doing&#x00A0;second&#x00A0;mode,&#x00A0;be&#x00A0;patient
&#x00A0;<br />s[a]ve&#x00A0;plots,&#x00A0;[q]uit:&#x00A0;a
&#x00A0;<br />2&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;REV_Y.svg
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;REV_X.svg
&#x00A0;<br />3&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;REV_Z.svg
&#x00A0;<br />
</div>
<!--l. 3563--><p class="nopar" >
<!--l. 3565--><p class="noindent" >which produces these plots:
<!--l. 3569--><p class="indent" >   <img 
src="PmagPy70x.png" alt="PIC" class="graphics" width="426.79134pt" height="147.1978pt" ><!--tex4ht:graphics  
name="PmagPy70x.png" src="EPSfiles/revtest.eps"  
-->
<!--l. 3571--><p class="indent" >   Because the 95% confidence bounds for each component overlap each other,
the two directions are not significantly different.
<!--l. 3573--><p class="indent" >   <a name='revtest_magic.py'></a>
<!--l. 3574--><p class="indent" >   <a name='subsec5-2-82'></a><h4 class="subsectionHead"><span class="titlemark">5.2.82   </span> <a 
href="#QQ2-1-139" id="x1-1390005.2.82">revtest_magic.py</a></h4>
<!--l. 3575--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch12.html#ch12" >[Essentials Chapter 12]</a> and <a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/revtest_magic-module.html" >[revtest_magic docs]</a>
<!--l. 3578--><p class="indent" >   Same as <a 
href="#revtest.py" >revtest.py</a> but for <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_sites </span>MagIC formatted files. Try it out on
the data file <span 
class="cmti-10x-x-109">revtest</span><span 
class="cmti-10x-x-109">_sites.txt</span>. Then try using <a 
href="#customize_criteria.py" >customize_criteria.py</a> to change or
create a <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_criteria.txt </span>file that fits your needs and redo the reversals test
using only the selected sites.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-114">
&#x00A0;revtest_magic.py&#x00A0;-f&#x00A0;revtest_magic_example.txt
&#x00A0;<br />doing&#x00A0;first&#x00A0;mode,&#x00A0;be&#x00A0;patient
&#x00A0;<br />doing&#x00A0;second&#x00A0;mode,&#x00A0;be&#x00A0;patient
&#x00A0;<br />s[a]ve&#x00A0;plots,&#x00A0;[q]uit:&#x00A0;q
&#x00A0;<br />%&#x00A0;revtest_magic.py&#x00A0;-f&#x00A0;revtest_sites.txt&#x00A0;-exc
</div>
<!--l. 3586--><p class="nopar" >
<!--l. 3588--><p class="noindent" >
<!--l. 3588--><p class="indent" >   <a name='subsec5-2-83'></a><h4 class="subsectionHead"><span class="titlemark">5.2.83   </span> <a 
href="#QQ2-1-140" id="x1-1400005.2.83">revtext_MM1990.py</a></h4>
<!--l. 3590--><p class="noindent" >This program tests whether two sets of observations (one with normal and one
with reverse polarity) could have been drawn from distributions that are 180<sup><span 
class="cmsy-8">&#x2218;</span></sup>
apart using the McFadden and McElhinny (1990) implementation of the Watson
(1983) V statistic test for a common mean. The implementation of the V statistic
test in this program is the same as in <a 
href="#WatsonsV.py" >WatsonsV.py</a>. Use <span 
class="cmbx-10x-x-109">revtext</span><span 
class="cmbx-10x-x-109">_MM1990.py</span>
to perform a reversal test on data from the Ao et al., 2013 study of Early
Pleistocene fluvio-lacustrine sediments of the Nihewan Basin of North
China.
<!--l. 3592--><p class="indent" >   Lets plot the combined data set <span 
class="cmti-10x-x-109">Ao</span><span 
class="cmti-10x-x-109">_etal2013</span><span 
class="cmti-10x-x-109">_combined.txt </span>using <a 
href="#eqarea.py" >eqarea.py</a>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-115">
%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;Ao_etal2013_combined.txt
</div>
<!--l. 3596--><p class="nopar" >
<!--l. 3598--><p class="indent" >   <img 
src="PmagPy71x.png" alt="PIC" class="graphics" width="227.62204pt" height="235.5001pt" ><!--tex4ht:graphics  
name="PmagPy71x.png" src="EPSfiles/Ao2013eq.eps"  
-->
<!--l. 3600--><p class="indent" >   Conduct a reversal test between the normal directions <span 
class="cmti-10x-x-109">Ao</span><span 
class="cmti-10x-x-109">_etal2013</span><span 
class="cmti-10x-x-109">_norm.txt</span>
and reversed directions <span 
class="cmti-10x-x-109">Ao</span><span 
class="cmti-10x-x-109">_etal2013</span><span 
class="cmti-10x-x-109">_rev.txt</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-116">
%&#x00A0;MM1990_revtest.py&#x00A0;-f&#x00A0;Ao_etal2013_norm.txt&#x00A0;-f2&#x00A0;Ao_etal2013_rev.txt
&#x00A0;<br />be&#x00A0;patient,&#x00A0;your&#x00A0;computer&#x00A0;is&#x00A0;doing&#x00A0;5000&#x00A0;simulations...
&#x00A0;<br />
&#x00A0;<br />Results&#x00A0;of&#x00A0;Watson&#x00A0;V&#x00A0;test:
&#x00A0;<br />
&#x00A0;<br />Watson&#8217;s&#x00A0;V:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.7
&#x00A0;<br />Critical&#x00A0;value&#x00A0;of&#x00A0;V:&#x00A0;&#x00A0;6.0
&#x00A0;<br />"Pass":&#x00A0;Since&#x00A0;V&#x00A0;is&#x00A0;less&#x00A0;than&#x00A0;Vcrit,&#x00A0;the&#x00A0;null&#x00A0;hypothesis&#x00A0;that&#x00A0;the
&#x00A0;<br />&#x00A0;two&#x00A0;populations&#x00A0;are&#x00A0;drawn&#x00A0;from&#x00A0;distributions&#x00A0;that&#x00A0;share&#x00A0;a
&#x00A0;<br />&#x00A0;common&#x00A0;mean&#x00A0;direction&#x00A0;(antipodal&#x00A0;to&#x00A0;one&#x00A0;another)&#x00A0;cannot&#x00A0;be&#x00A0;rejected.
&#x00A0;<br />
&#x00A0;<br />M&amp;M1990&#x00A0;classification:
&#x00A0;<br />
&#x00A0;<br />Angle&#x00A0;between&#x00A0;data&#x00A0;set&#x00A0;means:&#x00A0;2.9
&#x00A0;<br />Critical&#x00A0;angle&#x00A0;for&#x00A0;M&amp;M1990:&#x00A0;&#x00A0;&#x00A0;4.3
&#x00A0;<br />The&#x00A0;McFadden&#x00A0;and&#x00A0;McElhinny&#x00A0;(1990)&#x00A0;classification&#x00A0;for&#x00A0;this&#x00A0;test&#x00A0;is:&#x00A0;&#8216;A&#8217;
</div>
<!--l. 3619--><p class="nopar" >
<!--l. 3621--><p class="indent" >   As with <a 
href="#WatsonsV.py" >WatsonsV.py</a>, this program produces a plot that displays
the cumulative distribution (CDF) of the Watson V values resulting
from the Monte Carlo simulation. In the plot below, the red line is the
CDF, the green solid line is the value of the V statistic calculated for
the two populations and the dashed blue line is the critical value for
the V statistic. In this example, the data are consistent with the two
directional groups sharing a common mean as evidenced by V (green
solid line) being a lower value than the critical value of V (dashed blue
line).
                                                                     

                                                                     
<!--l. 3623--><p class="indent" >   <img 
src="PmagPy72x.png" alt="PIC" class="graphics" width="227.62204pt" height="227.62364pt" ><!--tex4ht:graphics  
name="PmagPy72x.png" src="EPSfiles/WatsonsV_Ao_etal2013.eps"  
-->
<!--l. 3625--><p class="indent" >   <a name='s_eigs.py'></a>
<!--l. 3626--><p class="indent" >   <a name='subsec5-2-84'></a><h4 class="subsectionHead"><span class="titlemark">5.2.84   </span> <a 
href="#QQ2-1-141" id="x1-1410005.2.84">s_eigs.py</a></h4>
<!--l. 3627--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/s_eigs-module.html" >[s_eigs docs]</a>
<!--l. 3630--><p class="indent" >   Convert the .s format data in <span 
class="cmti-10x-x-109">s</span><span 
class="cmti-10x-x-109">_eigs</span><span 
class="cmti-10x-x-109">_example.dat </span>to eigenvalues and
eigenvectors:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-117">
%&#x00A0;s_eigs.py&#x00A0;-f&#x00A0;s_eigs_example.dat
&#x00A0;<br />0.33127186&#x00A0;239.53&#x00A0;&#x00A0;44.70&#x00A0;0.33351338&#x00A0;126.62&#x00A0;&#x00A0;21.47&#x00A0;0.33521473&#x00A0;&#x00A0;19.03&#x00A0;&#x00A0;37.54
&#x00A0;<br />0.33177859&#x00A0;281.12&#x00A0;&#x00A0;&#x00A0;6.18&#x00A0;0.33218277&#x00A0;169.79&#x00A0;&#x00A0;73.43&#x00A0;0.33603862&#x00A0;&#x00A0;12.82&#x00A0;&#x00A0;15.32
&#x00A0;<br />0.33046979&#x00A0;283.57&#x00A0;&#x00A0;27.30&#x00A0;0.33328307&#x00A0;118.37&#x00A0;&#x00A0;61.91&#x00A0;0.33624712&#x00A0;&#x00A0;16.75&#x00A0;&#x00A0;&#x00A0;6.13
&#x00A0;<br />...
</div>
<!--l. 3638--><p class="nopar" >
<!--l. 3640--><p class="indent" >   <a name='s_geo.py'></a>
<!--l. 3641--><p class="indent" >   <a name='subsec5-2-85'></a><h4 class="subsectionHead"><span class="titlemark">5.2.85   </span> <a 
href="#QQ2-1-142" id="x1-1420005.2.85">s_geo.py</a></h4>
<!--l. 3642--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/s_geo-module.html" >[s_geo docs]</a>
<!--l. 3645--><p class="indent" >   Rotate the .s data into geographic coordinates using <span 
class="cmbx-10x-x-109">s</span><span 
class="cmbx-10x-x-109">_geo.py</span>. The input
format is the 6 tensor elements of s, followed by the azimuth and plunge of the X
axis.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-118">
%&#x00A0;s_geo.py&#x00A0;-f&#x00A0;s_geo_example.dat
&#x00A0;<br />0.33412680&#x00A0;0.33282733&#x00A0;0.33304587&#x00A0;-0.00015289&#x00A0;0.00124843&#x00A0;0.00135721
&#x00A0;<br />0.33556300&#x00A0;0.33198264&#x00A0;0.33245432&#x00A0;0.00087259&#x00A0;0.00024141&#x00A0;0.00096166
&#x00A0;<br />0.33584908&#x00A0;0.33140627&#x00A0;0.33274469&#x00A0;0.00131845&#x00A0;0.00118816&#x00A0;0.00002986
&#x00A0;<br />...
</div>
<!--l. 3653--><p class="nopar" >
<!--l. 3655--><p class="indent" >   <a name='s_hext.py'></a>
<!--l. 3656--><p class="indent" >   <a name='subsec5-2-86'></a><h4 class="subsectionHead"><span class="titlemark">5.2.86   </span> <a 
href="#QQ2-1-143" id="x1-1430005.2.86">s_hext.py</a></h4>
<!--l. 3657--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/s_hext-module.html" >[s_hext docs]</a>
<!--l. 3661--><p class="indent" >   Take the output from the <span 
class="cmbx-10x-x-109">s</span><span 
class="cmbx-10x-x-109">_geo.py </span>example and calculate Hext
statistics:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-119">
%&#x00A0;s_geo.py&#x00A0;-f&#x00A0;s_geo_example.dat&#x00A0;|&#x00A0;s_hext.py
&#x00A0;<br />F&#x00A0;=&#x00A0;&#x00A0;5.79&#x00A0;F12&#x00A0;=&#x00A0;&#x00A0;3.55&#x00A0;F23&#x00A0;=&#x00A0;&#x00A0;3.66
&#x00A0;<br />N&#x00A0;=&#x00A0;&#x00A0;8&#x00A0;&#x00A0;sigma&#x00A0;=&#x00A0;&#x00A0;0.000641809950
&#x00A0;<br />0.33505&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;25.5&#x00A0;&#x00A0;&#x00A0;124.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;61.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;13.3&#x00A0;&#x00A0;&#x00A0;268.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.6
&#x00A0;<br />0.33334&#x00A0;&#x00A0;&#x00A0;124.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;61.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;25.1&#x00A0;&#x00A0;&#x00A0;268.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;25.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.7
&#x00A0;<br />0.33161&#x00A0;&#x00A0;&#x00A0;268.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;23.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;13.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;14.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;25.1&#x00A0;&#x00A0;&#x00A0;124.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;61.7
&#x00A0;<br />
</div>
<!--l. 3671--><p class="nopar" >
<!--l. 3673--><p class="indent" >   <a name='s_tilt.py'></a>
<!--l. 3674--><p class="indent" >   <a name='subsec5-2-87'></a><h4 class="subsectionHead"><span class="titlemark">5.2.87   </span> <a 
href="#QQ2-1-144" id="x1-1440005.2.87">s_tilt.py</a></h4>
<!--l. 3675--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/s_tilt-module.html" >[s_tilt docs]</a>
<!--l. 3678--><p class="indent" >   Rotate the .s data saved in <span 
class="cmti-10x-x-109">s</span><span 
class="cmti-10x-x-109">_tilt</span><span 
class="cmti-10x-x-109">_example.dat </span>into stratigraphic coordinates:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-120">
%&#x00A0;s_tilt.py&#x00A0;-f&#x00A0;s_tilt_example.dat
&#x00A0;<br />0.33455709&#x00A0;0.33192658&#x00A0;0.33351630&#x00A0;-0.00043562&#x00A0;0.00092778&#x00A0;0.00105006
&#x00A0;<br />0.33585501&#x00A0;0.33191565&#x00A0;0.33222935&#x00A0;0.00055959&#x00A0;-0.00005316&#x00A0;0.00064731
&#x00A0;<br />0.33586669&#x00A0;0.33084923&#x00A0;0.33328408&#x00A0;0.00142267&#x00A0;0.00013233&#x00A0;0.00009202
&#x00A0;<br />0.33488664&#x00A0;0.33138493&#x00A0;0.33372843&#x00A0;-0.00056597&#x00A0;-0.00039086&#x00A0;0.00004873
&#x00A0;<br />.
&#x00A0;<br />.
</div>
<!--l. 3688--><p class="nopar" >
<!--l. 3690--><p class="indent" >   <a name='s_magic.py'></a>
<!--l. 3691--><p class="indent" >   <a name='subsec5-2-88'></a><h4 class="subsectionHead"><span class="titlemark">5.2.88   </span> <a 
href="#QQ2-1-145" id="x1-1450005.2.88">s_magic.py</a></h4>
<!--l. 3691--><p class="noindent" >[MagIC] <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/s_magic-module.html" >[s_magic docs]</a>
<!--l. 3695--><p class="indent" >   Import .s format file output from the <span 
class="cmbx-10x-x-109">s</span><span 
class="cmbx-10x-x-109">_tilt.py </span>example into an <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy</span>
formatted file. Files of the <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy </span>format can be plotted with
<span 
class="cmbx-10x-x-109">aniso</span><span 
class="cmbx-10x-x-109">_magic.py</span>. To see how this works, use the program <span 
class="cmbx-10x-x-109">s</span><span 
class="cmbx-10x-x-109">_magic.py </span>as
follows:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-121">
%&#x00A0;s_tilt.py&#x00A0;-f&#x00A0;s_tilt_example.dat&#x00A0;&#x003E;s_magic_example.dat
&#x00A0;<br />%&#x00A0;s_magic.py&#x00A0;-f&#x00A0;s_magic_example.dat
&#x00A0;<br />data&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;./rmag_anisotropy.txt
</div>
<!--l. 3701--><p class="nopar" >
<!--l. 3703--><p class="indent" >   This creates the output file <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy.txt </span>by default, which can be
plotted with the program <a 
href="#aniso_magic.py" >aniso_magic.py</a>.
<!--l. 3706--><p class="indent" >   <a name='scalc.py'></a>
<!--l. 3707--><p class="indent" >   <a name='subsec5-2-89'></a><h4 class="subsectionHead"><span class="titlemark">5.2.89   </span> <a 
href="#QQ2-1-146" id="x1-1460005.2.89">scalc.py</a></h4>
<!--l. 3708--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch14.html#ch14" >[Essentials Chapter 14]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/scalc-module.html" >[scalc docs]</a>
<!--l. 3712--><p class="indent" >   Calculate the <span 
class="cmmi-10x-x-109">S </span>scatter statistic for a set of VGPs saved in <span 
class="cmti-10x-x-109">scalc</span><span 
class="cmti-10x-x-109">_example.txt</span>.
Repeat using a Vandamme (Vandamme et al., 1994) variable cutoff. Then get the
bootstrap bounds on the calculation.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-122">
%&#x00A0;scalc.py&#x00A0;-f&#x00A0;scalc_example.txt
&#x00A0;<br />99&#x00A0;&#x00A0;&#x00A0;&#x00A0;19.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;90.0
&#x00A0;<br />%&#x00A0;scalc.py&#x00A0;-f&#x00A0;scalc_example.txt&#x00A0;-v
&#x00A0;<br />89&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;32.3
&#x00A0;<br />%&#x00A0;scalc.py&#x00A0;-f&#x00A0;scalc_example.txt&#x00A0;-v&#x00A0;-b
&#x00A0;<br />89&#x00A0;&#x00A0;&#x00A0;&#x00A0;15.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;13.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;16.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;32.3
</div>
<!--l. 3721--><p class="nopar" >
<!--l. 3723--><p class="indent" >   Using no cutoff, the VGP scatter was 19.5<sup><span 
class="cmsy-8">&#x2218;</span></sup>. The Vandamme co-latitude cutoff
was 32.3<sup><span 
class="cmsy-8">&#x2218;</span></sup> which threw out 6 points and gave a scatter of 15.2<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
<!--l. 3725--><p class="indent" >   <a name='scalc_magic.py'></a>
<!--l. 3726--><p class="indent" >   <a name='subsec5-2-90'></a><h4 class="subsectionHead"><span class="titlemark">5.2.90   </span> <a 
href="#QQ2-1-147" id="x1-1470005.2.90">scalc_magic.py</a></h4>
<!--l. 3727--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch14.html#ch14" >[Essentials Chapter 14]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/scalc_magic-module.html" >[scalc_magic docs]</a>
<!--l. 3730--><p class="indent" >   This is the same as <span 
class="cmbx-10x-x-109">scalc.py </span>but works on <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results </span>formatted
files. Try it out on the <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>file in the directory created for
the <span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>example. Use a VGP co-latitude cutoff of
30<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-123">
%&#x00A0;scalc_magic.py&#x00A0;-f&#x00A0;pmag_results.txt&#x00A0;&#x00A0;-c&#x00A0;30
&#x00A0;<br />13&#x00A0;&#x00A0;&#x00A0;&#x00A0;17.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;30.0
&#x00A0;<br />
</div>
<!--l. 3736--><p class="nopar" >
<!--l. 3738--><p class="indent" >   <a name='site_edit_magic.py'></a>
<!--l. 3739--><p class="indent" >   <a name='subsec5-2-91'></a><h4 class="subsectionHead"><span class="titlemark">5.2.91   </span> <a 
href="#QQ2-1-148" id="x1-1480005.2.91">site_edit_magic.py</a></h4>
<!--l. 3740--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/site_edit_magic-module.html" >[site_edit_magic docs]</a>
<!--l. 3742--><p class="indent" >   There are frequently outlier directions when looking at data at the site level.
Some paleomagnetists throw out the entire site, while some arbitrarily discard
individual samples, assuming that the orientations were &#8216;bad&#8217;. Lawrence et
al. (2009) suggested a different approach in which common causes of
misorientation are specifically tested. For example, if the arrow indicating drill
direction (see <a 
href="#orientiation_magic.py" >orientation conventions</a>) was drawn the wrong way on
the sample in the field, the direction would be off in a predictable way.
Similarly (and more commonly) extraneous marks on the sample were
used instead of the correct brass mark, the directions will fall along a
small circle which passes through the correct direction. The program
<span 
class="cmbx-10x-x-109">site</span><span 
class="cmbx-10x-x-109">_edit</span><span 
class="cmbx-10x-x-109">_magic.py </span>plots data by site on an equal area projection, allows
the user to select a particular specimen direction and plots the various
pathological behaviors expected from common misorientations. If the
stray directions can reasonably be assigned to a particular cause, then
that sample orientation can be marked as &#8216;bad&#8217; with a note as to the
reason for exclusion and the directions from that sample can be excluded
from the site mean, and the reason can be documented in the MagIC
database.
<!--l. 3744--><p class="indent" >   Try this out using the data downloaded in the <a 
href="#download_magic.py" >download_magic.py</a>
example.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-124">
%&#x00A0;site_edit_magic.py
&#x00A0;<br />....
&#x00A0;<br />sr11
&#x00A0;<br />specimen,&#x00A0;dec,&#x00A0;inc,&#x00A0;n_meas/MAD,|&#x00A0;method&#x00A0;codes
&#x00A0;<br />sr11a1:&#x00A0;&#x00A0;&#x00A0;340.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;74.1&#x00A0;8&#x00A0;/&#x00A0;0.9&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr11b1:&#x00A0;&#x00A0;&#x00A0;353.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;70.3&#x00A0;10&#x00A0;/&#x00A0;2.1&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr11c1:&#x00A0;&#x00A0;&#x00A0;342.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;69.4&#x00A0;8&#x00A0;/&#x00A0;1.3&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr11e2:&#x00A0;&#x00A0;&#x00A0;341.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;73.4&#x00A0;8&#x00A0;/&#x00A0;0.9&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr11f1:&#x00A0;&#x00A0;&#x00A0;136.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.4&#x00A0;14&#x00A0;/&#x00A0;3.5&#x00A0;|&#x00A0;LP-DIR-T:DE-BFP
&#x00A0;<br />sr11g2:&#x00A0;&#x00A0;&#x00A0;345.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;77.0&#x00A0;8&#x00A0;/&#x00A0;0.8&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr11i1:&#x00A0;&#x00A0;&#x00A0;&#x00A0;77.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.8&#x00A0;12&#x00A0;/&#x00A0;3.5&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFP
&#x00A0;<br />sr11j3:&#x00A0;&#x00A0;&#x00A0;&#x00A0;97.4&#x00A0;&#x00A0;&#x00A0;-13.2&#x00A0;8&#x00A0;/&#x00A0;11.8&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Site&#x00A0;lines&#x00A0;planes&#x00A0;&#x00A0;kappa&#x00A0;&#x00A0;&#x00A0;a95&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;inc
&#x00A0;<br />sr11&#x00A0;6&#x00A0;&#x00A0;2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;28.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;18.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;73.6&#x00A0;&#x00A0;6.7445
&#x00A0;<br />s[a]ve&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;[e]dit&#x00A0;specimens,&#x00A0;[p]revious&#x00A0;site,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue:
&#x00A0;<br />&#x00A0;e
&#x00A0;<br />Enter&#x00A0;name&#x00A0;of&#x00A0;specimen&#x00A0;to&#x00A0;check:&#x00A0;sr11j3
&#x00A0;<br />Triangle:&#x00A0;wrong&#x00A0;arrow&#x00A0;for&#x00A0;drill&#x00A0;direction.
&#x00A0;<br />Delta:&#x00A0;wrong&#x00A0;end&#x00A0;of&#x00A0;compass.
&#x00A0;<br />Small&#x00A0;circle:&#x00A0;&#x00A0;wrong&#x00A0;mark&#x00A0;on&#x00A0;sample.&#x00A0;[cyan&#x00A0;upper&#x00A0;hemisphere]
&#x00A0;<br />Mark&#x00A0;this&#x00A0;sample&#x00A0;as&#x00A0;bad?&#x00A0;y/[n]&#x00A0;&#x00A0;n
&#x00A0;<br />Mark&#x00A0;another&#x00A0;sample,&#x00A0;this&#x00A0;site?&#x00A0;y/[n]&#x00A0;&#x00A0;n
&#x00A0;<br />.....
&#x00A0;<br />sr20
&#x00A0;<br />no&#x00A0;orientation&#x00A0;data&#x00A0;for&#x00A0;&#x00A0;sr20j
&#x00A0;<br />specimen,&#x00A0;dec,&#x00A0;inc,&#x00A0;n_meas/MAD,|&#x00A0;method&#x00A0;codes
&#x00A0;<br />sr20c1:&#x00A0;&#x00A0;&#x00A0;339.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;56.2&#x00A0;9&#x00A0;/&#x00A0;2.1&#x00A0;|&#x00A0;LP-DIR-T:DE-BFL
&#x00A0;<br />sr20d2:&#x00A0;&#x00A0;&#x00A0;341.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;60.3&#x00A0;9&#x00A0;/&#x00A0;1.7&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr20e1:&#x00A0;&#x00A0;&#x00A0;332.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;55.3&#x00A0;10&#x00A0;/&#x00A0;1.0&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr20f1:&#x00A0;&#x00A0;&#x00A0;337.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;54.0&#x00A0;9&#x00A0;/&#x00A0;3.7&#x00A0;|&#x00A0;LP-DIR-T:DE-BFL
&#x00A0;<br />sr20g1:&#x00A0;&#x00A0;&#x00A0;340.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;60.2&#x00A0;9&#x00A0;/&#x00A0;1.6&#x00A0;|&#x00A0;LP-DIR-T:DE-BFL
&#x00A0;<br />sr20i1:&#x00A0;&#x00A0;&#x00A0;330.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;31.9&#x00A0;11&#x00A0;/&#x00A0;0.6&#x00A0;|&#x00A0;LP-DIR-AF:DE-BFL
&#x00A0;<br />sr20i2:&#x00A0;&#x00A0;&#x00A0;330.7&#x00A0;&#x00A0;&#x00A0;&#x00A0;31.1&#x00A0;9&#x00A0;/&#x00A0;2.3&#x00A0;|&#x00A0;LP-DIR-T:DE-BFL
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Site&#x00A0;lines&#x00A0;planes&#x00A0;&#x00A0;kappa&#x00A0;&#x00A0;&#x00A0;a95&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;inc
                                                                     

                                                                     
&#x00A0;<br />sr20&#x00A0;7&#x00A0;&#x00A0;0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;38&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;335.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;50.0&#x00A0;&#x00A0;6.8434
&#x00A0;<br />s[a]ve&#x00A0;plot,&#x00A0;[q]uit,&#x00A0;[e]dit&#x00A0;specimens,&#x00A0;[p]revious&#x00A0;site,&#x00A0;&#x003C;return&#x003E;&#x00A0;to&#x00A0;continue:
&#x00A0;<br />&#x00A0;e
&#x00A0;<br />Enter&#x00A0;name&#x00A0;of&#x00A0;specimen&#x00A0;to&#x00A0;check:&#x00A0;sr20i1
&#x00A0;<br />Triangle:&#x00A0;wrong&#x00A0;arrow&#x00A0;for&#x00A0;drill&#x00A0;direction.
&#x00A0;<br />Delta:&#x00A0;wrong&#x00A0;end&#x00A0;of&#x00A0;compass.
&#x00A0;<br />Small&#x00A0;circle:&#x00A0;&#x00A0;wrong&#x00A0;mark&#x00A0;on&#x00A0;sample.&#x00A0;[cyan&#x00A0;upper&#x00A0;hemisphere]
&#x00A0;<br />Mark&#x00A0;this&#x00A0;sample&#x00A0;as&#x00A0;bad?&#x00A0;y/[n]&#x00A0;&#x00A0;y
&#x00A0;<br />Reason:&#x00A0;[1]&#x00A0;broke,&#x00A0;[2]&#x00A0;wrong&#x00A0;drill&#x00A0;direction,&#x00A0;[3]&#x00A0;wrong&#x00A0;compass&#x00A0;direction,
&#x00A0;<br />[4]&#x00A0;bad&#x00A0;mark,&#x00A0;[5]&#x00A0;displaced&#x00A0;block&#x00A0;[6]&#x00A0;other&#x00A0;2
&#x00A0;<br />Mark&#x00A0;another&#x00A0;sample,&#x00A0;this&#x00A0;site?&#x00A0;y/[n]&#x00A0;&#x00A0;n
</div>
<!--l. 3794--><p class="nopar" >
<!--l. 3797--><p class="indent" >   Compare behaviors for sr11, sample sr11XXX and sr20, sample sr20i:
<!--l. 3799--><p class="indent" >   <img 
src="PmagPy73x.png" alt="PIC" class="graphics" width="426.79134pt" height="263.11441pt" ><!--tex4ht:graphics  
name="PmagPy73x.png" src="EPSfiles/site_edit_magic.eps"  
-->
<!--l. 3801--><p class="indent" >   The latter plausibly fits the &#8220;wrong mark&#8221; hypothesis, while the former does
not fit any of the common pathologies. The sample orientation in the
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file has a note that it is &#8216;bad&#8217; and will be ignored by the PmagPy
programs when calculating site means.
<!--l. 3806--><p class="indent" >   <a name='specimens_results_magic.py'></a>
                                                                     

                                                                     
<!--l. 3807--><p class="indent" >   <a name='subsec5-2-92'></a><h4 class="subsectionHead"><span class="titlemark">5.2.92   </span> <a 
href="#QQ2-1-149" id="x1-1490005.2.92">specimens_results_magic.py</a></h4>
<!--l. 3808--><p class="noindent" ><a 
href="#MagIC" >MagIC</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/specimens_results_magic-module.html" >[specimens_results_magic docs]</a>
<!--l. 3811--><p class="indent" >   Starting from the magnetometer output files, paleomagnetists interpret the
data in terms of vectors, using software like <a 
href="#zeq_magic.py" >zeq_magic.py</a> or <a 
href="thellier_magic.py" >thellier_magic.py</a>.
The interpretations from these programs are stored in pmag_specimen formatted
files. Once a pmag_specimens format file has been created, the data are
usually averaged by sample and/or by site and converted into <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_dipole_moment" >V[A]DMs</a>
and/or <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#Virtual_geomagnetic_poles" >VGPs</a> and put in a pmag_results formatted file along with the
location and age information that are available. Data must be selected
or rejected according to some criteria at each level (for example, the
specimen MAD direction must be less than some value or the site <span 
class="cmmi-10x-x-109">&#x03BA; </span>must
be greater than some value). This onerous task can be accomplished
using the program <span 
class="cmbx-10x-x-109">specimens</span><span 
class="cmbx-10x-x-109">_results</span><span 
class="cmbx-10x-x-109">_magic.py</span>. This program has
many optional features, so the reader is encouraged just to look at the
documentation.
<!--l. 3815--><p class="indent" >   Test it out by using the datafiles created in the <a 
href="#site_edit_magic.py" >site_edit_magic.py</a> example.
Block the interpretation of some of the samples owing to &#8216;bad&#8217; orientation.
Change the selection criteria using <a 
href="customize_criteria.py" >customize_criteria.py</a>. Then generate a new
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen.txt </span>file using <a 
href="#mk_redo.py" >mk_redo.py</a>, <a 
href="#zeq_magic_redo.py" >zeq_magic_redo.py</a> and <a 
href="#combine_magic.py" >combine_magic.py</a>.
Then do the averaging by site with <span 
class="cmbx-10x-x-109">specimens</span><span 
class="cmbx-10x-x-109">_results</span><span 
class="cmbx-10x-x-109">_magic.py</span>. The age
bounds of the data are 0-5 Ma (-age 0 5 Ma). Use the existing (or modified)
criteria (-exc option). There are some paleointensity data, so use the current site
latitude for the VADM calculation (-lat option). Calculate the data in the
geographic coordinate system (-crd g). Then extract the data into tab delimited
tables using <a 
href="#pmag_results_extract.py" >pmag_results_extract.py</a>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-125">
%&#x00A0;mk_redo.py
&#x00A0;<br />%&#x00A0;zeq_magic_redo.py&#x00A0;-crd&#x00A0;g
&#x00A0;<br />Processing&#x00A0;&#x00A0;173&#x00A0;&#x00A0;specimens&#x00A0;-&#x00A0;please&#x00A0;wait
&#x00A0;<br />Recalculated&#x00A0;specimen&#x00A0;data&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./zeq_specimens.txt
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;pmag_specimens.txt&#x00A0;-f&#x00A0;zeq_specimens.txt&#x00A0;thellier_specimens.txt
&#x00A0;<br />File&#x00A0;&#x00A0;./zeq_specimens.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;173&#x00A0;&#x00A0;records
&#x00A0;<br />File&#x00A0;&#x00A0;./thellier_specimens.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;50&#x00A0;&#x00A0;records
&#x00A0;<br />All&#x00A0;records&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./pmag_specimens.txt
&#x00A0;<br />%&#x00A0;specimens_results_magic.py&#x00A0;-age&#x00A0;0&#x00A0;5&#x00A0;Ma&#x00A0;-exc&#x00A0;-lat&#x00A0;-crd&#x00A0;g
&#x00A0;<br />Acceptance&#x00A0;criteria&#x00A0;read&#x00A0;in&#x00A0;from&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Pmag&#x00A0;Criteria&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;sites&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;pmag_sites.txt
&#x00A0;<br />&#x00A0;results&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;pmag_results.txt
&#x00A0;<br />%&#x00A0;pmag_results_extract.py&#x00A0;-fa&#x00A0;er_ages.txt
&#x00A0;<br />data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;./Directions.txt&#x00A0;./Intensities.txt&#x00A0;./SiteNfo.txt
</div>
<!--l. 3835--><p class="nopar" >
<!--l. 3837--><p class="indent" >   Note that this procedure is more or less automated in the <a 
href="#MagIC.py" >MagIC.py</a>
GUI.
<!--l. 3840--><p class="indent" >   <a name='stats.py'></a>
<!--l. 3841--><p class="indent" >   <a name='subsec5-2-93'></a><h4 class="subsectionHead"><span class="titlemark">5.2.93   </span> <a 
href="#QQ2-1-150" id="x1-1500005.2.93">stats.py</a></h4>
<!--l. 3842--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/stats-module.html" >[stats docs]</a>
<!--l. 3845--><p class="indent" >   Calculates gaussian statistics for sets of data. Calculate the mean of the data
generated in the <a 
href="#gaussian.py" >gaussian.py</a> example and saved in <span 
class="cmti-10x-x-109">gauss.out</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-126">
%&#x00A0;stats.py&#x00A0;-f&#x00A0;gauss.out
&#x00A0;<br />100&#x00A0;10.12243251&#x00A0;1012.243251&#x00A0;2.79670530387&#x00A0;27.6287868663
</div>
<!--l. 3851--><p class="nopar" >
<!--l. 3853--><p class="indent" >   which according to the help message is:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-127">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;N,&#x00A0;mean,&#x00A0;sum,&#x00A0;sigma,&#x00A0;(%)&#x00A0;,&#x00A0;stderr,&#x00A0;95%&#x00A0;conf.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;where&#x00A0;sigma&#x00A0;is&#x00A0;the&#x00A0;standard&#x00A0;deviation
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;where&#x00A0;%&#x00A0;is&#x00A0;sigma&#x00A0;as&#x00A0;percentage&#x00A0;of&#x00A0;the&#x00A0;mean
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;stderr&#x00A0;is&#x00A0;the&#x00A0;standard&#x00A0;error&#x00A0;and
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;95%&#x00A0;conf.=&#x00A0;&#x00A0;1.96*sigma/sqrt(N)
</div>
<!--l. 3861--><p class="nopar" >
<!--l. 3863--><p class="indent" >   <a name='strip_magic.py'></a>
<!--l. 3864--><p class="indent" >   <a name='subsec5-2-94'></a><h4 class="subsectionHead"><span class="titlemark">5.2.94   </span> <a 
href="#QQ2-1-151" id="x1-1510005.2.94">strip_magic.py</a></h4>
<!--l. 3865--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch15.html#ch15" >[Essentials Chapter 15]</a> and <a 
href="#MagIC" >[MagIC</a>]
<!--l. 3867--><p class="indent" >   Follow the instructions for <a 
href="#download_magic.py" >download_magic.py</a> but search for Tauxe and
Hartl and 1997. Download the smartbook (text file) and unpack it into a
new directory using the <span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>command and the file
<span 
class="cmti-10x-x-109">zmab0094214tmp02.txt </span>as the input file (in the Tauxe and Hartl directory). First
run <span 
class="cmbx-10x-x-109">strip</span><span 
class="cmbx-10x-x-109">_magic.py </span>to see what is available for plotting, then plot the
inclination data versus depth (pos). Then plot the VGP latitudes versus
age:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-128">
%&#x00A0;download_magic.py&#x00A0;-f&#x00A0;zmab0094214tmp03.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_locations&#8217;
&#x00A0;<br />er_locations&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_locations.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_sites&#8217;
&#x00A0;<br />er_sites&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_samples&#8217;
&#x00A0;<br />..........
&#x00A0;<br />%&#x00A0;strip_magic.py
&#x00A0;<br />available&#x00A0;objects&#x00A0;for&#x00A0;plotting:&#x00A0;&#x00A0;[&#8217;all&#8217;]
&#x00A0;<br />available&#x00A0;X&#x00A0;plots:&#x00A0;&#x00A0;[&#8217;age&#8217;,&#x00A0;&#8217;pos&#8217;]
&#x00A0;<br />available&#x00A0;Y&#x00A0;plots:&#x00A0;&#x00A0;[&#8217;lon&#8217;,&#x00A0;&#8217;int&#8217;,&#x00A0;&#8217;lat&#8217;]
&#x00A0;<br />available&#x00A0;method&#x00A0;codes:&#x00A0;&#x00A0;[&#8217;LP-PI-IRM&#8217;,&#x00A0;&#8217;LP-PI-REL&#8217;]
&#x00A0;<br />%&#x00A0;strip_magic.py&#x00A0;-x&#x00A0;pos&#x00A0;-y&#x00A0;int&#x00A0;-mcd&#x00A0;LP-PI-IRM
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit&#x00A0;without&#x00A0;saving:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;strat.svg
&#x00A0;<br />&#x00A0;%strip_magic.py&#x00A0;-x&#x00A0;age&#x00A0;-y&#x00A0;lat
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit&#x00A0;without&#x00A0;saving:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;strat.svg
</div>
<!--l. 3888--><p class="nopar" > The last command made this plot:
                                                                     

                                                                     
<!--l. 3892--><p class="indent" >   <img 
src="PmagPy74x.png" alt="PIC" class="graphics" width="426.79134pt" height="238.44391pt" ><!--tex4ht:graphics  
name="PmagPy74x.png" src="EPSfiles/latVage.eps"  
-->
<!--l. 3895--><p class="indent" >   <a name='sundec.py'></a>
<!--l. 3896--><p class="indent" >   <a name='subsec5-2-95'></a><h4 class="subsectionHead"><span class="titlemark">5.2.95   </span> <a 
href="#QQ2-1-152" id="x1-1520005.2.95">sundec.py</a></h4>
<!--l. 3897--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/sundec-module.html" >[sundec docs]</a>
<!--l. 3900--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">sundec.py </span>to calculate azimuth of the direction of drill.
You are located at 35<sup><span 
class="cmsy-8">&#x2218;</span></sup> N and 33<sup><span 
class="cmsy-8">&#x2218;</span></sup> E. The local time is three hours ahead of
Universal Time. The shadow angle for the drilling direction was 68<sup><span 
class="cmsy-8">&#x2218;</span></sup> measured at
16:09 on May 23, 1994.
<!--l. 3905--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">sundec.py </span>works either by interactive data entry or by reading
from a file.
<!--l. 3907--><p class="indent" >   Save the following in a file called <span 
class="cmti-10x-x-109">sundec</span><span 
class="cmti-10x-x-109">_example.dat</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-129">
3&#x00A0;35&#x00A0;33&#x00A0;1994&#x00A0;5&#x00A0;23&#x00A0;16&#x00A0;9&#x00A0;68
</div>
<!--l. 3911--><p class="nopar" > which is:
<!--l. 3914--><p class="indent" >   &#x0394;<sub><span 
class="cmmi-8">GMT</span> </sub> lat lon year mon day hh mm shadow_angle
<!--l. 3916--><p class="indent" >   We can analyze this file with either:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-130">
%&#x00A0;sundec.py&#x00A0;-f&#x00A0;sundec_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;154.2
</div>
<!--l. 3921--><p class="nopar" > or
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-131">
%&#x00A0;sundec.py&#x00A0;&#x003C;&#x00A0;sundec_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;154.2
</div>
<!--l. 3926--><p class="nopar" > or by manual input:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-132">
%&#x00A0;sundec.py&#x00A0;-i
&#x00A0;<br />Time&#x00A0;difference&#x00A0;between&#x00A0;Greenwich&#x00A0;Mean&#x00A0;Time&#x00A0;(hrs&#x00A0;to&#x00A0;ADD&#x00A0;to
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;GMT&#x00A0;for&#x00A0;local&#x00A0;time):
&#x00A0;<br />&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;3
&#x00A0;<br />Year:&#x00A0;&#x00A0;&#x003C;cntl-D&#x00A0;to&#x00A0;quit&#x003E;&#x00A0;1994
&#x00A0;<br />Month:&#x00A0;&#x00A0;5
&#x00A0;<br />Day:&#x00A0;&#x00A0;23
&#x00A0;<br />hour:&#x00A0;&#x00A0;16
&#x00A0;<br />minute:&#x00A0;&#x00A0;9
&#x00A0;<br />Latitude&#x00A0;of&#x00A0;sampling&#x00A0;site&#x00A0;(negative&#x00A0;in&#x00A0;southern&#x00A0;hemisphere):&#x00A0;35
&#x00A0;<br />Longitude&#x00A0;of&#x00A0;sampling&#x00A0;site&#x00A0;(negative&#x00A0;for&#x00A0;western&#x00A0;hemisphere):&#x00A0;33
&#x00A0;<br />Shadow&#x00A0;angle:&#x00A0;68
&#x00A0;<br />&#x00A0;&#x00A0;154.2
&#x00A0;<br />Time&#x00A0;difference&#x00A0;between&#x00A0;Greenwich&#x00A0;Mean&#x00A0;Time&#x00A0;(hrs&#x00A0;to&#x00A0;ADD&#x00A0;to
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;GMT&#x00A0;for&#x00A0;local&#x00A0;time):
&#x00A0;<br />&#x003C;cntl-D&#x003E;&#x00A0;to&#x00A0;quit&#x00A0;^D
&#x00A0;<br />&#x00A0;Good-bye
&#x00A0;<br />
</div>
<!--l. 3947--><p class="nopar" >
<!--l. 3949--><p class="indent" >   In any case, the declination is 154.2<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
<!--l. 3952--><p class="indent" >   <a name='thellier_GUI.py'></a>
<!--l. 3953--><p class="indent" >   <a name='subsec5-2-96'></a><h4 class="subsectionHead"><span class="titlemark">5.2.96   </span> <a 
href="#QQ2-1-153" id="x1-1530005.2.96">thellier_GUI.py</a></h4>
<!--l. 3954--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#ch10" >[Essentials Chapter 10]</a> and <a 
href="#MagIC" >[MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_tutorial.pdf" >[Thellier_GUI_tutorial.pdf]</a>
<!--l. 3957--><p class="indent" >   The program <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_gui.py </span>combines functions from <a 
href="#thellier_magic.py" >thellier_magic.py</a> and
new tools described by <a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar and Tauxe (2012)</a> in a user-friendly graphical user
interface (GUI). It can also be called from within <a 
href="#MagIC.py" >MagIC.py</a>, using files already
prepared in the MagIC Project Directory and the interpretations from
<span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_gui.py </span>can be imported into the <span 
class="cmbx-10x-x-109">MagIC.py </span>Project Directory after
exiting the program. This section is a brief introduction on how to use
<span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_gui.py </span>as a stand alone application. For complete documentation,
see:
<!--l. 3959--><p class="indent" >   <a 
href="http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_tutorial.pdf" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_tutorial.pdf</span></a>
<!--l. 3961--><p class="noindent" >A complete list of the definitions for paleointensity statistics used by
Thellier_GUI.py is available here:
                                                                     

                                                                     
<!--l. 3963--><p class="indent" >
<a 
href="http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_Paleointensity_Statistics_Definitions.pdf" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_Paleointensity_Statistics_Definitions.pdf</span></a>
<!--l. 3966--><p class="noindent" >
<!--l. 3966--><p class="indent" >   <a name='subsubsec5-2-96-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1540005.2.96" id="x1-1540005.2.96">Starting the GUI</a></h5>
<!--l. 3967--><p class="noindent" >The GUI can be opened by typing in the <a 
href="#command_line" >Terminal</a> window:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-133">
%&#x00A0;thellier_gui.py
</div>
<!--l. 3971--><p class="nopar" > <a name='choose_directory'></a> A &#8220;choose project directory&#8221; dialog window will appear as soon as the GUI is
started.
<!--l. 3975--><p class="indent" >   <img 
src="PmagPy75x.png" alt="PIC" class="graphics" width="426.79134pt" height="233.18669pt" ><!--tex4ht:graphics  
name="PmagPy75x.png" src="EPSFiles/Screenshot_choose_directory.eps"  
-->
<!--l. 3978--><p class="indent" >   The <a 
href="#Project_Directory" >Project Directory</a> should include a file named &#8220;magic_measurements.txt&#8221;
. To make this use the <a 
href="#MagIC.py" >G</a>UI to <a 
href="#ImportMenu" >Import</a> your data files and <a 
href="#Combining_measurement_files" >combine your
measurements</a>. Also, if a file named &#8221;rmag_anistropy.txt&#8221; exists, then the
program reads the anisotropy data from <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anistropy.txt </span>. Reading and
processing the measurements files may take several seconds, depending on the
number of the specimens.
<!--l. 3981--><p class="noindent" >
<!--l. 3981--><p class="indent" >   <a name='subsubsec5-2-96-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1550005.2.96" id="x1-1550005.2.96">Reading and compiling measurements data</a></h5>
<!--l. 3982--><p class="noindent" >When the MagIC project directory is selected, the program reads all
the measurement data, checks them, processes them and sorts them. If
Non-linear-TRM (NLT) data exist in <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurement.txt </span>then the program
tries to process the data using Equations (1)-(3) in <span 
class="cmbx-10x-x-109">?</span>. The program reads
                                                                     

                                                                     
<span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurement.txt</span>, and processes the measurements for presentation as Arai
and Zijderveld plots. We recommend that you check all the warnings and errors
in <span 
class="cmti-10x-x-109">Thellier</span><span 
class="cmti-10x-x-109">_GUI.log </span>before starting to interpret the data. For details about
warnings and error messages during these steps, consult the tutorial document:
<a 
href="http://earthref.org/PmagPy/pmagpydocs/Thellier_GUI_tutorial.pdf" >Thellier_GUI_tutorial.pdf</a>. Also, consult the Preferences to change certain
plotting options.
<!--l. 3985--><p class="noindent" >
<!--l. 3985--><p class="indent" >   <a name='subsubsec5-2-96-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1560005.2.96" id="x1-1560005.2.96">Main panel</a></h5>
<!--l. 3987--><p class="noindent" >This figure shows a snapshot of the main panel.
<!--l. 3989--><p class="indent" >   <img 
src="PmagPy76x.png" alt="PIC" class="graphics" width="426.79134pt" height="266.74362pt" ><!--tex4ht:graphics  
name="PmagPy76x.png" src="EPSFiles/Screenshot_main_panel.eps"  
-->
<!--l. 3991--><p class="noindent" >The top field in the panel includes the following buttons/controls (from left to
right):
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10x-x-109">Specimen: </span>a list of the specimens in the project folder sorted by
     name.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">previous/next:  </span>buttons  to  move  forward  and  backward  in  the
                                                                     

                                                                     
     specimens list.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">T min/T max: </span>buttons to select temperature bounds.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">save/delete: </span>save or delete current interpretation. This information
     will be used later to generate a <a 
href="#mk_redo.py" >redo file</a>.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">B</span><span 
class="cmbx-10x-x-109">_lab: </span>laboratory field in units of <span 
class="cmmi-10x-x-109">&#x03BC;T</span>.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">B</span><span 
class="cmbx-10x-x-109">_anc: </span>specimen&#8217;s paleointensity in units of <span 
class="cmmi-10x-x-109">&#x03BC;T</span>.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Aniso Correction: </span>anisotropy correction factor.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">NLT Correction: </span>Non-Linear TRM (NLT) correction factor.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Dec/Inc: </span>Specimen declination/inclination calculated by PCA of the
     NRM in the selected temperature bounds.
     </li>
     <li class="itemize">Sample mean, number of specimens, standard deviation and percent
     standard deviation.</li></ul>
<!--l. 4006--><p class="indent" >   The center of the main panel has these elements:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10x-x-109">measurements text panel: </span>Four columns of the measurement data:
     Step is &#8221;N&#8221; for NRM, &#8221;Z&#8221; for zero field step, &#8221;I&#8221; for infield step, &#8221;P&#8221;
     for pTRM check, and &#8221;T&#8221; for tail check. The temperature of each step
     is given in C. Also shown declination, inclination and moment (in units
     of <span 
class="cmmi-10x-x-109">Am</span><sup><span 
class="cmr-8">2</span></sup>)
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Arai plot: </span>Arai plot normalized by <span 
class="cmmi-10x-x-109">NRM</span><sub><span 
class="cmr-8">0</span></sub>. blue circles are zero field
     steps, red circles are infield steps, triangles are pTRM checks, blue
     squares are tail checks. Temperatures are displayed near data points.
     Temperature bounds and best fit line are marked in green. &#8217;SCAT box&#8217;
     is marked with dashed lines (only if SCAT is True).
                                                                     

                                                                     
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Zijderveld plot: </span>A Zijderveld plot of the NRM step. The x axis is
     rotated to the direction of the NRM, blue is the x-y projection, and
     red is x-z projection.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Equal area plot: </span>An equal area projections of the NRM steps. solid
     circles are positive inclination. open circles are negative inclinations.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">Moment-temperature plot: </span>NRMs are in blue, pTRMs are in red.
     </li>
     <li class="itemize"><span 
class="cmbx-10x-x-109">sample data: </span>If at least two specimens have a saved interpretation,
     then their values are displayed on this plot. The mean <span 
class="cmsy-10x-x-109"> </span>standard
     deviation of the mean are marked as horizontal lines.</li></ul>
<!--l. 4017--><p class="indent" >   The bottom of the main panel include paleointensity statistics. The
first line has the threshold values (empty if N/A). The second line is the
specimen&#8217;s statistics. For details see Appendix A1 in <a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar and Tauxe
(2012)</a>.
<!--l. 4020--><p class="noindent" >
<!--l. 4020--><p class="indent" >   <a name='subsubsec5-2-96-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1570005.2.96" id="x1-1570005.2.96"> Tutorial by example</a></h5>
<!--l. 4021--><p class="noindent" >If you have not already done so, download the example data files for PmagPy
from<br 
class="newline" /><a 
href="http://earthref.org/PmagPy/Datafiles_2.0.zip" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/PmagPy/Datafiles_2.0.zip</span></a><br 
class="newline" />There are two folder located under the folder <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_gu</span>: SU1_example and
Tauxe_2006_example.
<!--l. 4025--><p class="indent" >   Case study 1: SU1_example:
<!--l. 4027--><p class="indent" >   Open a new <a 
href="#command_line" >Terminal window</a> and fire up the program on the command
line:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-134">
%thellier_gui.py
</div>
<!--l. 4030--><p class="nopar" > A <a 
href="#choose_directory" >choose directory</a> dialog window will appear. Select the SU_1 project directory
and click on the &#8220;choose&#8221; button.
     <ul class="itemize1">
     <li class="itemize">Manual interpretation Manual interpretation is the conventional approach
     of selecting temperature bounds for each specimen. Here, as example, we
     will interpret one sample, su100601, manually. <a name='acceptance_criteria'></a>
          <ul class="itemize2">
          <li class="itemize">Set acceptance criteria: From the menu-bar choose Analysis <span 
class="cmsy-10x-x-109">&#x2192;</span>
          Acceptance  criteria  <span 
class="cmsy-10x-x-109">&#x2192; </span>Change  acceptance  criteria.  A  criteria
          dialog box will appear.
          </li>
          <li class="itemize">In the first line (specimen&#8217;s statistics) set the following values:
          n=3,  int_ptrm_n=2,  SCAT=false  (unchecked),  gap_max=0.5,
          f_vds=0.75, beta=0.1, MAD=6, DRATS=20. delete the values in
          the other boxes (empty boxes).
          </li>
          <li class="itemize">In the second line (Sample&#8217;s acceptance criteria) set the following
          values: int_n=3. delete the value in the other boxes.
          </li>
          <li class="itemize">In                                    the                                    third
          line (Sample mean calculation method: STDEV-OPT) check the
          Enable/Disable box, and set the following values: int_sigma=6,
          int_sigma_perc=10. Delete values in the other boxes. Figure 3
          shows how it should look. Click on the OK button. A message
          dialog will appear telling you the criteria that you chose are saved
          in a file name pmag_criteria.txt. The next time you will open the
          GUI in this project directory, these criteria will automatically be
          chosen. Click OK on the message box.
          </li>
          <li class="itemize">Manual  interpretation  of  sample  su100601:  choose  specimens
          su100601a from the specimen list. choose temperature bounds
                                                                     

                                                                     
          from the Tmin/Tmax windows: 200 and 580. B_anc shows 61.7 in
          green, which means that this interpretation passes the specimen&#8217;s
          acceptance criteria. Now, change Tmax to 530. B_anc window
          change color to red, and also the fvds window (the row on the
          bottom of the GUI). This is an indication that the interpretation
          did not meet the criterion for fvds. Change Tmax to 580 (as
          before) and press &#8221;save&#8221; button. The interpretation in saved.
          </li>
          <li class="itemize">Click   on   the   next   button   to   choose   the   next   specimen
          (su100601b).  Before  analyzing  this  specimen,  press  on  the
          &#8221;previous&#8221;   button,   so   you   can   see   that   your   previous
          interpretation  was  saved.  click  on  &#8221;next&#8221;  to  return  again  to
          specimen  su100601b.  Find  temperature  bounds  that  pass  the
          criteria (for example 200,580). Make sure that all colors are green,
          and click on the &#8221;save&#8221; button. Go over all the other specimens
          in the sample (su10060a to su100601g). you will find that three
          specimens can pass: a,c, and g. Look at the Sample data figure
          (top right) it shows the saved interpretation for all the specimens
          in the sample, and the mean <span 
class="cmsy-10x-x-109"> </span>standard deviation of the mean.
          </li>
          <li class="itemize">To save all your interpretation into files, choose from the menubar
          Analysis <span 
class="cmsy-10x-x-109">&#x2192; </span>Save current interpretation. Three files will be generated
          in the project directory:
              <ul class="itemize3">
              <li class="itemize">thellier_GUI.redo (the temperature bounds for each specimen):
                                                                     

                                                                     
              <div class="verbatim" id="verbatim-135">
              su100601a&#x00A0;473&#x00A0;853
              &#x00A0;<br />su100601c&#x00A0;473&#x00A0;853
              &#x00A0;<br />su100601g&#x00A0;473&#x00A0;853
</div>
              <!--l. 4051--><p class="nopar" > Note that the temperature bounds are in Kelvin.
              </li>
              <li class="itemize"><span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_GUI.specimens.txt</span>: (the paleointensity statistics for each
              specimen - according to the headers. It is easy to view the content
              of this file using Excel):
                                                                     

                                                                     
              <div class="verbatim" id="verbatim-136">
              su100601a su100601 61.7 200 580 40.0 1.07 1.01 15
              8 0.77 0.87 0.89 0.14 0.02 N/A 0.63 N/A 5.11 4.14
              PASS
              &#x00A0;<br />su100601c su100601 54.4 200 580 40.0 0.94 N/A 15
              8 0.60 0.78 0.79 0.23 0.01 N/A 5.19 N/A 2.51 1.33
              PASS
              &#x00A0;<br />su100601g su100601 58.4 200 580 40.0 1.00 1.01 15
              8 0.70 0.83 0.85 0.19 0.02 N/A 2.80 N/A 3.12 1.96
              PASS</div>
              <!--l. 4058--><p class="nopar" >
              </li>
              <li class="itemize"><span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_GUI.samples.txt: </span>(the paleointensity statistics of the
              samples):</li></ul>
          <div class="tabular"> <table id="TBL-9" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-9-1g"><col 
id="TBL-9-1"><col 
id="TBL-9-2"><col 
id="TBL-9-3"><col 
id="TBL-9-4"><col 
id="TBL-9-5"><col 
id="TBL-9-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-1-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-1-1"  
class="td11">er_sample_name</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-1-2"  
class="td11">sample_int_n</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-1-3"  
class="td11">sample_int_uT</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-1-4"  
class="td11">sample_int_sigma_uT</td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-1-5"  
class="td11">sample_int_sigma_perc</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-9-2-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-1"  
class="td11">   su100601     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-2"  
class="td11">     3        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-3"  
class="td11">     58.2       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-4"  
class="td11">        3.0            </td><td  style="white-space:nowrap; text-align:center;" id="TBL-9-2-5"  
class="td11">        5.1             </td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-9-3-"><td  style="white-space:nowrap; text-align:center;" id="TBL-9-3-1"  
class="td11"> </td>
</tr></table>
          </div>
          </li>
          <li class="itemize">You can save the Arai plot (or any other plots) from the File
          menu. Choose file <span 
class="cmsy-10x-x-109">&#x2192; </span>Save Plot <span 
class="cmsy-10x-x-109">&#x2192; </span>Save Arai plot. A file dialog
          window will appear. You can change the format of the figure
          in the bottom tab (pdf, svg, or png), but you can also save
          as other format by adding the appropriate suffix to the file
          name.
          </li>
          <li class="itemize">close the GUI: File <span 
class="cmsy-10x-x-109">&#x2192; </span>Quit.
          </li>
          <li class="itemize">Re-open the GUI as before (by writing the command &#8220;thellier_gui.py&#8221;
          in the terminal window) and choose the same working directory
          (SU1_example). Notice now that the criteria that you set before are
          automatically used. To import your previous interpretations and
          continue working on this dataset choose from the menu bar Analysis
          <span 
class="cmsy-10x-x-109">&#x2192; </span>import previous interpretation. Choose thellier_GUI.redo and click
          on the &#8217;open&#8217; button.</li></ul>
     </li>
                                                                     

                                                                     
     <li class="itemize">Automatic interpretation - <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_auto</span><span 
class="cmti-10x-x-109">_interpreter: </span>Instead of trying
     to find manually the most appropriate temperature bounds, the
     <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_auto</span><span 
class="cmbx-10x-x-109">_interpreter.py </span>program allows a fast and consistent way
     to choose the temperature bounds for the specimens. For details see <a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar
     and Tauxe (2012)</a>.
          <ul class="itemize2">
          <li class="itemize">We will use the same <a 
href="#acceptance_criteria"  >acceptance criteria</a>.
          </li>
          <li class="itemize">Choose from the menu bar Auto interpreter <span 
class="cmsy-10x-x-109">&#x2192; </span>Run Thellier auto
          interpreter. The interpreter will run approximately 30 seconds.
          When its done, a message window will appear saying that the
          interpreter finished successfully (if not, check for errors in the
          terminal window, or in a file name <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_interpreter.log </span>located
          in  a  folder  named  <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_interpreter</span>.  If  the  issue  cannot  be
          resolved send an e-mail with the description of the problem to
          rshaar@ucsd.edu). Click OK in the message window.
          </li>
          <li class="itemize">The automatic interpretations are automatically saved, and we
          can  review  them  on  the  Arai  plots.  Let&#8217;s  look,  for  example,
          at  the  sample  we  interpreted  manually:  su100601.  Choose
          specimen  su100601a  from  the  specimens  list.  At  first  glance,
          the choice seems strange because the automatic interpretation
          chose  temperature  bounds  0  and  580.  A  choice  between
          200  and  580  may  seem  more  reasonable  as  it  provides  an
          nearly  straight  line.  The  sample  data  figure  explains  this
          issue. The <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_auto</span><span 
class="cmbx-10x-x-109">_interpreter.py </span>program chooses the
          interpretations  that  minimize  the  standard  deviation  of  the
          sample&#8217;s  mean.  Six  specimens  from  this  sample  passed  the
          criteria,  and  the  value  of  su100601a  is  much  higher  than
          the  remaining  five.  So,  the  thellier_auto_interpreter  chose  the
          &#8217;acceptable&#8217;  interpretation  with  the  shallowest  slope.  Go  over
          the other specimens in the sample, and review the automatic
          interpretations.  If  you  want,  you  can  change  the  automatic
          interpretation, and save your own &#8220;manual&#8221; interpretation by
          choosing  Analysis  <span 
class="cmsy-10x-x-109">&#x2192; </span>Save  current  interpretation.  Note  that
          the output of <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_auto</span><span 
class="cmbx-10x-x-109">_interpreter.py </span>is sensitive to the
          choice of the acceptance criteria, and different criteria may lead
          to significantly different final results.</li></ul>
                                                                     

                                                                     
     </li>
     <li class="itemize">Choosing the optimal criteria - <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_optimizer</span><span 
class="cmti-10x-x-109">_2d: </span><a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar and Tauxe
     (2012)</a> discuss a method to choose the optimal specimen&#8217;s acceptance
     criteria. Here, we follow the example given in this paper. <a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar and Tauxe
     (2012)</a> suggested using seven statistics for specimen&#8217;s acceptance criteria.
     The choice of four of which is trivial, and the remaining three are MAD,
     FRAC and <span 
class="cmmi-10x-x-109">&#x03B2;</span>. The thellier_optimizer_2D helps finding the optimal values
     for FRAC and <span 
class="cmmi-10x-x-109">&#x03B2;</span>. The thellier_optimizer_2D required three types of inputs:
     &#8217;fixed_criteria&#8221;, &#8221;test_groups&#8221;, and &#8221;test_samples&#8221;, as described
     below:
          <ul class="itemize2">
          <li class="itemize">The  test  groups  are  defined  in  an  &#8221;er_sample&#8221;  file.  An
          example   for   this   file   is   given   in   working   folder   SU-1
          named &#8221;optimizer_test_groups.txt&#8221;. Open this file in Excel to
          understand its syntax. The first line is a general header. The rest
          of the file include sample name, group name, and comments.
          </li>
          <li class="itemize">To run the optimizer choose from the menu bar Optimizer <span 
class="cmsy-10x-x-109">&#x2192;</span>
          Run Thellier optimizer. click OK in the message dialog. The first
          step is setting the &#8217;fixed_criteria&#8221;. We choose for the specimen&#8217;s
          criteria:   n=3,   int_ptrm_n=2,SCAT=checked,   gap_max=0.6,
          MAD=5.0.   We   choose   for   the   sample&#8217;s   criteria:int_n=3,
          int_n_outlier_check=6,  EnableSTDEV-OPT,  int_sigme_uT=5,
          int_sigma_perc=6. The rest of the boxes should be empty. click
          OK. click OK on the message window that will appear.
          </li>
          <li class="itemize">The thellier_optimizer_2D dialog window will appear. The first
          two rows of controls for choosing the range for <span 
class="cmmi-10x-x-109">&#x03B2; </span>and FRAC.
          choose beta from 0.05 to 0.15 in steps of 0.1 and FRAC from 0.7
          to 0.9 in step of 0.02. <br 
class="newline" />Inert the following functions to the text panel:<br 
class="newline" />study_sample_n<br 
class="newline" />max_group_int_sigma_uT<br 
class="newline" />((max_group_int_sigma_uT             <span 
class="cmmi-10x-x-109">&#x003C;</span>=             5)             or
          (max_group_int_sigma_perc <span 
class="cmmi-10x-x-109">&#x003C;</span>= 6)) and int(study_sample_n) <br 
class="newline" />click on the &#8221;Check function syntax&#8221; button. If there are no typos,
          then the text box below the button should be PASS.<br 
class="newline" />click on the &#8221;Choose optimizer group file&#8221; button. A file dialog
          window will appear. choose the file &#8221;optimizer_test_groups.txt&#8221;.
                                                                     

                                                                     
          Click the button &#8221;Run Optimizer&#8221; to start. The runtime using
          these parameter is about 8 minutes. &#8216;
          </li>
          <li class="itemize">All the output files of the optimizer are saved in a folder named
          &#8221;optimizer&#8221; (see section 4.4). Compare the figures in the &#8217;pdf&#8217;
          folder with Figure 7 in <a 
href="http://magician.ucsd.edu/~ltauxe/CV/open/shaar12.pdf" >Shaar and Tauxe (2012)</a>.
          </li>
          <li class="itemize">The figure in optimization_function_2.pdf suggest using <span 
class="cmmi-10x-x-109">&#x03B2; </span><span 
class="cmsy-10x-x-109">&#x2264;</span>0.10
          and FRAC <span 
class="cmsy-10x-x-109">&#x2265;</span>0.79. Set these values as acceptance criteria, and
          run thellier_auto_interpreter.</li></ul>
     </li></ul>
<!--l. 4100--><p class="indent" >   <a name='thellier_magic.py'></a>
<!--l. 4101--><p class="indent" >   <a name='subsec5-2-97'></a><h4 class="subsectionHead"><span class="titlemark">5.2.97   </span> <a 
href="#QQ2-1-158" id="x1-1580005.2.97">thellier_magic.py</a></h4>
<!--l. 4102--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#ch10" >[Essentials Chapter 10]</a> and <a 
href="#MagIC" >[MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/thellier_magic-module.html" >[thellier_magic docs]</a>
<!--l. 4105--><p class="indent" >   To see how this works, download the text file from a recent paper by Shaar et
al. (2011) from the MagIC database:
<!--l. 4108--><p class="indent" >   <a 
href="http://earthref.org/MAGIC/m006899dt20120629115216/" class="url" ><span 
class="cmtt-10x-x-109">http://earthref.org/MAGIC/m006899dt20120629115216/</span></a>
<!--l. 4110--><p class="indent" >   Unpack the data with <a 
href="#download_magic.py" >download_magic.py</a>. The original interpretations are
stored in a file called <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt</span>, but <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic.py </span>looks for
a specimen file called <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_specimens.txt</span>. To create such a file, use
the program <a 
href="#mk_redo.py" >mk_redo.py</a> followed by <a 
href="#thellier_magic_redo.py" >thellier_magic_redo.py</a>. Then you
can take a look at the data using <a 
href="#thellier_magic.py" >thellier_magic.py</a> and change some of
the interpretations, for example adding one for the specimen s2s0-01
which was rejected by Shaar et al. (2011). This has both non-linear TRM
acquisition and ATRM anisotropy data, so the corrections will have to be
applied using <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_redo.py </span>after exiting the <a 
href="thellier_magic.py" >thellier_magic.py</a>
program.
<!--l. 4112--><p class="indent" >   Here is a transcript of a session that does all this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-137">
%&#x00A0;download_magic.py&#x00A0;-f&#x00A0;zmab0100159tmp01.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_locations&#8217;
&#x00A0;<br />er_locations&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_locations.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_sites&#8217;
&#x00A0;<br />er_sites&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_sites.txt
&#x00A0;<br />working&#x00A0;on:&#x00A0;&#x00A0;&#8217;er_samples&#8217;
&#x00A0;<br />er_samples&#x00A0;&#x00A0;data&#x00A0;put&#x00A0;in&#x00A0;&#x00A0;./er_samples.txt
&#x00A0;<br />....
&#x00A0;<br />%mk_redo.py
&#x00A0;<br />%&#x00A0;thellier_magic_redo.py
&#x00A0;<br />Processing&#x00A0;&#x00A0;112&#x00A0;&#x00A0;specimens&#x00A0;-&#x00A0;please&#x00A0;wait
&#x00A0;<br />uncorrected&#x00A0;thellier&#x00A0;data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;./thellier_specimens.txt
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;thellier_magic.py
&#x00A0;<br />.....
&#x00A0;<br />16&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;550&#x00A0;&#x00A0;&#x00A0;323.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;-4.9&#x00A0;4.370e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.2
&#x00A0;<br />17&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;560&#x00A0;&#x00A0;&#x00A0;322.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;-2.5&#x00A0;3.240e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.9
&#x00A0;<br />Looking&#x00A0;up&#x00A0;saved&#x00A0;interpretation....
&#x00A0;<br />Saved&#x00A0;interpretation:
&#x00A0;<br />specimen&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Tmin&#x00A0;&#x00A0;Tmax&#x00A0;&#x00A0;N&#x00A0;&#x00A0;lab_field&#x00A0;&#x00A0;B_anc&#x00A0;&#x00A0;b&#x00A0;&#x00A0;q&#x00A0;&#x00A0;f(coe)&#x00A0;&#x00A0;Fvds&#x00A0;&#x00A0;beta&#x00A0;&#x00A0;MAD&#x00A0;&#x00A0;Dang&#x00A0;&#x00A0;Drats&#x00A0;&#x00A0;Nptrm&#x00A0;&#x00A0;Grade&#x00A0;&#x00A0;R&#x00A0;&#x00A0;MD%&#x00A0;&#x00A0;sigma&#x00A0;&#x00A0;Gmax
&#x00A0;<br />
&#x00A0;<br />s1p1-01&#x00A0;&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;560&#x00A0;18&#x00A0;75.0&#x00A0;79.4&#x00A0;-1.059&#x00A0;&#x00A0;54.2&#x00A0;0.919&#x00A0;0.897&#x00A0;0.015&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.7&#x00A0;8&#x00A0;A&#x00A0;&#x00A0;0.998&#x00A0;-1&#x00A0;0.016&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.9
&#x00A0;<br />
&#x00A0;<br />pTRM&#x00A0;direction=&#x00A0;&#x00A0;&#x00A0;&#x00A0;210.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;85.0&#x00A0;&#x00A0;MAD:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.7
&#x00A0;<br />Saved&#x00A0;interpretation:
&#x00A0;<br />specimen&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Tmin&#x00A0;&#x00A0;Tmax&#x00A0;&#x00A0;N&#x00A0;&#x00A0;lab_field&#x00A0;&#x00A0;B_anc&#x00A0;&#x00A0;b&#x00A0;&#x00A0;q&#x00A0;&#x00A0;f(coe)&#x00A0;&#x00A0;Fvds&#x00A0;&#x00A0;beta&#x00A0;&#x00A0;MAD&#x00A0;&#x00A0;Dang&#x00A0;&#x00A0;Drats&#x00A0;&#x00A0;Nptrm&#x00A0;&#x00A0;Grade&#x00A0;&#x00A0;R&#x00A0;&#x00A0;MD%&#x00A0;&#x00A0;sigma&#x00A0;&#x00A0;Gmax
&#x00A0;<br />
&#x00A0;<br />s1p1-01&#x00A0;&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;560&#x00A0;18&#x00A0;75.0&#x00A0;79.4&#x00A0;-1.059&#x00A0;&#x00A0;54.2&#x00A0;0.919&#x00A0;0.897&#x00A0;0.015&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.7&#x00A0;8&#x00A0;A&#x00A0;&#x00A0;0.998&#x00A0;-1&#x00A0;0.016&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.9
&#x00A0;<br />
&#x00A0;<br />pTRM&#x00A0;direction=&#x00A0;&#x00A0;&#x00A0;&#x00A0;210.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;85.0&#x00A0;&#x00A0;MAD:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.7
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;s[a]ve&#x00A0;plot,&#x00A0;set&#x00A0;[b]ounds&#x00A0;for&#x00A0;calculation,&#x00A0;[d]elete&#x00A0;current&#x00A0;interpretation,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[p]revious,&#x00A0;[s]ample,&#x00A0;[q]uit:
&#x00A0;<br />
&#x00A0;<br />Return&#x00A0;for&#x00A0;next&#x00A0;specimen
&#x00A0;<br />s
                                                                     

                                                                     
&#x00A0;<br />Enter&#x00A0;desired&#x00A0;specimen&#x00A0;name&#x00A0;(or&#x00A0;first&#x00A0;part&#x00A0;there&#x00A0;of):&#x00A0;s2s0-01
&#x00A0;<br />s2s0-01&#x00A0;214&#x00A0;of&#x00A0;&#x00A0;269
&#x00A0;<br />index&#x00A0;step&#x00A0;Dec&#x00A0;&#x00A0;&#x00A0;Inc&#x00A0;&#x00A0;Int&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Gamma
&#x00A0;<br />0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;&#x00A0;194.5&#x00A0;&#x00A0;&#x00A0;-25.2&#x00A0;3.380e-07
&#x00A0;<br />1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;100&#x00A0;&#x00A0;&#x00A0;194.1&#x00A0;&#x00A0;&#x00A0;-25.2&#x00A0;3.360e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.0
&#x00A0;<br />2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;200&#x00A0;&#x00A0;&#x00A0;192.1&#x00A0;&#x00A0;&#x00A0;-25.4&#x00A0;3.330e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.5
&#x00A0;<br />3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;250&#x00A0;&#x00A0;&#x00A0;194.8&#x00A0;&#x00A0;&#x00A0;-25.5&#x00A0;3.290e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;76.7
&#x00A0;<br />4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;300&#x00A0;&#x00A0;&#x00A0;193.6&#x00A0;&#x00A0;&#x00A0;-25.3&#x00A0;3.070e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;11.7
&#x00A0;<br />5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;350&#x00A0;&#x00A0;&#x00A0;191.6&#x00A0;&#x00A0;&#x00A0;-26.7&#x00A0;1.460e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;8.1
&#x00A0;<br />6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;375&#x00A0;&#x00A0;&#x00A0;188.4&#x00A0;&#x00A0;&#x00A0;-33.6&#x00A0;3.420e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;5.5
&#x00A0;<br />7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;405&#x00A0;&#x00A0;&#x00A0;&#x00A0;36.9&#x00A0;&#x00A0;&#x00A0;-27.6&#x00A0;6.800e-09&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.1
&#x00A0;<br />8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;430&#x00A0;&#x00A0;&#x00A0;&#x00A0;29.8&#x00A0;&#x00A0;&#x00A0;-12.9&#x00A0;2.930e-09&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.2
&#x00A0;<br />Looking&#x00A0;up&#x00A0;saved&#x00A0;interpretation....
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;None&#x00A0;found&#x00A0;:(
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;s[a]ve&#x00A0;plot,&#x00A0;set&#x00A0;[b]ounds&#x00A0;for&#x00A0;calculation,&#x00A0;[d]elete&#x00A0;current&#x00A0;interpretation,&#x00A0;[p]revious,&#x00A0;[s]ample,&#x00A0;[q]uit:
&#x00A0;<br />
&#x00A0;<br />Return&#x00A0;for&#x00A0;next&#x00A0;specimen
&#x00A0;<br />b
&#x00A0;<br />
&#x00A0;<br />Enter&#x00A0;index&#x00A0;of&#x00A0;first&#x00A0;point&#x00A0;for&#x00A0;calculation:&#x00A0;&#x00A0;[&#x00A0;0&#x00A0;]
&#x00A0;<br />return&#x00A0;to&#x00A0;keep&#x00A0;default&#x00A0;&#x00A0;0
&#x00A0;<br />Enter&#x00A0;index&#x00A0;&#x00A0;of&#x00A0;last&#x00A0;point&#x00A0;for&#x00A0;calculation:&#x00A0;&#x00A0;[&#x00A0;8&#x00A0;]
&#x00A0;<br />return&#x00A0;to&#x00A0;keep&#x00A0;default&#x00A0;&#x00A0;8
&#x00A0;<br />Optimization&#x00A0;terminated&#x00A0;successfully.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Current&#x00A0;function&#x00A0;value:&#x00A0;0.000000
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Iterations:&#x00A0;82
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Function&#x00A0;evaluations:&#x00A0;157
&#x00A0;<br />Optimization&#x00A0;terminated&#x00A0;successfully.
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Current&#x00A0;function&#x00A0;value:&#x00A0;0.000000
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Iterations:&#x00A0;46
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Function&#x00A0;evaluations:&#x00A0;89
&#x00A0;<br />Non-linear&#x00A0;TRM&#x00A0;corrected&#x00A0;intensity=&#x00A0;&#x00A0;79.7699845088
&#x00A0;<br />Save&#x00A0;this&#x00A0;interpretation?&#x00A0;[y]/n
&#x00A0;<br />y
&#x00A0;<br />s2s0-02&#x00A0;215&#x00A0;of&#x00A0;&#x00A0;269
&#x00A0;<br />index&#x00A0;step&#x00A0;Dec&#x00A0;&#x00A0;&#x00A0;Inc&#x00A0;&#x00A0;Int&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;Gamma
&#x00A0;<br />0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0&#x00A0;&#x00A0;&#x00A0;295.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;-9.9&#x00A0;6.560e-07
&#x00A0;<br />1&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;100&#x00A0;&#x00A0;&#x00A0;304.9&#x00A0;&#x00A0;&#x00A0;-10.1&#x00A0;6.480e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;88.7
&#x00A0;<br />2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;200&#x00A0;&#x00A0;&#x00A0;298.8&#x00A0;&#x00A0;&#x00A0;-10.5&#x00A0;6.420e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;84.8
                                                                     

                                                                     
&#x00A0;<br />3&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;250&#x00A0;&#x00A0;&#x00A0;299.8&#x00A0;&#x00A0;&#x00A0;-10.5&#x00A0;6.330e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;87.9
&#x00A0;<br />4&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;300&#x00A0;&#x00A0;&#x00A0;299.2&#x00A0;&#x00A0;&#x00A0;-10.5&#x00A0;5.860e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;27.0
&#x00A0;<br />5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;350&#x00A0;&#x00A0;&#x00A0;295.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;-9.5&#x00A0;2.270e-07&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;4.5
&#x00A0;<br />6&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;375&#x00A0;&#x00A0;&#x00A0;280.1&#x00A0;&#x00A0;&#x00A0;-21.7&#x00A0;4.940e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.0
&#x00A0;<br />7&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;405&#x00A0;&#x00A0;&#x00A0;169.3&#x00A0;&#x00A0;&#x00A0;-16.3&#x00A0;1.450e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.1
&#x00A0;<br />8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;430&#x00A0;&#x00A0;&#x00A0;151.9&#x00A0;&#x00A0;&#x00A0;-15.5&#x00A0;1.070e-08&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.6
&#x00A0;<br />Looking&#x00A0;up&#x00A0;saved&#x00A0;interpretation....
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;None&#x00A0;found&#x00A0;:(
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;s[a]ve&#x00A0;plot,&#x00A0;set&#x00A0;[b]ounds&#x00A0;for&#x00A0;calculation,&#x00A0;[d]elete&#x00A0;current&#x00A0;interpretation,&#x00A0;[p]revious,&#x00A0;[s]ample,&#x00A0;[q]uit:
&#x00A0;<br />
&#x00A0;<br />Return&#x00A0;for&#x00A0;next&#x00A0;specimen
&#x00A0;<br />q
</div>
<!--l. 4204--><p class="nopar" >
<!--l. 4206--><p class="indent" >   You should have gotten plots that look like these:
<!--l. 4208--><p class="indent" >   <img 
src="PmagPy77x.png" alt="PIC" class="graphics" width="426.79134pt" height="297.00375pt" ><!--tex4ht:graphics  
name="PmagPy77x.png" src="EPSfiles/thellier_magic.eps"  
-->
<!--l. 4212--><p class="indent" >   When you exit the program, you will have modified the <span 
class="cmti-10x-x-109">thellier</span><span 
class="cmti-10x-x-109">_specimens.txt</span>
                                                                     

                                                                     
file to include the new interpretation.
<!--l. 4215--><p class="indent" >   <a name='thellier_magic_redo.py'></a>
<!--l. 4216--><p class="indent" >   <a name='subsec5-2-98'></a><h4 class="subsectionHead"><span class="titlemark">5.2.98   </span> <a 
href="#QQ2-1-159" id="x1-1590005.2.98">thellier_magic_redo.py</a></h4>
<!--l. 4217--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#ch10" >[Essentials Chapter 10]</a> and <a 
href="#MagIC" >[MagIC</a>] <a 
href="http://earthref.org/PmagPy/pmagpydocs/thellier_magic_redo-module.html" >[thellier_magic_redo docs]</a>
<!--l. 4220--><p class="indent" >   This program allows the recalculation of paleointensity experimental data
derived from Thellier type experiments. It allows correction for remanence
anisotropy from AARM or ATRM ellipsoids (stored in <span 
class="cmti-10x-x-109">rmag</span><span 
class="cmti-10x-x-109">_anisotropy </span>format
files (see <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch13.html#ch13" >[Essentials Chapter 13]</a> and the <a 
href="#aarm_magic.py" >aarm_magic.py</a> and <a 
href="#atrm_magic.py" >atrm_magic.py</a>) and
<a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch10.html#non-linear_TRM" >non-linear TRM</a> corrections, if TRM aquisition data are available (see also
<a 
href="#trmaq_magic.py" >trmaq_magic.py</a>).
<!--l. 4223--><p class="indent" >   Apply the corrections to the data you re-interpreted in the <a 
href="#thellier_magic.py" >thellier_magic.py</a>
example, and create a new <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt </span>formatted file, use the program
<span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_redo.py</span>. First, create a &#8220;redo&#8221; file using <a 
href="#mk_redo.py" >,</a> then re-do the
calculations using <span 
class="cmbx-10x-x-109">thellier</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_redo.py</span>, including anisotropy and
non-linear TRM corrections. Combine all the specimen files into one using
<a 
href="#combine_magic.py" >combine_magic.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-138">
%&#x00A0;mk_redo.py&#x00A0;-f&#x00A0;thellier_specimens.txt
&#x00A0;<br />%%&#x00A0;thellier_magic_redo.py&#x00A0;-ANI&#x00A0;-NLT
&#x00A0;<br />Processing&#x00A0;&#x00A0;112&#x00A0;&#x00A0;specimens&#x00A0;-&#x00A0;please&#x00A0;wait
&#x00A0;<br />WARNING:&#x00A0;NO&#x00A0;FTEST&#x00A0;ON&#x00A0;ANISOTROPY&#x00A0;PERFORMED&#x00A0;BECAUSE&#x00A0;OF&#x00A0;MISSING&#x00A0;SIGMA&#x00A0;-&#x00A0;DOING&#x00A0;CORRECTION&#x00A0;ANYWAY
&#x00A0;<br />....
&#x00A0;<br />anisotropy&#x00A0;corrected&#x00A0;data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;./AC_specimens.txt
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;pmag_specimens.txt&#x00A0;-f&#x00A0;thellier_specimens.txt&#x00A0;AC_specimens.txt&#x00A0;NLT_specimens.txt
&#x00A0;<br />File&#x00A0;&#x00A0;./thellier_specimens.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;112&#x00A0;&#x00A0;records
&#x00A0;<br />File&#x00A0;&#x00A0;./AC_specimens.txt&#x00A0;&#x00A0;read&#x00A0;in&#x00A0;with&#x00A0;&#x00A0;112&#x00A0;&#x00A0;records
&#x00A0;<br />non-linear&#x00A0;TRM&#x00A0;corrected&#x00A0;data&#x00A0;saved&#x00A0;in:&#x00A0;&#x00A0;./NLT_specimens.txt
&#x00A0;<br />All&#x00A0;records&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./pmag_specimens.txt
</div>
<!--l. 4237--><p class="nopar" >
<!--l. 4239--><p class="indent" >   <a name='tk03.py'></a>
<!--l. 4240--><p class="indent" >   <a name='subsec5-2-99'></a><h4 class="subsectionHead"><span class="titlemark">5.2.99   </span> <a 
href="#QQ2-1-160" id="x1-1600005.2.99">tk03.py</a></h4>
<!--l. 4241--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/Webbook2ch16.html/#ch16" >[Essentials Chapter 16]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/tk03-module.html" >[tk03 docs]</a>
<!--l. 4244--><p class="indent" >   Sometimes it is useful to generate a distribution of synthetic geomagnetic
field vectors that you might expect to find from paleosecular variation of
the geomagnetic field. The program <span 
class="cmbx-10x-x-109">tk03.py </span>generates distributions of
field vectors from the PSV model of Tauxe and Kent (2004). Use this
program to generate a set of vectors for a latitude of 30<sup><span 
class="cmsy-8">&#x2218;</span></sup> and plot them with
<a 
href="#eqarea.py" >eqarea.py</a>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-139">
%&#x00A0;tk03.py&#x00A0;-lat&#x00A0;30&#x00A0;&#x003E;tk03.out
&#x00A0;<br />%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;tk03.out
</div>
<!--l. 4249--><p class="nopar" >
<!--l. 4251--><p class="indent" >   which should give you a plot something like this:
<!--l. 4253--><p class="indent" >   <img 
src="PmagPy78x.png" alt="PIC" class="graphics" width="341.43306pt" height="341.45052pt" ><!--tex4ht:graphics  
name="PmagPy78x.png" src="EPSfiles/tk03.eps"  
-->
<!--l. 4256--><p class="indent" >   <a name='uniform.py'></a>
<!--l. 4257--><p class="indent" >   <a name='subsec5-2-100'></a><h4 class="subsectionHead"><span class="titlemark">5.2.100   </span> <a 
href="#QQ2-1-161" id="x1-1610005.2.100">uniform.py</a></h4>
<!--l. 4258--><p class="noindent" ><a 
href="http://earthref.org/PmagPy/pmagpydocs/uniform-module.html" >[uniform docs]</a>
                                                                     

                                                                     
<!--l. 4260--><p class="indent" >   It is at times handy to be able to generate a uniformly distributed set of
directions (or geographic locations). This is done using a technique described by
Fisher et al. (1987).
<!--l. 4262--><p class="indent" >   Draw 50 directions from a uniform distribution and save to a file called
<span 
class="cmti-10x-x-109">uniform.out</span>. Then plot the directions with <a 
href="#eqarea.py" >eqarea.py</a>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-140">
%&#x00A0;&#x00A0;uniform.py&#x00A0;-F&#x00A0;uniform.out&#x00A0;-n&#x00A0;50
&#x00A0;<br />%&#x00A0;eqarea.py&#x00A0;-f&#x00A0;uniform.out
</div>
<!--l. 4267--><p class="nopar" >
<!--l. 4269--><p class="indent" >   which should yield a plot something (but not exactly) like this:
<!--l. 4271--><p class="indent" >   <img 
src="PmagPy79x.png" alt="PIC" class="graphics" width="341.43306pt" height="362.59619pt" ><!--tex4ht:graphics  
name="PmagPy79x.png" src="EPSfiles/uniform.eps"  
-->
<!--l. 4274--><p class="indent" >   <a name='update_measurements.py'></a>
                                                                     

                                                                     
<!--l. 4275--><p class="indent" >   <a name='subsec5-2-101'></a><h4 class="subsectionHead"><span class="titlemark">5.2.101   </span> <a 
href="#QQ2-1-162" id="x1-1620005.2.101">update_measurements.py</a></h4>
<!--l. 4276--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/update_measurements-module.html" >[update_measurements docs]</a>
<!--l. 4279--><p class="indent" >   In the SIO laboratory, our default specimen naming scheme has a logical
relationship to the sample and site names. Sometimes there is no simple
relationship and the MagIC import procedure can&#8217;t parse the sample name into a
site name, or the original concept of a site gets changed, for example if several
lava flows turn out to be the same one. In any case, there must be a way to
change the way data get averaged after the measurement data get converted to a
magic_measurments formatted file. To do this, the sample, site relationship can
be established in the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sample.txt </span>file for example via the procedure described in
<a 
href="#orientation_magic.py" >orientation_magic.py</a> docuementation. After the correct relationships are in the
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file, these must be propagated throughout the rest of the
MagIC tables, starting with the <span 
class="cmti-10x-x-109">magic</span><span 
class="cmti-10x-x-109">_measurements.txt </span>file. The program
<span 
class="cmbx-10x-x-109">update</span><span 
class="cmbx-10x-x-109">_measurements.py </span>will do this at the measurements level.
<a 
href="#specimens_results_magic.py" >specimens_results_magic.py</a> will then propagate the changes through to the
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_results.txt </span>file.
<!--l. 4283--><p class="indent" >   <a name='upload_magic.py'></a>
<!--l. 4284--><p class="indent" >   <a name='subsec5-2-102'></a><h4 class="subsectionHead"><span class="titlemark">5.2.102   </span> <a 
href="#QQ2-1-163" id="x1-1630005.2.102">upload_magic.py</a></h4>
<!--l. 4285--><p class="noindent" ><a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/upload_magic-module.html" >[upload_magic docs]</a>
<!--l. 4288--><p class="indent" >   This program takes all the MagIC formatted files and puts them
into a file which can be imported into the MagIC console software for
uploading into the <a 
href="http://earthref.org/MagIC" >MagIC database</a>. As an example, we can &#8220;repackage&#8221; the
file used file downloaded in the <a 
href="#download_magic.py" >download_magic.py</a> example. You could
re-interpret that data or fix records with errors, then re-upload the corrected
file.
<!--l. 4291--><p class="indent" >   In the <span 
class="cmti-10x-x-109">upload</span><span 
class="cmti-10x-x-109">_magic </span>directory in the example datafiles directory, someone has
entered all the site latitudes as longitudes and vice versa (surprisingly
common!). You can fix this in the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file, by swapping the headers
sample_lat/sample_lon in the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>file and site_lat/site_lon in the
<span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>file then run <a 
href="#specimens_results_magic.py" >specimens_results_magic.py</a> to propogate the changes
through to the results table. Be sure to set the criteria switch (-exc), the latitude
switch (-lat), the geographic coordinate switch (-crd g) and the age switch (-age 0
5 Ma). Then re-package the files for uploading.
<!--l. 4293--><p class="indent" >   AFTER fixing the <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt </span>and <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_sites.txt </span>files, do the following:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-141">
%&#x00A0;specimens_results_magic.py&#x00A0;-exc&#x00A0;-lat&#x00A0;-age&#x00A0;0&#x00A0;5&#x00A0;Ma&#x00A0;-crd&#x00A0;g
&#x00A0;<br />Acceptance&#x00A0;criteria&#x00A0;read&#x00A0;in&#x00A0;from&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;Pmag&#x00A0;Criteria&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;pmag_criteria.txt
&#x00A0;<br />
&#x00A0;<br />&#x00A0;sites&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;pmag_sites.txt
&#x00A0;<br />&#x00A0;results&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;pmag_results.txt
&#x00A0;<br />
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;upload_magic.py
&#x00A0;<br />Removing:&#x00A0;&#x00A0;[&#8217;citation_label&#8217;,&#x00A0;&#8217;compilation&#8217;,&#x00A0;&#8217;calculation_type&#8217;,&#x00A0;&#8217;average_n_lines&#8217;,
&#x00A0;<br />&#x00A0;&#8217;average_n_planes&#8217;,&#x00A0;&#8217;specimen_grade&#8217;,&#x00A0;&#8217;site_vgp_lat&#8217;,&#x00A0;&#8217;site_vgp_lon&#8217;,&#x00A0;&#8217;direction_type&#8217;,
&#x00A0;<br />&#x00A0;&#8217;specimen_Z&#8217;,&#x00A0;&#8217;magic_instrument_codes&#8217;,&#x00A0;&#8217;cooling_rate_corr&#8217;,&#x00A0;&#8217;cooling_rate_mcd&#8217;]
&#x00A0;<br />./er_expeditions.txt&#x00A0;is&#x00A0;bad&#x00A0;or&#x00A0;non-existent&#x00A0;-&#x00A0;skipping
&#x00A0;<br />file&#x00A0;&#x00A0;./er_locations.txt&#x00A0;&#x00A0;successfully&#x00A0;read&#x00A0;in
&#x00A0;<br />er_locations&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;./upload.txt
&#x00A0;<br />file&#x00A0;&#x00A0;./er_samples.txt&#x00A0;&#x00A0;successfully&#x00A0;read&#x00A0;in
&#x00A0;<br />only&#x00A0;first&#x00A0;orientation&#x00A0;record&#x00A0;from&#x00A0;er_samples.txt&#x00A0;read&#x00A0;in
&#x00A0;<br />er_samples&#x00A0;written&#x00A0;to&#x00A0;&#x00A0;./upload.txt
&#x00A0;<br />file&#x00A0;&#x00A0;./er_specimens.txt&#x00A0;&#x00A0;successfully&#x00A0;read&#x00A0;in
&#x00A0;<br />only&#x00A0;measurements&#x00A0;that&#x00A0;are&#x00A0;used&#x00A0;for&#x00A0;interpretations
&#x00A0;<br />.....
&#x00A0;<br />now&#x00A0;converting&#x00A0;to&#x00A0;dos&#x00A0;file&#x00A0;&#8217;upload_dos.txt&#8217;
&#x00A0;<br />Finished&#x00A0;preparing&#x00A0;upload&#x00A0;file
</div>
<!--l. 4322--><p class="nopar" >
<!--l. 4331--><p class="indent" >   <a name='vdm_b.py'></a>
<!--l. 4332--><p class="indent" >   <a name='subsec5-2-103'></a><h4 class="subsectionHead"><span class="titlemark">5.2.103   </span> <a 
href="#QQ2-1-164" id="x1-1640005.2.103">vdm_b.py</a></h4>
<!--l. 4333--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/vdm_b-module.html" >[vdm_b docs]</a>
<!--l. 4337--><p class="indent" >   Use this program to try to recover the original field intensity <span 
class="cmmi-10x-x-109">b </span>from a Virtual
Dipole Moment of 71.59 ZAm<sup><span 
class="cmr-8">2</span></sup> for the latitude 22<sup><span 
class="cmsy-8">&#x2218;</span></sup>.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-142">
%&#x00A0;cat&#x003E;vdm_b_example.dat
&#x00A0;<br />71.59e21&#x00A0;22
&#x00A0;<br />^D
&#x00A0;<br />%&#x00A0;vdm_b.py&#x00A0;-f&#x00A0;vdm_b_example.dat
&#x00A0;<br />&#x00A0;3.300e-05
</div>
<!--l. 4345--><p class="nopar" >
<!--l. 4347--><p class="indent" >   Compare this answer with the original in <a 
href="#b_vdm.py" >b_vdm.py</a>, noting that the original
input was in millitesla, while this is in tesla.
<!--l. 4351--><p class="indent" >   <a name='vector_mean.py'></a>
<!--l. 4352--><p class="indent" >   <a name='subsec5-2-104'></a><h4 class="subsectionHead"><span class="titlemark">5.2.104   </span> <a 
href="#QQ2-1-165" id="x1-1650005.2.104">vector_mean.py</a></h4>
<!--l. 4353--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/vector_mean-module.html" >[vector_mean docs]</a>
<!--l. 4356--><p class="indent" >   Create a set of vector data with <a 
href="#tk03.py" >tk03.py</a> for a latitude of 30<sup><span 
class="cmsy-8">&#x2218;</span></sup>N. Calculate the
vector mean of these data.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-143">
%&#x00A0;tk03.py&#x00A0;-lat&#x00A0;30&#x00A0;&#x003E;vector_mean_example.dat
&#x00A0;<br />%&#x00A0;vector_mean.py&#x00A0;-f&#x00A0;vector_mean_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;49.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;2.289e+06&#x00A0;100
</div>
<!--l. 4362--><p class="nopar" >
<!--l. 4364--><p class="indent" >   <a name='vgp_di.py'></a>
<!--l. 4365--><p class="indent" >   <a name='subsec5-2-105'></a><h4 class="subsectionHead"><span class="titlemark">5.2.105   </span> <a 
href="#QQ2-1-166" id="x1-1660005.2.105">vgp_di.py</a></h4>
<!--l. 4366--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/vgp_di-module.html" >[vgp_di docs]</a>
<!--l. 4369--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">vgp</span><span 
class="cmbx-10x-x-109">_di.py </span>to convert the following:
   <div class="tabular"> <table id="TBL-10" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-10-1g"><col 
id="TBL-10-1"><col 
id="TBL-10-2"><col 
id="TBL-10-3"><col 
id="TBL-10-4"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-1"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03BB;</span><sub><span 
class="cmmi-8">p</span></sub></td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-2"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03D5;</span><sub><span 
class="cmmi-8">p</span></sub>   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03BB;</span><sub><span 
class="cmmi-8">s</span></sub> </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-1-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x03D5;</span><sub><span 
class="cmmi-8">s</span></sub>  </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-1"  
class="td11">68 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-2"  
class="td11">191 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-3"  
class="td11">33 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-10-2-4"  
class="td11">243</td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-10-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-10-3-1"  
class="td11"> </td> </tr></table>
</div>
<!--l. 4381--><p class="indent" >   Put the data into a file <span 
class="cmti-10x-x-109">vgp</span><span 
class="cmti-10x-x-109">_di</span><span 
class="cmti-10x-x-109">_example.dat </span>for example using <span 
class="cmbx-10x-x-109">cat </span>on a *NIX
operating system. Here is a transcript of one way to use the program which spits
out declination, inclination:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-144">
%&#x00A0;vgp_di.py&#x00A0;-f&#x00A0;vgp_di_example.dat
&#x00A0;<br />&#x00A0;&#x00A0;335.6&#x00A0;&#x00A0;&#x00A0;&#x00A0;62.9
</div>
<!--l. 4387--><p class="nopar" >
<!--l. 4389--><p class="indent" >   Just for good measure, you could try it out on the data in the <a 
href="#di_vgp.py" >di_vgp.py</a>
example. See if you get the right answer!
<!--l. 4391--><p class="indent" >   <a name='vgpmap_magic.py'></a>
<!--l. 4392--><p class="indent" >   <a name='subsec5-2-106'></a><h4 class="subsectionHead"><span class="titlemark">5.2.106   </span> <a 
href="#QQ2-1-167" id="x1-1670005.2.106">vgpmap_magic.py</a></h4>
<!--l. 4393--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch2.html#ch2" >[Essentials Chapter 2]</a>, <a 
href="#MagIC" >[MagIC]</a> and <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution instructions</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/vgpmap_magic-module.html" >[vgpmap_magic
docs]</a>
<!--l. 4396--><p class="indent" >   Make a plot of the VGPs calculated for the dataset downloaded in
the <a 
href="#download_magic.py" >download_magic.py</a> example. Use the <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution</a> topography
(ETOPO 20) dataset and plot the data on an orthographic projection with
the viewpoint at 60<sup><span 
class="cmsy-8">&#x2218;</span></sup>N and the Greenwich Meridian (longitude = 0).
Make the points black dots with a size of 10pts. Save the file in png
format
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-145">
&#x00A0;vgpmap_magic.py&#x00A0;-crd&#x00A0;g&#x00A0;-prj&#x00A0;ortho&#x00A0;-eye&#x00A0;60&#x00A0;0&#x00A0;-etp&#x00A0;-sym&#x00A0;ko&#x00A0;10&#x00A0;-fmt&#x00A0;png
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;Return&#x00A0;to&#x00A0;quit:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;VGP_map.png
</div>
<!--l. 4403--><p class="nopar" >
<!--l. 4407--><p class="indent" >   You should have a plot like this one:
<!--l. 4409--><p class="indent" >   <img 
src="PmagPy80x.png" alt="PIC" class="graphics" width="426.79134pt" height="409.90779pt" ><!--tex4ht:graphics  
name="PmagPy80x.png" src="EPSfiles/VGP_map.eps"  
-->
<!--l. 4411--><p class="indent" >   To use this program, you need to have basemap, which is not part of the free
EPD software distribution. Also, if you don&#8217;t have the <a 
href="http://earthref.org/PmagPy/hires.html" >high resolution</a>, just leave
the -etp switch off to get a plain plot.
<!--l. 4414--><p class="indent" >   <a name='watsonsF.py'></a>
<!--l. 4415--><p class="indent" >   <a name='subsec5-2-107'></a><h4 class="subsectionHead"><span class="titlemark">5.2.107   </span> <a 
href="#QQ2-1-168" id="x1-1680005.2.107">watsonsF.py</a></h4>
<!--l. 4416--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/watsonsF-module.html" >[watsonsF docs]</a>
<!--l. 4419--><p class="indent" >   First generate two data files with <span 
class="cmbx-10x-x-109">fishrot.py </span>with <span 
class="cmmi-10x-x-109">&#x03BA; </span>= 15, <span 
class="cmmi-10x-x-109">N </span>= 10 and <span 
class="cmmi-10x-x-109">I </span>=
42, with <span 
class="cmmi-10x-x-109">D </span>= 10. for the first and 20 for the second:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-146">
%&#x00A0;fishrot.py&#x00A0;-k&#x00A0;15&#x00A0;-n&#x00A0;10&#x00A0;-I&#x00A0;42&#x00A0;-D&#x00A0;10&#x00A0;&#x003E;watsonsF_example_file1.dat
&#x00A0;<br />%&#x00A0;fishrot.py&#x00A0;-k&#x00A0;15&#x00A0;-n&#x00A0;10&#x00A0;-I&#x00A0;42&#x00A0;-D&#x00A0;20&#x00A0;&#x003E;&#x00A0;watsonsF_example_file2.dat
</div>
<!--l. 4424--><p class="nopar" >
<!--l. 4426--><p class="indent" >   To compare these two files using <span 
class="cmbx-10x-x-109">watsonsF.py</span>:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-147">
%&#x00A0;watsonsF.py&#x00A0;-f&#x00A0;watsonsF_example_file1.dat&#x00A0;-f2&#x00A0;watsonsF_example_file2.dat
&#x00A0;<br />7.74186876032&#x00A0;3.2594&#x00A0;3.2594
</div>
<!--l. 4431--><p class="nopar" >
<!--l. 4433--><p class="indent" >   The first number is Watson&#8217;s <span 
class="cmmi-10x-x-109">F </span>statistic for these two files (see <a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >Essentials
Chapter 11</a>) and the second is the number to beat for the two files to be drawn
from the same fisher distribution (share a common mean). In this case the data
fail this test (<span 
class="cmmi-10x-x-109">F </span>is greater than the required number). Your results may
vary!
<!--l. 4435--><p class="indent" >   <a name='watsonsV.py'></a>
<!--l. 4436--><p class="indent" >   <a name='subsec5-2-108'></a><h4 class="subsectionHead"><span class="titlemark">5.2.108   </span> <a 
href="#QQ2-1-169" id="x1-1690005.2.108">watsonsV.py</a></h4>
<!--l. 4437--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch11.html#ch11" >[Essentials Chapter 11]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/watsonsV-module.html" >[watsonsV docs]</a>
<!--l. 4441--><p class="indent" >   Use the two data files generated in the example for <span 
class="cmbx-10x-x-109">watsonsF.py </span>and repeat
the test using Watson&#8217;s <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmmi-8">w</span></sub> statistic.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-148">
%&#x00A0;watsonsV.py&#x00A0;-f&#x00A0;watsonsF_example_file1.dat&#x00A0;-f2&#x00A0;watsonsF_example_file2.dat
&#x00A0;<br />Doing&#x00A0;&#x00A0;5000&#x00A0;&#x00A0;simulations
&#x00A0;<br />50
&#x00A0;<br />100
&#x00A0;<br />150
&#x00A0;<br />200
&#x00A0;<br />...
&#x00A0;<br />Watson&#8217;s&#x00A0;V,&#x00A0;&#x00A0;Vcrit:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;10.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.8
&#x00A0;<br />&#x00A0;S[a]ve&#x00A0;to&#x00A0;save&#x00A0;plot,&#x00A0;[q]uit&#x00A0;without&#x00A0;saving:&#x00A0;&#x00A0;a
&#x00A0;<br />1&#x00A0;&#x00A0;saved&#x00A0;in&#x00A0;&#x00A0;WatsonsV_watsonsF_example_file1.dat_watsonsF_example_file2.dat.svg
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 4455--><p class="nopar" >
<!--l. 4457--><p class="noindent" >which generates the plot:
                                                                     

                                                                     
<!--l. 4460--><p class="indent" >   <img 
src="PmagPy81x.png" alt="PIC" class="graphics" width="341.43306pt" height="338.38423pt" ><!--tex4ht:graphics  
name="PmagPy81x.png" src="EPSfiles/watsonsV_example.eps"  
-->
<!--l. 4462--><p class="indent" >   The two files are significantly different because Watson&#8217;s V (10.5 in this
example) is greater than the <span 
class="cmmi-10x-x-109">V</span> <sub><span 
class="cmmi-8">crit</span></sub> value estimated using Monte Carlo simulation
(6.8).
<!--l. 4464--><p class="indent" >   Note that your results may vary in detail because every instance of
<span 
class="cmbx-10x-x-109">fishrot.py </span>generates a different randomly drawn dataset.
<!--l. 4467--><p class="indent" >   <a name='zeq.py'></a>
<!--l. 4468--><p class="indent" >   <a name='subsec5-2-109'></a><h4 class="subsectionHead"><span class="titlemark">5.2.109   </span> <a 
href="#QQ2-1-170" id="x1-1700005.2.109">zeq.py</a></h4>
<!--l. 4469--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/zeq-module.html" >[zeq docs]</a>
<!--l. 4472--><p class="indent" >   Use the program <span 
class="cmbx-10x-x-109">zeq.py </span>to 1) plot a Zijderveld diagram of the data in
<br 
class="newline" /><span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_example.txt</span>. b) Calculate a best-fit line from 15 to 90 mT. c) Rotate the data
                                                                     

                                                                     
such that the best-fit line is projected onto the horizontal axis (instead of the
default, North). d) Calcualte a best-fit plane from 5 to 80 mT. Save these
plots.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-149">
%&#x00A0;zeq.py&#x00A0;-f&#x00A0;zeq_example.dat&#x00A0;-u&#x00A0;mT
</div>
<!--l. 4477--><p class="nopar" >
<!--l. 4479--><p class="indent" >   By selecting &#8216;b&#8217;, you can pick the bounds and choose &#8217;l&#8217; for best-fit line or &#8216;p&#8217;
for best-fit plane. You can rotate the X-Y axes by selecting &#8216;h&#8217; and setting the X
axis to 312. Finally, you can save your plots with the &#8217;a&#8217; option. You should have
saved something like these plots:
<!--l. 4483--><p class="indent" >   <img 
src="PmagPy82x.png" alt="PIC" class="graphics" width="426.79134pt" height="160.74126pt" ><!--tex4ht:graphics  
name="PmagPy82x.png" src="EPSfiles/zeq.eps"  
-->
<!--l. 4485--><p class="indent" >   The equal area projection has the X direction (usually North in geographic
coordinates) to the top. The red line is the X axis of the Zijderveld diagram.
Solid symbols are lower hemisphere. The solid (open) symbols in the Zijderveld
diagram are X,Y (X,Z) pairs. The demagnetization diagram plots the fractional
remanence remaining after each step. The green line is the fraction of the total
remanence removed between each step.
<!--l. 4494--><p class="indent" >   <a name='zeq_magic.py'></a>
<!--l. 4495--><p class="indent" >   <a name='subsec5-2-110'></a><h4 class="subsectionHead"><span class="titlemark">5.2.110   </span> <a 
href="#QQ2-1-171" id="x1-1710005.2.110">zeq_magic.py</a></h4>
<!--l. 4496--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> &amp; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/zeq_magic-module.html" >[zeq_magic docs]</a>
<!--l. 4500--><p class="indent" >   Plot the AF demagnetization data available in the file you got in the
<span 
class="cmbx-10x-x-109">download</span><span 
class="cmbx-10x-x-109">_magic.py </span>example using <span 
class="cmbx-10x-x-109">zeq</span><span 
class="cmbx-10x-x-109">_magic.py</span>. Use geographic
coordinates, where orientations are available.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-150">
%&#x00A0;zeq_magic.py&#x00A0;-crd&#x00A0;g
&#x00A0;<br />sr01a1&#x00A0;0&#x00A0;out&#x00A0;of&#x00A0;&#x00A0;177
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;looking&#x00A0;up&#x00A0;previous&#x00A0;interpretations...
&#x00A0;<br />Specimen&#x00A0;&#x00A0;N&#x00A0;&#x00A0;&#x00A0;&#x00A0;MAD&#x00A0;&#x00A0;&#x00A0;&#x00A0;DANG&#x00A0;&#x00A0;start&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;end&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;dec&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inc&#x00A0;&#x00A0;type&#x00A0;&#x00A0;component
&#x00A0;<br />sr01a1&#x00A0;9&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;1.2&#x00A0;&#x00A0;&#x00A0;200.0&#x00A0;&#x00A0;&#x00A0;550.0&#x00A0;&#x00A0;&#x00A0;331.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.4&#x00A0;&#x00A0;DE-BFL&#x00A0;&#x00A0;A
&#x00A0;<br />
&#x00A0;<br />g:&#x00A0;0&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;0.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;4.065e-05&#x00A0;&#x00A0;&#x00A0;324.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;66.0
&#x00A0;<br />g:&#x00A0;1&#x00A0;&#x00A0;&#x00A0;&#x00A0;100.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.943e-05&#x00A0;&#x00A0;&#x00A0;330.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.6
&#x00A0;<br />g:&#x00A0;2&#x00A0;&#x00A0;&#x00A0;&#x00A0;150.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.908e-05&#x00A0;&#x00A0;&#x00A0;324.9&#x00A0;&#x00A0;&#x00A0;&#x00A0;65.5
&#x00A0;<br />g:&#x00A0;3&#x00A0;&#x00A0;&#x00A0;&#x00A0;200.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.867e-05&#x00A0;&#x00A0;&#x00A0;329.4&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.6
&#x00A0;<br />g:&#x00A0;4&#x00A0;&#x00A0;&#x00A0;&#x00A0;250.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.797e-05&#x00A0;&#x00A0;&#x00A0;330.3&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.5
&#x00A0;<br />g:&#x00A0;5&#x00A0;&#x00A0;&#x00A0;&#x00A0;300.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.627e-05&#x00A0;&#x00A0;&#x00A0;330.1&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.0
&#x00A0;<br />g:&#x00A0;6&#x00A0;&#x00A0;&#x00A0;&#x00A0;350.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;3.398e-05&#x00A0;&#x00A0;&#x00A0;327.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.4
&#x00A0;<br />g:&#x00A0;7&#x00A0;&#x00A0;&#x00A0;&#x00A0;400.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;2.876e-05&#x00A0;&#x00A0;&#x00A0;328.2&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.0
&#x00A0;<br />g:&#x00A0;8&#x00A0;&#x00A0;&#x00A0;&#x00A0;450.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;2.148e-05&#x00A0;&#x00A0;&#x00A0;323.8&#x00A0;&#x00A0;&#x00A0;&#x00A0;65.2
&#x00A0;<br />g:&#x00A0;9&#x00A0;&#x00A0;&#x00A0;&#x00A0;500.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;1.704e-05&#x00A0;&#x00A0;&#x00A0;326.0&#x00A0;&#x00A0;&#x00A0;&#x00A0;63.9
&#x00A0;<br />g:&#x00A0;10&#x00A0;&#x00A0;&#x00A0;&#x00A0;525.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;1.200e-05&#x00A0;&#x00A0;&#x00A0;326.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;63.7
&#x00A0;<br />g:&#x00A0;11&#x00A0;&#x00A0;&#x00A0;&#x00A0;550.0&#x00A0;&#x00A0;C&#x00A0;&#x00A0;5.619e-06&#x00A0;&#x00A0;&#x00A0;325.5&#x00A0;&#x00A0;&#x00A0;&#x00A0;64.4
&#x00A0;<br />
&#x00A0;<br />&#x00A0;g/b:&#x00A0;indicates&#x00A0;&#x00A0;good/bad&#x00A0;measurement.&#x00A0;&#x00A0;"bad"&#x00A0;measurements&#x00A0;excluded&#x00A0;from&#x00A0;calculation
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;set&#x00A0;s[a]ve&#x00A0;plot,&#x00A0;[b]ounds&#x00A0;for&#x00A0;pca&#x00A0;and&#x00A0;calculate,&#x00A0;[p]revious,&#x00A0;[s]pecimen,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;change&#x00A0;[h]orizontal&#x00A0;projection&#x00A0;angle,&#x00A0;&#x00A0;&#x00A0;change&#x00A0;[c]oordinate&#x00A0;systems,
&#x00A0;<br />&#x00A0;[d]elete&#x00A0;current&#x00A0;interpretation(s),&#x00A0;[e]dit&#x00A0;data,&#x00A0;&#x00A0;&#x00A0;[q]uit:
&#x00A0;<br />
&#x00A0;<br />&#x003C;Return&#x003E;&#x00A0;&#x00A0;for&#x00A0;&#x00A0;next&#x00A0;specimen
&#x00A0;<br />
&#x00A0;<br />
</div>
<!--l. 4531--><p class="nopar" >
<!--l. 4533--><p class="indent" >   The plots will look similar to the <a 
href="#zeq.py" >zeq.py</a> example, but the default
here is for the X-axis to be rotated to the specimen&#8217;s NRM direction
(note how the X direction is rotated off from the top of the equal area
projection).
<!--l. 4537--><p class="indent" >   <a name='zeq_magic_redo.py'></a>
                                                                     

                                                                     
<!--l. 4538--><p class="indent" >   <a name='subsec5-2-111'></a><h4 class="subsectionHead"><span class="titlemark">5.2.111   </span> <a 
href="#QQ2-1-172" id="x1-1720005.2.111">zeq_magic_redo.py</a></h4>
<!--l. 4539--><p class="noindent" ><a 
href="http://magician.ucsd.edu/Essentials_2/WebBook2ch9.html#ch9" >[Essentials Chapter 9]</a> &amp; <a 
href="#MagIC" >[MagIC]</a> <a 
href="http://earthref.org/PmagPy/pmagpydocs/zeq_magic_redo-module.html" >[zeq_magic_redo docs]</a>
<!--l. 4542--><p class="indent" >   In the <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_magic </span>directory, use the program <span 
class="cmbx-10x-x-109">zeq</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_redo.py </span>to create a
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens </span>formatted file with data in geographic coordinates from the
sample coordinate file <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimens.txt</span>. Assuming that sample orientations are
in a file called <span 
class="cmti-10x-x-109">er</span><span 
class="cmti-10x-x-109">_samples.txt</span>, use <a 
href="#mk_redo.py" >mk_redo.py</a> first to create file called
<span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_redo</span>. Then use <span 
class="cmbx-10x-x-109">zeq</span><span 
class="cmbx-10x-x-109">_magic</span><span 
class="cmbx-10x-x-109">_redo.py </span>to create two <span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimen</span>
formatted files: one in specimen coordinates <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimens</span><span 
class="cmti-10x-x-109">_s.txt </span>and one in
geographic coordinates <span 
class="cmti-10x-x-109">zeq</span><span 
class="cmti-10x-x-109">_specimens</span><span 
class="cmti-10x-x-109">_g.txt</span>. Combine these into one file called
<span 
class="cmti-10x-x-109">pmag</span><span 
class="cmti-10x-x-109">_specimens.txt</span>.
<!--l. 4546--><p class="indent" >   Note that indented lines belong with the line above as a single line.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-151">
%mk_redo.py
&#x00A0;<br />%&#x00A0;zeq_magic_redo.py&#x00A0;-F&#x00A0;zeq_specimens_s.txt&#x00A0;-crd&#x00A0;s
&#x00A0;<br />Processing&#x00A0;&#x00A0;175&#x00A0;&#x00A0;specimens&#x00A0;-&#x00A0;please&#x00A0;wait
&#x00A0;<br />Recalculated&#x00A0;specimen&#x00A0;data&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./zeq_specimens_s.txt
&#x00A0;<br />
&#x00A0;<br />%&#x00A0;zeq_magic_redo.py&#x00A0;-F&#x00A0;zeq_specimens_g.txt&#x00A0;-crd&#x00A0;g
&#x00A0;<br />Processing&#x00A0;&#x00A0;175&#x00A0;&#x00A0;specimens&#x00A0;-&#x00A0;please&#x00A0;wait
&#x00A0;<br />Recalculated&#x00A0;specimen&#x00A0;data&#x00A0;stored&#x00A0;in&#x00A0;&#x00A0;./zeq_specimens_g.txt
&#x00A0;<br />%&#x00A0;combine_magic.py&#x00A0;-F&#x00A0;pmag_specimens.txt&#x00A0;&#x00A0;&#x00A0;-f&#x00A0;zeq_specimens_s.txt&#x00A0;zeq_specimens_g.txt
</div>
<!--l. 4558--><p class="nopar" >
<!--l. 4561--><p class="noindent" >
<!--l. 4561--><p class="indent" >   <a name='sec5-3'></a><h3 class="sectionHead"><span class="titlemark">5.3   </span> <a 
href="#QQ2-1-173" id="x1-1730005.3">Complaints department</a></h3>
<!--l. 4563--><p class="noindent" >Most of the software and this documentation were written by Lisa Tauxe
(<a 
href="mailto:ltauxe@ucsd.edu" >ltauxe@usd.edu</a>) who is solely responsible for all bugs and boo-boos. Please
contact me with bug reports, suggestions and requests. <a name='Python'></a>
                                                                     

                                                                     
<!--l. 4565--><p class="indent" >   <a name='ch6'></a><h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;6</span><br /><a 
href="#QQ2-1-174" id="x1-1740006">Introduction to Python Programming</a></h2>
   Type &#8217;python&#8217; on your <a 
href="#command_line" >command line</a>.
<!--l. 4570--><p class="indent" >   You have just fired up Python and you are in an interactive mode with the
prompt <span 
class="cmmi-10x-x-109">&#x003E;&#x003E;&#x003E;</span>. Now, you can just start typing commands. After each command,
press the return key and see what happens:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-152">
&#x003E;&#x003E;&#x003E;&#x00A0;a=2
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;a
&#x00A0;<br />2
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;b=2
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;c=a+b
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;c
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;c+=1
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;c
&#x00A0;<br />5
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;a=2;&#x00A0;b=2;&#x00A0;c=a+b;&#x00A0;c
&#x00A0;<br />4
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;d,e,f=4,5,6&#x00A0;#&#x00A0;note&#x00A0;syntax!&#x00A0;d=4;e=5;f=6
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;#&#x00A0;note&#x00A0;also&#x00A0;that&#x00A0;the&#x00A0;symbol&#x00A0;&#8217;#&#8217;&#x00A0;means&#x00A0;the&#x00A0;rest&#x00A0;of&#x00A0;the&#x00A0;line&#x00A0;is&#x00A0;a&#x00A0;comment!
</div>
<!--l. 4586--><p class="nopar" >
<!--l. 4588--><p class="indent" >   To get out of Python interactive mode and back to your beloved
command line, type the control key (here-after <img 
src="PmagPy83x.png" alt="&#x02C6;  "  class="circ" >) and D at the same
time. From your school experience of Algebra, you will recognize <span 
class="cmmi-10x-x-109">a,b,</span>
and <span 
class="cmmi-10x-x-109">c </span>in the above session as <span 
class="cmti-10x-x-109">variables </span>and + as an <span 
class="cmti-10x-x-109">operation</span>. If you
have previous programming experience, you may have been surprised
that we didn&#8217;t declare variables up front (C programmers always have
to). And, the variables above are obviously behaving as integers, not
floating point variables (no decimals) but they are not letters between <span 
class="cmmi-10x-x-109">i</span>
and <span 
class="cmmi-10x-x-109">n</span>. And there were funny lines that seemed to set three numbers at
once:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-153">
&#x003E;&#x003E;&#x003E;&#x00A0;a=2;&#x00A0;b=2;&#x00A0;c=a+b;&#x00A0;c
&#x00A0;<br />and
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;d,e,f=4,5,6&#x00A0;#&#x00A0;note&#x00A0;syntax!&#x00A0;d=4;e=5;f=6
</div>
<!--l. 4595--><p class="nopar" > Here are some rules governing variables and operations in Python:
     <ul class="itemize1">
     <li class="itemize">Variable names are composed of alphanumeric characters, including &#8216;-&#8216;
     and &#8217;_&#8217;.
     </li>
     <li class="itemize">They are case sensitive: &#8216;a&#8217; is not the same as &#8217;A&#8217;.
     </li>
     <li class="itemize">They do NOT have to be specified in advance (unlike C)
     </li>
     <li class="itemize">In fortran, integers are <span 
class="cmmi-10x-x-109">i </span><span 
class="cmsy-10x-x-109">- </span><span 
class="cmmi-10x-x-109">n </span>and floating points are all else - not the
     case in Python. You can make them whatever you want.
     </li>
     <li class="itemize">+ adds, - subtracts, * multiplies, / divides, % gives the remainder, **
     raises to the power
     </li>
     <li class="itemize">These  two  are  fun:  +=  and  -=.  They  add  to  and  subtract  from
     respectively.
     </li>
     <li class="itemize">Parentheses  determine  order  of  operation  (as  in  any  reasonable
     programming language).
     </li>
     <li class="itemize">For  math  functions,  we  can  use  various  modules  that  either  come
     standard with python (the math module) or are additions that come
     with the Enthought Python Edition we are using (the NumPy module).
     A module is just a collection of functions. NB: There is online help for
     any python function or method: just type help(FUNC).</li></ul>
<!--l. 4612--><p class="noindent" ><a name='sec6-1'></a><h3 class="sectionHead"><span class="titlemark">6.1   </span> <a 
href="#QQ2-1-175" id="x1-1750006.1">A first look at NumPy</a></h3>
                                                                     

                                                                     
<!--l. 4614--><p class="noindent" >O.K. First of all - how do you pronounce &#8216;NumPy&#8217;. According to Important
People at Enthought (e.g, Robert Kern), it should be pronounced &#8220;Num&#8221; as in
&#8220;Number&#8221; and &#8220;Pie&#8221; as in, well, pie, or Python. Oops. It is way more fun to say
Numpee!
<!--l. 4616--><p class="indent" >   So, that out of the way, what can NumPy do for us? Turns out, a whole heck
of a lot! But for now we will just scratch the surface. It can, for example, give us
the value of <span 
class="cmmi-10x-x-109">&#x03C0; </span>as numpy.pi. Note how the module name comes first, then the
name of the function we wish to use. In this case, the function just returns the
value of <span 
class="cmmi-10x-x-109">&#x03C0;</span>.
<!--l. 4618--><p class="indent" >   To use NumPy functions, we must first &#8220;import&#8221; the module with the
command import. The first time you do this after installing Python, it may take
a while, but after that it should be very quick.
<!--l. 4620--><p class="indent" >   There are four styles of the import command which all do pretty
much the same thing but differ in how you have to call the function after
importing:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-154">
&#x003E;&#x003E;&#x003E;&#x00A0;&#x00A0;import&#x00A0;numpy
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;numpy.pi
&#x00A0;<br />3.1415926535897931
</div>
<!--l. 4626--><p class="nopar" > This makes all the functions in NumPy available to you, but you have to call
them with the numpy.FUNC syntax.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-155">
&#x003E;&#x003E;&#x003E;&#x00A0;&#x00A0;import&#x00A0;numpy&#x00A0;as&#x00A0;np&#x00A0;&#x00A0;#&#x00A0;or&#x00A0;anything&#x00A0;else!&#x00A0;&#x00A0;e.g.,&#x00A0;some&#x00A0;use:&#x00A0;&#x00A0;N
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;np.pi&#x00A0;&#x00A0;#&#x00A0;or&#x00A0;N.pi&#x00A0;in&#x00A0;the&#x00A0;second&#x00A0;case.
&#x00A0;<br />3.1415926535897931
</div>
<!--l. 4634--><p class="nopar" > This does the same as the first, but allows you to call NumPy anything you want
- to save typing? To import all the functions from NumPy and not have to type
numpy at all:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-156">
&#x003E;&#x003E;&#x003E;&#x00A0;from&#x00A0;numpy&#x00A0;&#x00A0;import&#x00A0;*
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;pi
&#x00A0;<br />3.1415926535897931
</div>
<!--l. 4643--><p class="nopar" > This imports all the umpty-ump functions, which is a heavy load on your
memory, but you can also just import a few, like pi or sqrt:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-157">
&#x003E;&#x003E;&#x003E;&#x00A0;from&#x00A0;numpy&#x00A0;import&#x00A0;pi,&#x00A0;sqrt&#x00A0;#&#x00A0;pi&#x00A0;and&#x00A0;square&#x00A0;root
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;pi
&#x00A0;<br />3.1415926535897931
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;sqrt(4)
&#x00A0;<br />2.0
</div>
<!--l. 4652--><p class="nopar" >  Did you notice how sqrt(4) where 4 was an integer, returned a floating point
variable (2.0)?
<!--l. 4657--><p class="indent" >   Good housekeeping Tip #1: I tend to import modules using the first option
above. That way I know what module the functions I&#8217;m using are coming from -
especially because we don&#8217;t know off-hand ALL the functions available in any
given module and there might be conflicts with my own function names
or two different modules could have the same function (like math and
numpy).
<!--l. 4660--><p class="indent" >   Here is a (partial) list of some useful NumPy functions:
   <div class="tabular"> <table id="TBL-11" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-11-1g"><col 
id="TBL-11-1"><col 
id="TBL-11-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-1-1"  
class="td11">absolute(x) </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-1-2"  
class="td11">absolute value                                                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-2-1"  
class="td11">arccos(x)     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-2-2"  
class="td11">arccosine                                                            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-3-1"  
class="td11">arcsin(x)     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-3-2"  
class="td11">arcsine                                                               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-4-1"  
class="td11">arctan(x)     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-4-2"  
class="td11">arctangent                                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-5-1"  
class="td11">arctan2(y,x) </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-5-2"  
class="td11">arctangent of y/x in correct quadrant (***very useful!)</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-6-1"  
class="td11">cos(x)         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-6-2"  
class="td11">cosine                                                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-7-1"  
class="td11">cosh(x)       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-7-2"  
class="td11">hyperbolic cosine                                                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-8-1"  
class="td11">exp(x)        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-8-2"  
class="td11">exponential                                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-9-1"  
class="td11">log(x)         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-9-2"  
class="td11">natural logarithm                                                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-10-1"  
class="td11">log10(x)      </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-10-2"  
class="td11">base 10 log                                                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-11-1"  
class="td11">sin(x)         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-11-2"  
class="td11">sine                                                                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-12-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-12-1"  
class="td11">sinh(x)        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-12-2"  
class="td11">hyperbolic sine                                                     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-13-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-13-1"  
class="td11">sqrt(x)        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-13-2"  
class="td11">square root                                                         </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-14-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-14-1"  
class="td11">tan(x)         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-14-2"  
class="td11">tangent                                                              </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-11-15-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-15-1"  
class="td11">tanh(x)       </td><td  style="white-space:nowrap; text-align:left;" id="TBL-11-15-2"  
class="td11">hyperbolic tangent                                                </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-11-16-"><td  style="white-space:nowrap; text-align:left;" id="TBL-11-16-1"  
class="td11">           </td> </tr></table></div>
<!--l. 4683--><p class="noindent" >Note that in the trigonometric functions, the argument is in RADIANS!.You can
convert from degrees to radians by multiplying by: numpy.pi/180.. Also notice
how these functions have parentheses, as opposed to numpy.pi which has none.
The difference is that these take arguments, while numpy.pi just returns the value
of <span 
class="cmmi-10x-x-109">&#x03C0;</span>.
<!--l. 4687--><p class="noindent" >If you are desperate, you can always use your Python interpreter as a
calculator:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-158">
&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;numpy
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;a=2
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;b=-12
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;c=16
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;quad1&#x00A0;=&#x00A0;(-b&#x00A0;+&#x00A0;numpy.sqrt(b**2-4.*a*c))/(2.*a)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;quad1
&#x00A0;<br />4
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;y=numpy.sin(numpy.pi/6.)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;y
&#x00A0;<br />0.5
</div>
<!--l. 4701--><p class="nopar" >
<!--l. 4704--><p class="noindent" >
<!--l. 4704--><p class="indent" >   <a name='sec6-2'></a><h3 class="sectionHead"><span class="titlemark">6.2   </span> <a 
href="#QQ2-1-176" id="x1-1760006.2">Variable types</a></h3>
<!--l. 4706--><p class="noindent" >The time has come to talk about variable types. We&#8217;ve been very relaxed up to
now, because we don&#8217;t have to declare them up front and we can often even
change them from one type to another on the fly. But - variable types matter, so
here goes. Python has integer, floating point (both long and short), string and
complex variable types. It is pretty clever about figuring out what is required.
Here are some examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-159">
&#x003E;&#x003E;&#x003E;&#x00A0;number=1&#x00A0;#&#x00A0;an&#x00A0;integer
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;Number=1.0&#x00A0;#&#x00A0;a&#x00A0;floating&#x00A0;point
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;NUMBER=&#8217;1&#8217;&#x00A0;#&#x00A0;a&#x00A0;string
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;complex=1j&#x00A0;#&#x00A0;a&#x00A0;complex&#x00A0;number&#x00A0;with&#x00A0;imaginary&#x00A0;part&#x00A0;1
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;complex(3,1)&#x00A0;#&#x00A0;the&#x00A0;complex&#x00A0;number&#x00A0;3+1i
</div>
<!--l. 4714--><p class="nopar" > Try doing math with these!  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-160">
&#x003E;&#x003E;&#x003E;&#x00A0;number+number
&#x00A0;<br />2&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;an&#x00A0;integer]
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;number+Number
&#x00A0;<br />2.0&#x00A0;&#x00A0;&#x00A0;[&#x00A0;a&#x00A0;float]
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;NUMBER+NUMBER
&#x00A0;<br />11&#x00A0;[a&#x00A0;string]
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;number+NUMBER&#x00A0;&#x00A0;[Gives&#x00A0;you&#x00A0;an&#x00A0;angry&#x00A0;error&#x00A0;message]
</div>
<!--l. 4725--><p class="nopar" > Lesson learned: you can&#8217;t add a number and a string. and string addition is
different! But you really have to be careful with this. If you multiply a float by an
integer, it is possible that you will convert the float to an integer when you really
wanted all those numbers after the decimal! So, if you want a float, use a
float.
<!--l. 4729--><p class="indent" >   You can convert from one type to another (if appropriate) with:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-161">
&#x00A0;int(Number);&#x00A0;str(number);&#x00A0;&#x00A0;float(NUMBER);
&#x00A0;<br />&#x00A0;long(Number);&#x00A0;complex(real,imag)
&#x00A0;<br />&#x00A0;
</div>
<!--l. 4733--><p class="nopar" >
<!--l. 4735--><p class="noindent" >long() converts to a double precision floating point and complex() converts the
two parts to a complex number.
<!--l. 4738--><p class="indent" >   There is another kind of variable called &#8220;boolean&#8221;. These are: true, false,
and, or, and not. For the record, the integer &#8216;1&#8217; is true and &#8216;0&#8217; is false.
These can be used to control the flow of the program as we shall learn
later.
<!--l. 4742--><p class="noindent" >
<!--l. 4742--><p class="indent" >   <a name='sec6-3'></a><h3 class="sectionHead"><span class="titlemark">6.3   </span> <a 
href="#QQ2-1-177" id="x1-1770006.3">Data Structures</a></h3>
<!--l. 4744--><p class="noindent" >In previous programming experience, you may have encountered arrays, which
are a nice way to group a sequence of numbers that belong together. In Python
we also have arrays, but we also have more flexible data structures, like
lists, tuples, and dictionaries, that group arbitrary variables together,
like strings and integers and floats - whatever you want really. We&#8217;ll go
through some attributes of the various data structures, starting with
lists.
<!--l. 4746--><p class="noindent" >
<!--l. 4746--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1780006.3" id="x1-1780006.3">Lists</a></h5>
     <ul class="itemize1">
     <li class="itemize">Lists  are  denoted  with  square  brackets,  [  ],  and  can  contain  any
     arbitrary set of items, including other lists!
     </li>
     <li class="itemize">Items in the list are referred to by an index number, starting with 0.
     </li>
     <li class="itemize">You can count from the end to the beginning by starting with -1 (the
     last item in the list), -2 (second to last), etc.
                                                                     

                                                                     
     </li>
     <li class="itemize">Items can be sorted, deleted, inserted, sliced, counted, concatenated,
     replaced, added on, etc.</li></ul>
<!--l. 4754--><p class="noindent" >Examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-162">
&#x003E;&#x003E;&#x003E;&#x00A0;mylist=[&#8216;a&#8217;,2.0,&#8216;400&#8217;,&#8216;spam&#8217;,42,[24,2]]&#x00A0;#&#x00A0;defines&#x00A0;a&#x00A0;list
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;mylist[2]&#x00A0;#&#x00A0;refers&#x00A0;to&#x00A0;the&#x00A0;third&#x00A0;item
&#x00A0;<br />&#8216;400&#8217;
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;mylist[-1]&#x00A0;#&#x00A0;refers&#x00A0;to&#x00A0;the&#x00A0;last&#x00A0;item
&#x00A0;<br />[24,2]
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;mylist[1]=26.3&#x00A0;&#x00A0;&#x00A0;#&#x00A0;replaces&#x00A0;the&#x00A0;second&#x00A0;item
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;del&#x00A0;mylist[3]&#x00A0;#&#x00A0;deletes&#x00A0;the&#x00A0;fourth&#x00A0;element
</div>
<!--l. 4765--><p class="nopar" >
<!--l. 4768--><p class="noindent" >To slice out a chunk of the middle of a list:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-163">
&#x003E;&#x003E;&#x003E;&#x00A0;newlist=mylist[1:3]
</div>
<!--l. 4772--><p class="nopar" > This takes items 2 and 3 out (note it takes out up to but not including
the last item number - don&#8217;t ask me why). Or, we can slice it this way:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-164">
&#x003E;&#x003E;&#x003E;&#x00A0;newlist=mylist[3:]
</div>
<!--l. 4778--><p class="nopar" > which takes from the fourth item (starting from 0!) to the end.
<!--l. 4783--><p class="indent" >   To copy a list BEWARE! You can make a copy - but it isn&#8217;t an independent
copy (like in, e.g., Fortran), but it is just another name for the SAME OBJECT,
so:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-165">
&#x003E;&#x003E;&#x003E;&#x00A0;mycopy=mylist
&#x00A0;<br />&#x003E;&#x003E;&#x003E;mylist[2]=&#8216;new&#8217;
&#x00A0;<br />&#x003E;&#x003E;&#x003E;mycopy[2]
&#x00A0;<br />&#8216;new&#8217;
</div>
<!--l. 4789--><p class="nopar" > See how mycopy got changed when we changed mylist? To spawn a new list that
is a copy, but an independent entity:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-166">
&#x003E;&#x003E;&#x003E;mycopy=mylist[:]
</div>
<!--l. 4796--><p class="nopar" > Now try:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-167">
&#x003E;&#x003E;&#x003E;mylist[2]=1003
&#x00A0;<br />&#x003E;&#x003E;&#x003E;mycopy[2]
&#x00A0;<br />&#8216;new&#8217;
</div>
<!--l. 4803--><p class="nopar" > So now mycopy stayed the way it was, even as mylist  changed.
<!--l. 4808--><p class="indent" >   Python is &#8220;object oriented&#8221;, a popular concept in coding circles. We&#8217;ll learn
more about what that means later, but for right now you can walk around feeling
smug that you are learning an object oriented programming language. O.K.,
what is an object? Well, mylist is an object. Cool. What do objects have that
might be handy? Objects have &#8220;methods&#8221; which allow you to do things to them.
Methods have the form: object.method()
<!--l. 4813--><p class="noindent" >Here are two examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-168">
&#x003E;&#x003E;&#x003E;&#x00A0;mylist.append(&#8216;me&#x00A0;too&#8217;)&#x00A0;#&#x00A0;appends&#x00A0;a&#x00A0;string&#x00A0;to&#x00A0;mylist
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;mylist.sort()&#x00A0;#&#x00A0;sorts&#x00A0;the&#x00A0;list&#x00A0;alphanumerically
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;mylist
&#x00A0;<br />[2.0,&#x00A0;42,&#x00A0;[24,&#x00A0;2],&#x00A0;&#8217;400&#8217;,&#x00A0;&#8217;a&#8217;,&#x00A0;&#8217;me&#x00A0;too&#8217;,&#x00A0;&#8217;spam&#8217;]
</div>
<!--l. 4821--><p class="nopar" >
<!--l. 4825--><p class="noindent" >
<!--l. 4827--><p class="indent" >   For a complete list of methods for lists, see:
<a 
href="http://docs.python.org/tutorial/datastructures.html#more-on-lists" class="url" ><span 
class="cmtt-10x-x-109">http://docs.python.org/tutorial/datastructures.html#more-on-lists</span></a>
<!--l. 4830--><p class="noindent" >
<!--l. 4830--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1790006.3" id="x1-1790006.3">More about strings</a></h5>
<!--l. 4831--><p class="noindent" >Numbers are numbers. While there are more kinds of numbers (complex, etc.),
strings can be more interesting. Unlike in some languages, they can be
denoted with single, double or triple quotes: e.g., &#8216;spam&#8217;, &#8220;Sam&#8217;s spam&#8221;, or
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-169">
"""
&#x00A0;<br />Hi&#x00A0;there&#x00A0;I&#x00A0;can&#x00A0;type&#x00A0;as
&#x00A0;<br />many&#x00A0;lines&#x00A0;as&#x00A0;I&#x00A0;want
&#x00A0;<br />"""
</div>
<!--l. 4839--><p class="nopar" >
<!--l. 4841--><p class="indent" >   Strings can be added together (newstring = &#8217;spam&#8217; + &#8217;alot&#8217;). They can be
sliced (newerstring = newstring[0:3]). but they CANNOT be changed in place -
you can&#8217;t do this: newstring[0]=&#8217;b&#8217;. To find more of the things you can and
cannot do to strings, see:
<!--l. 4845--><p class="indent" >   <a 
href="http://docs.python.org/tutorial/introduction.html#strings" class="url" ><span 
class="cmtt-10x-x-109">http://docs.python.org/tutorial/introduction.html#strings</span></a>
<!--l. 4847--><p class="noindent" >
<!--l. 4847--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1800006.3" id="x1-1800006.3">Data structures as objects</a></h5>
<!--l. 4851--><p class="noindent" >
<!--l. 4851--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1810006.3" id="x1-1810006.3">Tuples</a></h5>
<!--l. 4852--><p class="noindent" >What? Tuples? Tuples consist of a number of values separated by commas. They
are denoted with parentheses.  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-170">
&#x003E;&#x003E;&#x003E;&#x00A0;t&#x00A0;=&#x00A0;1234,&#x00A0;2.0,&#x00A0;&#8216;hello&#8217;
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;t
&#x00A0;<br />(1234,&#x00A0;2.0,&#x00A0;&#8216;hello&#8217;)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;t[0]
&#x00A0;<br />1234
</div>
<!--l. 4860--><p class="nopar" >
<!--l. 4862--><p class="noindent" >Tuples are sort of like lists, but like strings, their elements cannot be changed.
However, you can slice, concatenate, etc. For more see:
<!--l. 4865--><p class="indent" >   <a 
href=" http://docs.python.org/tutorial/datastructures.html#tuples-and-sequences" class="url" ><span 
class="cmtt-10x-x-109">http://docs.python.org/tutorial/datastructures.html#tuples-and-sequences</span></a>
<!--l. 4870--><p class="noindent" >
<!--l. 4870--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1820006.3" id="x1-1820006.3">Dictionaries!</a></h5>
<!--l. 4872--><p class="noindent" >Dictionaries are denoted by <span 
class="cmsy-10x-x-109">{}</span>. They are also somewhat like lists, but instead of
integer indices, they use alphanumeric &#8216;keys&#8217;: I love dictionaries. So here is a bit
more about them.
<!--l. 4875--><p class="noindent" >To define one:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-171">
&#x003E;&#x003E;&#x003E;&#x00A0;Telnos={&#8216;lisa&#8217;:46084,&#8216;lab&#8217;:46531,&#8216;jeff&#8217;:44707}&#x00A0;#&#x00A0;defines&#x00A0;a&#x00A0;dictionary
</div>
<!--l. 4879--><p class="nopar" >
<!--l. 4881--><p class="noindent" >To return the value associated with a specific key:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-172">
&#x003E;&#x003E;&#x003E;&#x00A0;Telnos[&#8216;lisa&#8217;]
&#x00A0;<br />46084
</div>
<!--l. 4886--><p class="nopar" >
<!--l. 4888--><p class="noindent" >To change a key value:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-173">
&#x003E;&#x003E;&#x003E;&#x00A0;Telnos[&#8217;lisa&#8217;]=46048
</div>
<!--l. 4893--><p class="nopar" >
<!--l. 4896--><p class="noindent" >To add a new key value:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-174">
&#x003E;&#x003E;&#x003E;&#x00A0;Telnos[&#8216;newguy&#8217;]=48888
</div>
<!--l. 4900--><p class="nopar" >
<!--l. 4903--><p class="noindent" >Dictionaries also have some methods. One useful one is:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-175">
&#x003E;&#x003E;&#x003E;&#x00A0;Telnos.keys()
&#x00A0;<br />[&#8216;lisa&#8217;,&#8216;lab&#8217;,&#8216;jeff&#8217;,&#8216;newguy&#8217;]
</div>
<!--l. 4909--><p class="nopar" >
<!--l. 4911--><p class="noindent" >which returns a list of all the keys.
<!--l. 4914--><p class="indent" >   For a more complete accounting of dictionaries, see:
<!--l. 4916--><p class="indent" >   <a 
href="http://docs.python.org/tutorial/datastructures.html#dictionaries" class="url" ><span 
class="cmtt-10x-x-109">http://docs.python.org/tutorial/datastructures.html#dictionaries</span></a>
<!--l. 4920--><p class="noindent" >
<!--l. 4920--><p class="indent" >   <a name='subsubsec6-3-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1830006.3" id="x1-1830006.3">N-dimensional arrays</a></h5>
<!--l. 4922--><p class="noindent" >Arrays in Python have many similarities to lists. Unlike lists, however, arrays
have to be all of the same data type (dtype), usually numbers (integers or floats),
although there appears to be something called a character array. Also, the size
and shape of an array must be known <span 
class="cmti-10x-x-109">a priori </span>and not determined on the fly like
lists. For example we can define a list with L=[], then append to it as desired,
but not so arrays - they are much pickier and we&#8217;ll see how to set them up
later.
<!--l. 4925--><p class="indent" >   Why use arrays when you can use lists? They are far more efficient than
lists particularly for things like matrix math. But just to make things a
little confusing, there are several different data objects that are loosely
called arrays, e.g., arrays, character arrays and matrices. These are all
subclasses of ndarray. I&#8217;m just going to briefly introduce arrays and matrices
here.
<!--l. 4927--><p class="indent" >   Here are a few ways of making arrays:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-176">
&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;numpy
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;A=&#x00A0;numpy.array([[1,2,3],[4,2,0],[1,1,2]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;A
&#x00A0;<br />array([[1,&#x00A0;2,&#x00A0;3],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[4,&#x00A0;2,&#x00A0;0],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[1,&#x00A0;1,&#x00A0;2]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;B=numpy.arange(0,10,1).reshape(2,5)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;B
&#x00A0;<br />array([[0,&#x00A0;1,&#x00A0;2,&#x00A0;3,&#x00A0;4],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[5,&#x00A0;6,&#x00A0;7,&#x00A0;8,&#x00A0;9]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C=numpy.array([[1,2,3],[4,5,6]],numpy.int32)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C
&#x00A0;<br />array([[1,&#x00A0;2,&#x00A0;3],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[4,&#x00A0;5,&#x00A0;6]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;D=numpy.zeros((2,3))&#x00A0;#&#x00A0;Notice&#x00A0;the&#x00A0;zeros&#x00A0;and&#x00A0;the&#x00A0;size&#x00A0;is&#x00A0;specified&#x00A0;by&#x00A0;a&#x00A0;tuple.
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;D
&#x00A0;<br />array([[&#x00A0;0.,&#x00A0;&#x00A0;0.,&#x00A0;&#x00A0;0.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;0.,&#x00A0;&#x00A0;0.,&#x00A0;&#x00A0;0.]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;E=numpy.ones((2,4))
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;E
&#x00A0;<br />array([[&#x00A0;1.,&#x00A0;&#x00A0;1.,&#x00A0;&#x00A0;1.,&#x00A0;&#x00A0;1.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;1.,&#x00A0;&#x00A0;1.,&#x00A0;&#x00A0;1.,&#x00A0;&#x00A0;1.]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;F=numpy.linspace(0,10,14)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;F
&#x00A0;<br />array([&#x00A0;&#x00A0;0.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;,&#x00A0;&#x00A0;&#x00A0;0.76923077,&#x00A0;&#x00A0;&#x00A0;1.53846154,&#x00A0;&#x00A0;&#x00A0;2.30769231,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;3.07692308,&#x00A0;&#x00A0;&#x00A0;3.84615385,&#x00A0;&#x00A0;&#x00A0;4.61538462,&#x00A0;&#x00A0;&#x00A0;5.38461538,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;6.15384615,&#x00A0;&#x00A0;&#x00A0;6.92307692,&#x00A0;&#x00A0;&#x00A0;7.69230769,&#x00A0;&#x00A0;&#x00A0;8.46153846,
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;9.23076923,&#x00A0;&#x00A0;10.&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;G=numpy.ndarray(shape=(2,2),&#x00A0;dtype=float)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;G&#x00A0;&#x00A0;&#x00A0;#&#x00A0;note&#x00A0;how&#x00A0;this&#x00A0;is&#x00A0;initalized&#x00A0;with&#x00A0;really&#x00A0;low&#x00A0;numbers&#x00A0;(but&#x00A0;not&#x00A0;zeros).
&#x00A0;<br />array([[&#x00A0;&#x00A0;1.90979621e-313,&#x00A0;&#x00A0;&#x00A0;2.75303490e-308],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;&#x00A0;1.08539798e-071,&#x00A0;&#x00A0;&#x00A0;3.05363949e-309]])
</div>
<!--l. 4962--><p class="nopar" >
<!--l. 4964--><p class="indent" >   Note the difference between linspace(start,stop,N) and arange(start,stop,step).
The function linspace creates an array with 14 evenly spaced elements between
the start and stop values while arange creates an array with elements at
                                                                     

                                                                     
colorbluestep intervals between the starting and stopping values. In some of the
online examples you will find the short-cuts for arange() and linspace as
r_(-5,5,20j) and r_(-5,5,1.) respectively.
<!--l. 4966--><p class="indent" >   Python arrays have methods like dtype, ndim, shape, size, reshape(), ravel(),
transpose() etc. Did you notice how some of these require parentheses and some
don&#8217;t? The answer is that some of these are functions and some are classes, both
of which we will get to later.
<!--l. 4968--><p class="indent" >   Let&#8217;s see what the methods can do. First, arrays made in the above example
are of different data types. To find out what data type an array is, just use the
method dtype as in:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-177">
&#x003E;&#x003E;&#x003E;&#x00A0;D.dtype
&#x00A0;<br />dtype(&#8217;float64&#8217;)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;
</div>
<!--l. 4975--><p class="nopar" >
<!--l. 4979--><p class="indent" >   And of course arrays, unlike lists have dimensions and shape. Dimensions tell
us how many axes there are with axes defined as in this illustration:
<!--l. 4981--><p class="indent" >   <img 
src="PmagPy84x.png" alt="PIC" class="graphics" width="426.79134pt" height="237.118pt" ><!--tex4ht:graphics  
name="PmagPy84x.png" src="EPSfiles/ndim.eps"  
-->
<!--l. 4983--><p class="indent" >   As shown above our A array has two dimensions (axis 0 and 1). To get
Python to tell us this, we use the ndim method:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-178">
&#x003E;&#x003E;&#x003E;&#x00A0;&#x00A0;A=&#x00A0;numpy.array([[1,2,3],[4,2,0],[1,1,2]])&#x00A0;#&#x00A0;just&#x00A0;to&#x00A0;remind&#x00A0;you
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;A.ndim
&#x00A0;<br />2
</div>
<!--l. 4989--><p class="nopar" > Notice how zeros, ones and ndarray used a shape tuple in order to define the
arrays in the examples above. The shape of an array is how many elements are
along each axis. So, naturally we see that the C array is a 2x3 array. Python
returns a tuple with the shape information using the shape method:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-179">
&#x003E;&#x003E;&#x003E;&#x00A0;C.shape
&#x00A0;<br />(2,&#x00A0;3)
</div>
<!--l. 4994--><p class="nopar" >
<!--l. 4996--><p class="indent" >   Let&#8217;s say we don&#8217;t want a 2x3 array for the sequence in the array C, but we
want a 3x2 array. Python can reshape an array with a different shape tuple like
this:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-180">
&#x003E;&#x003E;&#x003E;&#x00A0;C.reshape((3,2))
&#x00A0;<br />array([[1,&#x00A0;2],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[3,&#x00A0;4],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[5,&#x00A0;6]])
</div>
<!--l. 5002--><p class="nopar" >
<!--l. 5004--><p class="indent" >   And sometimes we just want all the elements lined up along one axis. We
could do that with reshape of course using a tuple with the size of the array (the
total number of elements). You can see that this is 6 here. We could even get
python to tell us what the size is (C.size) and use that in the reshape size tuple.
Alternatively we can use the ravel() method which doesn&#8217;t require us to know the
size in advance:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-181">
&#x003E;&#x003E;&#x003E;&#x00A0;C.ravel()
&#x00A0;<br />array([1,&#x00A0;2,&#x00A0;3,&#x00A0;4,&#x00A0;5,&#x00A0;6])
</div>
<!--l. 5009--><p class="nopar" >
<!--l. 5011--><p class="indent" >   There are other ways to reshape, slice and dice arrays. The syntax for slicing
of arrays is similar to that for lists:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-182">
&#x003E;&#x003E;&#x003E;&#x00A0;B=A[0:2]&#x00A0;#&#x00A0;carve&#x00A0;the&#x00A0;top&#x00A0;two&#x00A0;lines&#x00A0;off&#x00A0;of&#x00A0;matrix&#x00A0;A&#x00A0;from&#x00A0;above
&#x00A0;<br />array([[1,&#x00A0;2,&#x00A0;3],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[4,&#x00A0;5,&#x00A0;6]])
</div>
<!--l. 5017--><p class="nopar" >
<!--l. 5019--><p class="indent" >   Lots of applications in Earth Science require the transpose of an array:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-183">
&#x003E;&#x003E;&#x003E;&#x00A0;A.transpose()&#x00A0;#&#x00A0;this&#x00A0;is&#x00A0;the&#x00A0;same&#x00A0;as&#x00A0;A.T
&#x00A0;<br />array([[1,&#x00A0;4,&#x00A0;7],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[2,&#x00A0;5,&#x00A0;8],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[3,&#x00A0;6,&#x00A0;9]])
</div>
<!--l. 5025--><p class="nopar" >
<!--l. 5027--><p class="indent" >   Also, we can concatenate two arrays together with the - you guessed it -
concatenate() method. For a lot more tricks with arrays, go to the NumPy
Reference website here: <a 
href="http://docs.scipy.org/doc/numpy/reference/" class="url" ><span 
class="cmtt-10x-x-109">http://docs.scipy.org/doc/numpy/reference/</span></a>.
<!--l. 5030--><p class="indent" >   To convert the A array to a list: L=A.tolist(), from a list or tuple to an array:
A=numpy.array(L), or from a list, a tuple or an array to a NumPy array:
a=numpy.asarray(L)
<!--l. 5032--><p class="indent" >   Let&#8217;s go a bit deeper into slicing of arrays. First a review of lists. You will
recall that in python, indexing starts with 0, so for the list L=[0,2,4,6,8], L[1]
is 2. The index of the last item is -1, so L[-1]=8. To find out what the
index for the number 4 is, for example, we have the index() method:
L.index(4), which will return the number 2. We actually already used this
method when we implemented command line arguments, but it wasn&#8217;t
really explained. We know that to reassign a given index a new value we
use the syntax L[1]=2.5. And to use a part of a list (a slice) we use,
e.g., B=L[2:4], which defines B as a list with L&#8217;s elements 2 and 3 (4
and 6). And you also know that B=L[2:] takes all the elements from 2
to the end. From these examples, you can infer that the basic syntax
for slicing is [start:stop:step]; if the step is omitted it is assumed to be
1.
<!--l. 5036--><p class="indent" >   Arrays (and matrices) work in a similar fashion to lists, but these are
multidimensional objects, so things get hairy fast. The basic syntax is the same:
[start:stop:step], or i:j:k. but with Python arrays, we step through all the j&#8217;s for
each i at step k. This is best shown with examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-184">
&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;numpy
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;A=numpy.linspace(0,29,30)
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;B=A.reshape(5,6)
&#x00A0;<br />array([[&#x00A0;&#x00A0;0.,&#x00A0;&#x00A0;&#x00A0;1.,&#x00A0;&#x00A0;&#x00A0;2.,&#x00A0;&#x00A0;&#x00A0;3.,&#x00A0;&#x00A0;&#x00A0;4.,&#x00A0;&#x00A0;&#x00A0;5.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;&#x00A0;6.,&#x00A0;&#x00A0;&#x00A0;7.,&#x00A0;&#x00A0;&#x00A0;8.,&#x00A0;&#x00A0;&#x00A0;9.,&#x00A0;&#x00A0;10.,&#x00A0;&#x00A0;11.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;12.,&#x00A0;&#x00A0;13.,&#x00A0;&#x00A0;14.,&#x00A0;&#x00A0;15.,&#x00A0;&#x00A0;16.,&#x00A0;&#x00A0;17.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;18.,&#x00A0;&#x00A0;19.,&#x00A0;&#x00A0;20.,&#x00A0;&#x00A0;21.,&#x00A0;&#x00A0;22.,&#x00A0;&#x00A0;23.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;24.,&#x00A0;&#x00A0;25.,&#x00A0;&#x00A0;26.,&#x00A0;&#x00A0;27.,&#x00A0;&#x00A0;28.,&#x00A0;&#x00A0;29.]])
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;B[1:3,:-1:2]
&#x00A0;<br />array([[&#x00A0;&#x00A0;6.,&#x00A0;&#x00A0;&#x00A0;8.,&#x00A0;&#x00A0;10.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;12.,&#x00A0;&#x00A0;14.,&#x00A0;&#x00A0;16.]])
</div>
<!--l. 5052--><p class="nopar" >
<!--l. 5054--><p class="indent" >   Let&#8217;s pick about the statement B[1:3,:-1:2] to see if we can understand what it
does. The first part alone returns lines 2 and 3:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-185">
&#x003E;&#x003E;&#x003E;&#x00A0;B[1:3]
&#x00A0;<br />array([[&#x00A0;&#x00A0;6.,&#x00A0;&#x00A0;&#x00A0;7.,&#x00A0;&#x00A0;&#x00A0;8.,&#x00A0;&#x00A0;&#x00A0;9.,&#x00A0;&#x00A0;10.,&#x00A0;&#x00A0;11.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;12.,&#x00A0;&#x00A0;13.,&#x00A0;&#x00A0;14.,&#x00A0;&#x00A0;15.,&#x00A0;&#x00A0;16.,&#x00A0;&#x00A0;17.]])
</div>
<!--l. 5059--><p class="nopar" >
<!--l. 5061--><p class="indent" >   Here j goes from [:-1], in other words, we all but the last element:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-186">
&#x003E;&#x003E;&#x003E;&#x00A0;B[1:3,:-1]
&#x00A0;<br />array([[&#x00A0;&#x00A0;6.,&#x00A0;&#x00A0;&#x00A0;7.,&#x00A0;&#x00A0;&#x00A0;8.,&#x00A0;&#x00A0;&#x00A0;9.,&#x00A0;&#x00A0;10.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;12.,&#x00A0;&#x00A0;13.,&#x00A0;&#x00A0;14.,&#x00A0;&#x00A0;15.,&#x00A0;&#x00A0;16.]])
</div>
<!--l. 5067--><p class="nopar" >
<!--l. 5069--><p class="noindent" >And finally, we have the step of 2, which takes every other element:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-187">
&#x003E;&#x003E;&#x003E;&#x00A0;B[1:3,:-1:2]
&#x00A0;<br />array([[&#x00A0;&#x00A0;6.,&#x00A0;&#x00A0;&#x00A0;8.,&#x00A0;&#x00A0;10.],
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;[&#x00A0;12.,&#x00A0;&#x00A0;14.,&#x00A0;&#x00A0;16.]])
</div>
<!--l. 5075--><p class="nopar" >
<!--l. 5077--><p class="noindent" >For more on array slicing (indexing), see:
<!--l. 5079--><p class="indent" >   <a 
href="http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html" class="url" ><span 
class="cmtt-10x-x-109">http://docs.scipy.org/doc/numpy/reference/arrays.indexing.html</span></a>
<!--l. 5085--><p class="noindent" >
<!--l. 5085--><p class="indent" >   <a name='sec6-4'></a><h3 class="sectionHead"><span class="titlemark">6.4   </span> <a 
href="#QQ2-1-184" id="x1-1840006.4">Python Scripts</a></h3>
<!--l. 5087--><p class="noindent" >Are you tired of typing yet? Python scripts are programs that can be run and
re-run from the command line. You can type in the same stuff you&#8217;ve been doing
interactively into a script file (ending in .py). You can edit scripts with
your favorite text editor (NOT Word!). And then you can run them like
this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-188">
%python&#x00A0;&#x003C;&#x00A0;myscript.py
</div>
<!--l. 5092--><p class="nopar" >
<!--l. 5094--><p class="indent" >   On a Mac or Unix system, you can put in a header line identifying the script
as python (#!/usr/bin/env python), make it executable (chmod a+x) and run it
like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-189">
%&#x00A0;myscript.py
</div>
<!--l. 5098--><p class="nopar" >
<!--l. 5100--><p class="indent" >   On PCs, you can just type the name of the script without the header or the
chmod command. But, because PCs don&#8217;t come standard with a <span 
class="cmbx-10x-x-109">cat </span>command,
you have to create the file with Notepad, instead of with <span 
class="cmbx-10x-x-109">cat </span>for all the examples
using <span 
class="cmbx-10x-x-109">cat</span>.
<!--l. 5102--><p class="indent" >   Here is an example that creates a script using the Unix <span 
class="cmbx-10x-x-109">cat </span>command, makes
it executable and then runs it:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-190">
%&#x00A0;cat&#x00A0;&#x003E;&#x00A0;printmess.py
&#x00A0;<br />#!/usr/bin/env&#x00A0;python
&#x00A0;<br />#&#x00A0;simple&#x00A0;Python&#x00A0;test&#x00A0;program&#x00A0;(printmess.py)
&#x00A0;<br />print&#x00A0;&#8217;test&#x00A0;message&#8217;
&#x00A0;<br />^-D
&#x00A0;<br />%&#x00A0;chmod&#x00A0;a+x&#x00A0;printmess.py
&#x00A0;<br />%&#x00A0;./printmess.py
&#x00A0;<br />test&#x00A0;message
</div>
<!--l. 5113--><p class="nopar" >
<!--l. 5115--><p class="noindent" >In a Python script on Unix machines (including MacOS), the first line MUST
be:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-191">
#!&#x00A0;/usr/bin/env&#x00A0;python
</div>
<!--l. 5120--><p class="nopar" >
<!--l. 5122--><p class="noindent" >so that the file is interpreted as Python. Unlike Fortran or C, you CANNOT
start with a comment line (try switching lines 1 and 2 and see what
happens).
<!--l. 5126--><p class="indent" >   The second line is a comment line. Anything to the right of # is assumed to
be a comment. Notice that print goes by default to your screen. Because the
message is a string, you can use single or double quotes for the test message. You
can get an apostrophe in your output by using double quotes and quote marks by
using single quotes, i.e.,
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-192">
#!&#x00A0;/usr/bin/env&#x00A0;python
&#x00A0;<br />#&#x00A0;simple&#x00A0;Python&#x00A0;test&#x00A0;program&#x00A0;2&#x00A0;(printmess2.py)
&#x00A0;<br />print&#x00A0;"The&#x00A0;pump&#x00A0;don&#8217;t&#x00A0;work&#x00A0;&#8217;cuz&#x00A0;the&#x00A0;vandals&#x00A0;took&#x00A0;the&#x00A0;handles"
&#x00A0;<br />print&#x00A0;&#8217;She&#x00A0;said&#x00A0;"I&#x00A0;know&#x00A0;what&#x00A0;it\&#8217;s&#x00A0;like&#x00A0;to&#x00A0;be&#x00A0;dead"&#8217;
</div>
<!--l. 5136--><p class="nopar" >
<!--l. 5138--><p class="noindent" >produces:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-193">
%&#x00A0;./printmess2.py
&#x00A0;<br />The&#x00A0;pump&#x00A0;don&#8217;t&#x00A0;work&#x00A0;&#8217;cuz&#x00A0;the&#x00A0;vandals&#x00A0;took&#x00A0;the&#x00A0;handles
&#x00A0;<br />She&#x00A0;said&#x00A0;"I&#x00A0;know&#x00A0;what&#x00A0;it&#8217;s&#x00A0;like&#x00A0;to&#x00A0;be&#x00A0;dead"
&#x00A0;<br />%
</div>
<!--l. 5146--><p class="nopar" >
<!--l. 5148--><p class="noindent" >In the second print statement, the <span 
class="cmsy-10x-x-109">\</span>&#8217; is necessary to prevent an error (try it).
This is an example of a Python &#8216;escape code&#8217;. These are used to escape some
special meaning, as in an end-quote for a string in this example. We use the
backslash to say that we really really want a quote mark here. Other escape
codes are listed here:
<!--l. 5151--><p class="indent" >   <a 
href="http://www.python-course.eu/variables.php" class="url" ><span 
class="cmtt-10x-x-109">http://www.python-course.eu/variables.php</span></a>
<!--l. 5153--><p class="indent" >   Here&#8217;s another example of a program - this one has an typo in line
4:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-194">
#!&#x00A0;/usr/bin/env&#x00A0;python
&#x00A0;<br />abeg&#x00A0;=&#x00A0;2.1
&#x00A0;<br />aend&#x00A0;=&#x00A0;3.9
&#x00A0;<br />adif&#x00A0;=&#x00A0;aend&#x00A0;-&#x00A0;abge
&#x00A0;<br />print&#x00A0;&#8217;adif&#x00A0;=&#x00A0;&#8217;,&#x00A0;adif
</div>
<!--l. 5161--><p class="nopar" >
<!--l. 5163--><p class="noindent" >You had intended to type &#8217;abeg&#8217; but typed &#8217;abge&#8217; instead. When you run the
program, you get an error message:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-195">
Traceback&#x00A0;(most&#x00A0;recent&#x00A0;call&#x00A0;last):
&#x00A0;<br />&#x00A0;&#x00A0;File&#x00A0;"./undeclared.py",&#x00A0;line&#x00A0;4,&#x00A0;in&#x00A0;&#x003C;module&#x003E;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;adif&#x00A0;=&#x00A0;aend&#x00A0;-&#x00A0;abge
&#x00A0;<br />NameError:&#x00A0;name&#x00A0;&#8217;abge&#8217;&#x00A0;is&#x00A0;not&#x00A0;defined
</div>
<!--l. 5172--><p class="nopar" >
<!--l. 5174--><p class="noindent" >Error messages are a desirable feature of Python. You don&#8217;t want the program to
run by assigning some arbitrary value to abge and giving you a wrong answer.
Yet many languages will do exactly that.
<!--l. 5180--><p class="noindent" >
<!--l. 5180--><p class="indent" >   <a name='sec6-5'></a><h3 class="sectionHead"><span class="titlemark">6.5   </span> <a 
href="#QQ2-1-185" id="x1-1850006.5">Code blocks</a></h3>
<!--l. 5181--><p class="noindent" >Any reasonable programming language must provide a way to group blocks of
code together, to be executed under certain conditions. In Fortran, for
example, there are if statements and do loops which are bounded by the
statements if, endif and do, endo respectively. Many of these programs
encourage the use of indentation to make the code more readable, but do not
require it. In Python, indentation is the way that code blocks are defined
- there are no terminating statements. Also, the initiating statement
terminates in a colon. The trick is that all code indented the same number of
spaces (or tabs) to the right belong together. The code block terminates
when the next line is less indented. A typical Python program looks like
this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-196">
program&#x00A0;statement
&#x00A0;<br />block&#x00A0;1&#x00A0;top&#x00A0;statement:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;1&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;1&#x00A0;statement&#x00A0;\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;ha-ha&#x00A0;i&#x00A0;can&#x00A0;break&#x00A0;the&#x00A0;indentation&#x00A0;convention!
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;1&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;2&#x00A0;top&#x00A0;statement:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;2&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;2&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;3&#x00A0;top&#x00A0;statement:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;3&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;3&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;4&#x00A0;top&#x00A0;statement:&#x00A0;block&#x00A0;4&#x00A0;single&#x00A0;line&#x00A0;of&#x00A0;code
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;2&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;2&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;1&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;block&#x00A0;1&#x00A0;statement
&#x00A0;<br />program&#x00A0;statement
</div>
<!--l. 5202--><p class="nopar" >
<!--l. 5205--><p class="noindent" >Exceptions to the code indentation rules are:
     <ul class="itemize1">
     <li class="itemize">Any statement can be continued on the next line with the continuation
     character <span 
class="cmsy-10x-x-109">\ </span>and the indentation of the following line is arbitrary.
     </li>
     <li class="itemize">If a code block consists of a single statement, then that may be placed
     on the same line as the colon.
     </li>
     <li class="itemize">The  command  break  breaks  you  out  of  the  code  block.  Use  with
     caution!
     </li>
     <li class="itemize">There  is  a  cheat  that  comes  in  handy  when  you  are  writing  a
     complicated program and want to put in the code blocks but don&#8217;t
     want them to DO anything yet: the command pass does nothing and
     can be used to stand in for a code block.</li></ul>
                                                                     

                                                                     
<!--l. 5212--><p class="indent" >   Good housekeeping Tip #2: Always use only spaces or only tabs in your code
indentation. I use only spaces because I use vi to write my code. Others use
Xcode, the Python IDLE program, or TextWrangler to write their code and some
of these things use tabs by default. Whatever you do BE CONSISTENT because
tabs are not the same as spaces in Python even if you can&#8217;t tell the difference just
by looking at it.
<!--l. 5217--><p class="indent" >   In the following, I&#8217;ll show you how Python uses code blocks to create &#8220;do&#8221;
and &#8220;while&#8221; loops, and &#8220;if&#8221; statements.
<!--l. 5219--><p class="noindent" >
<!--l. 5219--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1860006.5" id="x1-1860006.5">The for loop</a></h5>
<!--l. 5220--><p class="noindent" >
<!--l. 5220--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1870006.5" id="x1-1870006.5">Looping through lists</a></h5>
<!--l. 5222--><p class="noindent" >Here is an example of a simple &#8220;for loop&#8221;:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-197">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />mylist=[42,&#8216;spam&#8217;,&#8216;ocelot&#8217;]
&#x00A0;<br />for&#x00A0;i&#x00A0;in&#x00A0;range(0,len(mylist),1):&#x00A0;#&#x00A0;note&#x00A0;absence&#x00A0;of&#x00A0;Indices&#x00A0;list,&#x00A0;start&#x00A0;and&#x00A0;step
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print&#x00A0;mylist[i]
&#x00A0;<br />print&#x00A0;&#8217;All&#x00A0;done&#8217;
</div>
<!--l. 5231--><p class="nopar" >
<!--l. 5233--><p class="indent" >   This script creates the list mylist with the line mylist=[42,&#8216;spam&#8217;,&#8216;ocelot&#8217;].
The length of mylist is an integer value returned by len(mylist). The script uses
this integer as the &#8216;stop&#8217; value in the range() function, which returns a list of
integers from 0 to the stop value MINUS ONE at intervals of one. [ The minus
one convention is hard to get use to for Fortran programmers, but it is
typical of Python syntax (and also of C) so just deal with it.] Anyway,
range(start,stop,step) is just like numpy.arange(start,stop,step) but returns
integers instead of floats. Also, like numpy.arange(), there is a short hand form
when the minimum is zero and the interval is one, so we could (and will) just use
the command range(stop).
<!--l. 5235--><p class="indent" >   Python makes <span 
class="cmmi-10x-x-109">i </span>step through the list of numbers from 0 to 2, printing the <span 
class="cmmi-10x-x-109">i</span><sup><span 
class="cmmi-8">th</span></sup>
element of mylist. Note how the print command is indented - this is the program
block that is executed for each <span 
class="cmmi-10x-x-109">i</span>. Note also that the line could have been on the
previous line after the colon, because there is only one line in the program
block. But never-mind, this way works too. When <span 
class="cmmi-10x-x-109">i </span>finishes it&#8217;s business,
the program block terminates. At that point, the program prints out
the &#8217;All done&#8217; string. There is no &#8220;enddo&#8221; statement or equivalent in
Python.
<!--l. 5237--><p class="indent" >   But, Python is far more fun than the old-school for i in syntax in the above
code snippet. In Python we can just step through a list directly. Here is another
script which does just that (why not?):
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-198">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />mylist=[42,&#8216;spam&#8217;,&#8216;ocelot&#8217;]
&#x00A0;<br />for&#x00A0;item&#x00A0;in&#x00A0;mylist:&#x00A0;#&#x00A0;note&#x00A0;absence&#x00A0;of&#x00A0;range&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;item
&#x00A0;<br />print&#x00A0;&#8217;All&#x00A0;done&#8217;
</div>
<!--l. 5245--><p class="nopar" >
<!--l. 5247--><p class="noindent" >Note that of course we could have used any variable name instead of &#8216;item&#8217;,
but it makes sense to use variable names that mean what they do. It is
easier to understand what &#8216;item&#8217; stands for than just the Fortran style of
<span 
class="cmmi-10x-x-109">i</span>.
<!--l. 5249--><p class="indent" >   Here is an example with a little more heft to it. It creates a table of
trigonometry functions, spitting them out with a formatted print statement:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-199">
#!&#x00A0;/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;numpy&#x00A0;as&#x00A0;np
&#x00A0;<br />deg2rad&#x00A0;=&#x00A0;np.pi/180.&#x00A0;#&#x00A0;remember&#x00A0;conversion&#x00A0;to&#x00A0;radians
&#x00A0;<br />for&#x00A0;theta&#x00A0;in&#x00A0;range(90):&#x00A0;#&#x00A0;short&#x00A0;form&#x00A0;of&#x00A0;range,&#x00A0;returns&#x00A0;[0,1,2...89]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;ctheta&#x00A0;=&#x00A0;np.cos(theta*deg2rad)&#x00A0;#&#x00A0;define&#x00A0;ctheta&#x00A0;as&#x00A0;cosine&#x00A0;of&#x00A0;theta
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;stheta&#x00A0;=&#x00A0;np.sin(theta*deg2rad)#&#x00A0;define&#x00A0;stheta&#x00A0;as&#x00A0;&#x00A0;sine&#x00A0;of&#x00A0;theta
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;ttheta&#x00A0;=&#x00A0;np.tan(theta*deg2rad)&#x00A0;&#x00A0;&#x00A0;#&#x00A0;define&#x00A0;ttheta&#x00A0;as&#x00A0;tangent&#x00A0;of&#x00A0;theta
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;%5.1f&#x00A0;%8.4f&#x00A0;%8.4f&#x00A0;%8.4f&#8217;&#x00A0;%(theta,&#x00A0;ctheta,&#x00A0;stheta,&#x00A0;ttheta)
&#x00A0;<br />&#x00A0;
</div>
<!--l. 5260--><p class="nopar" >
<!--l. 5262--><p class="indent" >   Let&#8217;s pick this one apart a bit. First, notice the use of the variable deg2rad to
convert from degrees to radians. Also notice how deg2rad is defined: deg2rad =
np.pi/180. using the NumPy function for <span 
class="cmmi-10x-x-109">&#x03C0; </span>and the decimal point after 180.
While in this case, it makes absolutely no difference (try it!), it is a good
practice to use real numbers if you want your variable to stay real. In
fact:
<!--l. 5265--><p class="indent" >   Good housekeeping Tip #3: Always use a decimal if you want your variable
to be a floating point variable.
<!--l. 5267--><p class="indent" >   The expression ctheta = np.cos(theta*deg2rad) uses the numpy cosine
function. Ideally theta should be a real variable while in fact it is an integer in
this expression, but fortunately Python figures that out and converts it to a real.
Note that we could have also converted theta to a float first with the command
float(theta).
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-200">
print&#x00A0;&#8217;%5.1f&#x00A0;%8.4f&#x00A0;%8.4f&#x00A0;%8.4f&#8217;&#x00A0;%(theta,&#x00A0;ctheta,&#x00A0;stheta,&#x00A0;ttheta)
</div>
<!--l. 5272--><p class="nopar" >
<!--l. 5274--><p class="noindent" >To make the output look nice, we do not use
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-201">
print&#x00A0;theta,&#x00A0;ctheta,&#x00A0;stheta,&#x00A0;ttheta
</div>
<!--l. 5278--><p class="nopar" >
<!--l. 5280--><p class="noindent" >which would space the numbers irregularly among the columns and put out
really long numbers. Instead, we explicitly specify the output format. The
output format is given in the quotes. The format for each number follows
the %, 5.1f is for 5 spaces of floating point output, with 1 space to the
right of the decimal point. The single blank space between %5.1f and
%8.4f is included in the output, in fact any text there is reproduced
exactly in the output, thus to put commas between the output numbers,
write:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-202">
print&#x00A0;&#8217;%5.1f,&#x00A0;%8.4f,&#x00A0;%8.4f,&#x00A0;%8.4f&#8217;&#x00A0;%(theta,&#x00A0;ctheta,&#x00A0;stheta,&#x00A0;ttheta)
</div>
<!--l. 5290--><p class="nopar" >
<!--l. 5292--><p class="noindent" >Tabs (<span 
class="cmsy-10x-x-109">\</span>t) would be formatted like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-203">
print&#x00A0;&#8217;%5.1f&#x00A0;&#8217;\t&#8217;&#x00A0;%8.4f&#8217;\t&#8217;&#x00A0;&#x00A0;%8.4f,\t&#8217;&#x00A0;%8.4f&#8217;&#x00A0;%(theta,&#x00A0;ctheta,&#x00A0;stheta,&#x00A0;ttheta)
</div>
<!--l. 5296--><p class="nopar" > 
<!--l. 5298--><p class="noindent" >
<!--l. 5298--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1880006.5" id="x1-1880006.5">Looping through arrays</a></h5>
<!--l. 5300--><p class="noindent" >We just learned that for loops with lists just step through item by item. In
n-dimensional arrays, they steps through row by row (like in slicing). For
example,
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-204">
&#x003E;&#x003E;&#x003E;&#x00A0;for&#x00A0;r&#x00A0;in&#x00A0;B:
&#x00A0;<br />...&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;r
&#x00A0;<br />...
&#x00A0;<br />[&#x00A0;0.&#x00A0;&#x00A0;1.&#x00A0;&#x00A0;2.&#x00A0;&#x00A0;3.&#x00A0;&#x00A0;4.&#x00A0;&#x00A0;5.]
&#x00A0;<br />[&#x00A0;&#x00A0;6.&#x00A0;&#x00A0;&#x00A0;7.&#x00A0;&#x00A0;&#x00A0;8.&#x00A0;&#x00A0;&#x00A0;9.&#x00A0;&#x00A0;10.&#x00A0;&#x00A0;11.]
&#x00A0;<br />[&#x00A0;12.&#x00A0;&#x00A0;13.&#x00A0;&#x00A0;14.&#x00A0;&#x00A0;15.&#x00A0;&#x00A0;16.&#x00A0;&#x00A0;17.]
&#x00A0;<br />[&#x00A0;18.&#x00A0;&#x00A0;19.&#x00A0;&#x00A0;20.&#x00A0;&#x00A0;21.&#x00A0;&#x00A0;22.&#x00A0;&#x00A0;23.]
&#x00A0;<br />[&#x00A0;24.&#x00A0;&#x00A0;25.&#x00A0;&#x00A0;26.&#x00A0;&#x00A0;27.&#x00A0;&#x00A0;28.&#x00A0;&#x00A0;29.]
</div>
<!--l. 5312--><p class="nopar" >
<!--l. 5314--><p class="indent" >   If you really want to step through element by element, you can use
the ravel() method which flattens an N-dimensional array to a single
dimension:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-205">
&#x003E;&#x003E;&#x003E;&#x00A0;for&#x00A0;e&#x00A0;in&#x00A0;B.ravel():
&#x00A0;<br />...&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#x00A0;e
&#x00A0;<br />...
&#x00A0;<br />0.0
&#x00A0;<br />1.0
&#x00A0;<br />2.0
&#x00A0;<br />3.0
&#x00A0;<br />etc.
</div>
<!--l. 5325--><p class="nopar" >
<!--l. 5327--><p class="indent" >   For more on looping (or iterating), see:
<!--l. 5329--><p class="indent" >   <a 
href="http://docs.scipy.org/doc/numpy/reference/arrays.nditer.html" class="url" ><span 
class="cmtt-10x-x-109">http://docs.scipy.org/doc/numpy/reference/arrays.nditer.html</span></a>
<!--l. 5333--><p class="noindent" >
<!--l. 5333--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1890006.5" id="x1-1890006.5">If and while blocks</a></h5>
<!--l. 5335--><p class="noindent" >The &#8220;for loop&#8221; is just one way of controlling flow in Python. There are also if and
while code blocks. These execute code blocks the same way as for loops (colon
terminated top statements, indented text, etc.). For both of these, the code block
is executed if the top statement is TRUE. For the &#8220;if&#8221; block, the code is executed
once but in a &#8220;while&#8221; block, the code keeps executing as long as the statement
remains TRUE.
<!--l. 5337--><p class="indent" >   The key to flow control therefore is in the top statement of each code block; if
it is TRUE, then execute, otherwise skip it. To decide if something is TRUE or
not (in the boolean sense), we need to evaluate a statement using comparisons.
Here&#8217;s a handy table with comparisons (relational operators) in different
languages:
   <div  
class="centerline">                                         Comparisons                                         </div>
<!--tex4ht:inline--><div class="tabular"> <table id="TBL-12" class="tabular" 
cellspacing="0" cellpadding="0"  
><colgroup id="TBL-12-1g"><col 
id="TBL-12-1"><col 
id="TBL-12-2"><col 
id="TBL-12-3"><col 
id="TBL-12-4"><col 
id="TBL-12-5"><col 
id="TBL-12-6"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-1"  
class="td11">F 77 </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-2"  
class="td11">F90   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-3"  
class="td11">C     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-4"  
class="td11">MATLAB </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-5"  
class="td11">PYTHON </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-1-6"  
class="td11">meaning                    </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-1"  
class="td11">.eq.   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-2"  
class="td11">==   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-3"  
class="td11">==  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-4"  
class="td11">==         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-5"  
class="td11">==          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-2-6"  
class="td11">equals                       </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-1"  
class="td11">.ne.   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-2"  
class="td11">/=    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-3"  
class="td11">!=    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-4"  
class="td11"><span 
class="cmsy-10x-x-109">~</span>=         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-5"  
class="td11">!=           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-3-6"  
class="td11">does not equal            </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-1"  
class="td11">.lt.    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-2"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;   </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-5"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-4-6"  
class="td11">less than                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-1"  
class="td11">.le.    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-2"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;</span>=   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;</span>=  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;</span>=         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-5"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003C;</span>=          </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-5-6"  
class="td11">less than or equal to     </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-1"  
class="td11">.gt.    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-2"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E;    </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E;          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-5"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E;          </span></td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-6-6"  
class="td11">greater than               </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-1"  
class="td11">.ge.   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-2"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E; </span>=  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-3"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E; </span>= </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-4"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E; </span>=        </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-5"  
class="td11"><span 
class="cmmi-10x-x-109">&#x003E; </span>=         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-7-6"  
class="td11">greater than or equal to</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-1"  
class="td11">.and. </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-2"  
class="td11">.and. </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-3"  
class="td11">&amp;     </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-4"  
class="td11">         </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-5"  
class="td11">&amp;            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-8-6"  
class="td11">and                           </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-12-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-9-1"  
class="td11">.or.    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-9-2"  
class="td11">.or.   </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-9-3"  
class="td11">&#8212;&#8212; </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-9-4"  
class="td11">&#8212;           </td><td  style="white-space:nowrap; text-align:left;" id="TBL-12-9-5"  
class="td11">or            </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-12-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-12-10-1"  
class="td11">     </td></tr></table></div>
<!--l. 5356--><p class="indent" >   These operators can be combined to make complex tests. Here is a juicy
complicated statement:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-206">
&#x00A0;&#x00A0;&#x00A0;if&#x00A0;(&#x00A0;(a&#x00A0;&#x003E;&#x00A0;b&#x00A0;and&#x00A0;c&#x00A0;&#x003C;=&#x00A0;0)&#x00A0;or&#x00A0;d&#x00A0;==&#x00A0;0):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;code&#x00A0;block
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 5361--><p class="nopar" > There are rules for the order of operations for these things like, multiplication
gets done before addition. But these are easy to forget. You can look it up in the
documentation if you are unsure or, better, just put in enough parenthesis to
make it completely clear to anyone reading your code.
<!--l. 5367--><p class="noindent" >Good housekeeping Tip #4: Use parentheses liberally - make the order of
operation completely unambiguous even if you could get away with fewer.
<!--l. 5371--><p class="indent" >   One nice aspect of Python compared to C is that if you make a mistake and
type, for example,
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-207">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;if&#x00A0;(a&#x00A0;=&#x00A0;0):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;
</div>
<!--l. 5376--><p class="nopar" >
<!--l. 5378--><p class="noindent" >you will get an error message during compilation. In C this is a valid statement
with a completely different meaning than is intended!
<!--l. 5383--><p class="noindent" >
<!--l. 5383--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1900006.5" id="x1-1900006.5">Finer points of &#8216;if&#8217; blocks</a></h5>
<!--l. 5385--><p class="noindent" >The simplest &#8216;if&#8217; block works just like we have described:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-208">
if&#x00A0;(2+2)==4:&#x00A0;#&#x00A0;note&#x00A0;the&#x00A0;use&#x00A0;of&#x00A0;&#8217;==&#8217;&#x00A0;and&#x00A0;parentheses&#x00A0;in&#x00A0;comparison&#x00A0;statement
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8216;I&#x00A0;can&#x00A0;put&#x00A0;two&#x00A0;and&#x00A0;two&#x00A0;together!&#8217;
</div>
<!--l. 5389--><p class="nopar" >
<!--l. 5391--><p class="indent" >   However, as in any other reasonable programming language, there are
whistles and bells to the &#8216;if&#8217; code blocks. In Python these are: elif and else. A
code block gets executed if the top if statement is FALSE and the elif statement
is TRUE. If both the top if and the elif statements are FALSE but the else
statement is TRUE, then Python will execute the block following the else.
Consider these examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-209">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />mylist=[&#8217;jane&#8217;,&#8217;doug&#8217;,&#8217;denise&#8217;]
&#x00A0;<br />if&#x00A0;&#8217;susie&#8217;&#x00A0;in&#x00A0;mylist:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;pass&#x00A0;#&#x00A0;don&#8217;t&#x00A0;do&#x00A0;anything
&#x00A0;<br />if&#x00A0;&#8217;susie&#8217;&#x00A0;not&#x00A0;in&#x00A0;mylist:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;call&#x00A0;susie&#x00A0;and&#x00A0;apologize!&#8217;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;mylist.append(&#8217;susie&#8217;)
&#x00A0;<br />elif&#x00A0;&#8217;george&#8217;&#x00A0;in&#x00A0;mylist:&#x00A0;#&#x00A0;if&#x00A0;first&#x00A0;statement&#x00A0;is&#x00A0;false,&#x00A0;try&#x00A0;this&#x00A0;one
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;susie&#x00A0;and&#x00A0;george&#x00A0;both&#x00A0;in&#x00A0;list&#8217;
&#x00A0;<br />else:&#x00A0;#&#x00A0;if&#x00A0;both&#x00A0;statements&#x00A0;are&#x00A0;false,&#x00A0;do&#x00A0;this:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;print&#x00A0;"susie&#x00A0;in&#x00A0;list&#x00A0;but&#x00A0;george&#x00A0;isn&#8217;t"
</div>
<!--l. 5406--><p class="nopar" >
<!--l. 5408--><p class="noindent" >
<!--l. 5408--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1910006.5" id="x1-1910006.5">While loops</a></h5>
<!--l. 5410--><p class="noindent" >As already mentioned, the &#8216;while&#8217; block continues executing as long as the while
top statement is TRUE. In other words, the if block is only executed once, while
the while block keeps looping until the statement turns FALSE. Here are a few
examples:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-210">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />a=1
&#x00A0;<br />while&#x00A0;a&#x00A0;&#x003C;&#x00A0;10:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;a
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;a+=1
&#x00A0;<br />print&#x00A0;"I&#8217;m&#x00A0;done&#x00A0;counting!"
</div>
<!--l. 5420--><p class="nopar" >
<!--l. 5422--><p class="noindent" >
<!--l. 5422--><p class="indent" >   <a name='subsubsec6-5-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1920006.5" id="x1-1920006.5">Code blocks in interactive Python</a></h5>
<!--l. 5424--><p class="noindent" >All of these program blocks can also be done in an interactive session also using
indentation. The interactive shell responds with &#8217;.....&#8217; instead of &#8217;<span 
class="cmmi-10x-x-109">&#x003E;&#x003E;&#x003E;</span>&#8217; once you
type a statement it recognizes as a top statement. To signal that you are done
with the program block, simply hit return:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-211">
&#x003E;&#x003E;&#x003E;&#x00A0;a=1
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;while&#x00A0;a&#x003C;10:
&#x00A0;<br />....&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;a
&#x00A0;<br />....&#x00A0;&#x00A0;&#x00A0;&#x00A0;a+=1
&#x00A0;<br />....[return&#x00A0;to&#x00A0;execute&#x00A0;block]
</div>
<!--l. 5433--><p class="nopar" >
<!--l. 5437--><p class="noindent" >
<!--l. 5437--><p class="indent" >   <a name='sec6-6'></a><h3 class="sectionHead"><span class="titlemark">6.6   </span> <a 
href="#QQ2-1-193" id="x1-1930006.6">File I/O in Python</a></h3>
<!--l. 5439--><p class="noindent" >Python would be no better than a rather awkward graphing calculator (and we
haven&#8217;t even gotten to the graphing part yet) if we couldn&#8217;t read data in and spit
data out. You learned a rudimentary way of spitting stuff out already using the
print statement, but there is a lot more to file I/O in Python. We would like to
be able to read in a variety of file formats and output the data any way we want.
In the following we will explore some of the more useful I/O options in
Python.
<!--l. 5444--><p class="noindent" >
<!--l. 5444--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1940006.6" id="x1-1940006.6">Reading data in</a></h5>
<!--l. 5445--><p class="noindent" >
<!--l. 5445--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1950006.6" id="x1-1950006.6">From a file</a></h5>
<!--l. 5446--><p class="noindent" ><a name='raw_input'></a>
<!--l. 5448--><p class="indent" >   If you are using Python interactively or want interactivity in a script, use the
command: raw_input(). It acts as a prompt and reads in whatever is supplied
prior to a return as a string.
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-212">
X=[]&#x00A0;#&#x00A0;make&#x00A0;a&#x00A0;list&#x00A0;to&#x00A0;put&#x00A0;the&#x00A0;data&#x00A0;in
&#x00A0;<br />ans=float(raw_input("Input&#x00A0;numeric&#x00A0;value&#x00A0;for&#x00A0;X:&#x00A0;&#x00A0;"))
&#x00A0;<br />X.append(ans)&#x00A0;#&#x00A0;append&#x00A0;the&#x00A0;value&#x00A0;to&#x00A0;X
&#x00A0;<br />print&#x00A0;X[-1]&#x00A0;#&#x00A0;print&#x00A0;the&#x00A0;last&#x00A0;item&#x00A0;in&#x00A0;the&#x00A0;list
</div>
<!--l. 5455--><p class="nopar" > In this example, the variable ans will be read in as a string variable, converted to
a float and appended to the list, X. raw_input() is a simple but rather annoying
way to enter things into a program. Another (less annoying) way is put the data
in a file (e.g., myfile.txt) with cat, paste, Excel (saved as a text file), or
whatever and read it into Python. The procedure is straight-forward: we
must first open the file, then read it in and parse lines into the desired
variables.
<!--l. 5460--><p class="indent" >   To open a file we use the command open(), one of Python&#8217;s built-in functions.
For a complete list of these, see:
<!--l. 5462--><p class="indent" >   <a 
href="http://docs.python.org/library/functions.html" class="url" ><span 
class="cmtt-10x-x-109">http://docs.python.org/library/functions.html</span></a>
<!--l. 5464--><p class="noindent" >The open() function returns an object, complete with methods, like readlines()
which, yes, reads all the lines. Suppose you have a file containing the coordinates
of some seismic stations which you want to plot on a map or something. (In fact,
it is in the <a 
href="#Datafiles" >Datafiles_2.0/LearningPython</a> directory of the Datafiles_2.0 package
you can download). The file is called station.list and its first five lines
are:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-213">
&#x00A0;&#x00A0;&#x00A0;9.02920&#x00A0;&#x00A0;&#x00A0;38.76560&#x00A0;2442&#x00A0;AAE
&#x00A0;<br />&#x00A0;&#x00A0;42.63900&#x00A0;&#x00A0;&#x00A0;74.49400&#x00A0;1645&#x00A0;AAK
&#x00A0;<br />&#x00A0;&#x00A0;37.93040&#x00A0;&#x00A0;&#x00A0;58.11890&#x00A0;&#x00A0;678&#x00A0;ABKT
&#x00A0;<br />&#x00A0;&#x00A0;51.88370&#x00A0;-176.68440&#x00A0;&#x00A0;116&#x00A0;ADK
&#x00A0;<br />&#x00A0;-13.90930&#x00A0;-171.77730&#x00A0;&#x00A0;706&#x00A0;AFI
&#x00A0;<br />&#x00A0;
</div>
<!--l. 5474--><p class="nopar" > Here is a script (ReadStations.py that will open a file station.list, read in the
data and print it out line by line.  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-214">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />f=open(&#8217;station.list&#8217;)
&#x00A0;<br />StationNFO=f.readlines()
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;line
</div>
<!--l. 5482--><p class="nopar" >
<!--l. 5484--><p class="indent" >   If you run this script, you will get this behavior:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-215">
%&#x00A0;ReadStations.py
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;9.02920&#x00A0;&#x00A0;&#x00A0;38.76560&#x00A0;2442&#x00A0;AAE
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;42.63900&#x00A0;&#x00A0;&#x00A0;74.49400&#x00A0;1645&#x00A0;AAK
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;37.93040&#x00A0;&#x00A0;&#x00A0;58.11890&#x00A0;&#x00A0;678&#x00A0;ABKT
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;51.88370&#x00A0;-176.68440&#x00A0;&#x00A0;116&#x00A0;ADK
&#x00A0;<br />&#x00A0;&#x00A0;etc.
&#x00A0;<br />&#x00A0;&#x00A0;
</div>
<!--l. 5495--><p class="nopar" >
<!--l. 5497--><p class="noindent" >The function open() has some bells and whistles to it and has the form
open(name[, mode[, buffering]) where the stuff in square brackets is optional.
The &#8216;name&#8217; argument is the file name to open and &#8216;mode&#8217; is the way in
which it should be opened, most commonly for reading &#8217;r&#8217;, writing &#8217;w&#8217; or
appending &#8217;a&#8217;. I use the form &#8217;rU&#8217; for unformatted reading because I
often want to read in files that were saved in Dos, Mac OR Unix line
endings and &#8217;rU&#8217; figures all that out for you. Just in case you are curious,
Unix lines end in &#8217;<span 
class="cmsy-10x-x-109">\</span>n&#8217;, Mac files in &#8217;<span 
class="cmsy-10x-x-109">\</span>r&#8217; and Dos (and windows) lines end
in &#8217;<span 
class="cmsy-10x-x-109">\</span>r<span 
class="cmsy-10x-x-109">\</span>n&#8217;. I never use the &#8217;buffering&#8217; argument and don&#8217;t know what it
does.
<!--l. 5499--><p class="indent" >   If you are curious about the line endings, try typing out the &#8216;representation&#8217;
of the line repr(line) in the above script and you get all the stuff that is normally
invisible like the apostrophes and the line terminations:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-216">
%&#x00A0;ReadStations.py
&#x00A0;<br />&#8217;&#x00A0;&#x00A0;&#x00A0;9.02920&#x00A0;&#x00A0;&#x00A0;38.76560&#x00A0;2442&#x00A0;AAE&#x00A0;\n&#8217;
&#x00A0;<br />&#8217;&#x00A0;&#x00A0;42.63900&#x00A0;&#x00A0;&#x00A0;74.49400&#x00A0;1645&#x00A0;AAK&#x00A0;\n&#8217;
&#x00A0;<br />&#8217;&#x00A0;&#x00A0;37.93040&#x00A0;&#x00A0;&#x00A0;58.11890&#x00A0;&#x00A0;678&#x00A0;ABKT\n&#8217;
&#x00A0;<br />&#8217;&#x00A0;&#x00A0;51.88370&#x00A0;-176.68440&#x00A0;&#x00A0;116&#x00A0;ADK&#x00A0;\n&#8217;
&#x00A0;<br />&#8217;&#x00A0;-13.90930&#x00A0;-171.77730&#x00A0;&#x00A0;706&#x00A0;AFI&#x00A0;\n&#8217;
&#x00A0;<br />etc.
</div>
<!--l. 5509--><p class="nopar" >
<!--l. 5512--><p class="noindent" >Notice how in our first version, printing the line also printed the line feed (<span 
class="cmsy-10x-x-109">\</span>n) as
an extra line. To clean this off of each line, we can use the string strip()
function:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-217">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;line.strip(&#8217;\n&#8217;)
</div>
<!--l. 5516--><p class="nopar" >
<!--l. 5518--><p class="noindent" >Putting this into the code results in this behavior:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-218">
%&#x00A0;ReadStations.py
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;9.02920&#x00A0;&#x00A0;&#x00A0;38.76560&#x00A0;2442&#x00A0;AAE
&#x00A0;<br />&#x00A0;&#x00A0;42.63900&#x00A0;&#x00A0;&#x00A0;74.49400&#x00A0;1645&#x00A0;AAK
&#x00A0;<br />&#x00A0;&#x00A0;37.93040&#x00A0;&#x00A0;&#x00A0;58.11890&#x00A0;&#x00A0;678&#x00A0;ABKT
</div>
<!--l. 5525--><p class="nopar" >
<!--l. 5528--><p class="indent" >   Let&#8217;s say you want to read in the data table into lists called Lats, Lons, and
StaIDs (the first three columns). You need to split each line into its columns and
append the correct column into the appropriate list. Some languages
automatically split on the spaces but Python reads in the entire line as
a string and ignores the spaces or other possible delimiters (commas,
semi-colons, tabs, etc.). To split the line, we use the string function split([sep])
where [sep] is an optional separator. If no separator is specified (e.g.,
line.split()), it will split on spaces. Anything could be a separator, but the most
common ones are &#8217;,&#8217;, &#8217;;&#8217;, and &#8217;<span 
class="cmsy-10x-x-109">\</span>t&#8217;. The latter is how a tab appears if you
were to, say, print out the representation of the line, which shows all the
invisibles.
<!--l. 5530--><p class="indent" >   Here is a slightly modified version of ReadStations.py, ParseStations.py which
parses out the lines and puts numbers (floats or integers) in the right
lists:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-219">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />Lats,Lons,StaIDs,StaName=[],[],[]&#x00A0;,[]#&#x00A0;creates&#x00A0;lists&#x00A0;to&#x00A0;put&#x00A0;things&#x00A0;in
&#x00A0;<br />StationNFO=open(&#8217;station.list&#8217;).readlines()&#x00A0;#&#x00A0;combines&#x00A0;the&#x00A0;open&#x00A0;and&#x00A0;readlines&#x00A0;methods!
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nfo=line.strip(&#8217;\n&#8217;).split()&#x00A0;#&#x00A0;strips&#x00A0;off&#x00A0;the&#x00A0;line&#x00A0;ending&#x00A0;and&#x00A0;splits&#x00A0;on&#x00A0;spaces
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lats.append(float(nfo[0]))&#x00A0;#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;1st&#x00A0;column&#x00A0;into&#x00A0;Lats
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lons.append(float(nfo[1]))#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;2nd&#x00A0;column&#x00A0;into&#x00A0;Lons
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaIDs.append(int(nfo[2]))&#x00A0;#&#x00A0;puts&#x00A0;integer&#x00A0;of&#x00A0;3rd&#x00A0;column&#x00A0;into&#x00A0;StaIDs
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaName.append(nfo[3])#&#x00A0;puts&#x00A0;the&#x00A0;ID&#x00A0;string&#x00A0;into&#x00A0;StaName
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;Lats[-1],Lons[-1],StaIDs[-1]&#x00A0;#&#x00A0;prints&#x00A0;out&#x00A0;last&#x00A0;thing&#x00A0;appended
</div>
<!--l. 5543--><p class="nopar" >
<!--l. 5545--><p class="noindent" >
<!--l. 5545--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1960006.6" id="x1-1960006.6">From Standard Input </a></h5>
<!--l. 5547--><p class="noindent" >Python can also read from <a 
href="#standard_IO" >standard input</a>. To do this, we need a system specific
module, called sys which among other things has a stdin method. So, instead of
specifying a file name in the open command, we could substitute the following
line:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-220">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;sys
&#x00A0;<br />Lats,Lons,StaIDs,StaName=[],[],[]&#x00A0;,[]#&#x00A0;creates&#x00A0;lists&#x00A0;to&#x00A0;put&#x00A0;things&#x00A0;in
&#x00A0;<br />StationNFO=sys.stdin.readlines()&#x00A0;#&#x00A0;reads&#x00A0;from&#x00A0;standard&#x00A0;input
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nfo=line.strip(&#8217;\n&#8217;).split()&#x00A0;#&#x00A0;strips&#x00A0;off&#x00A0;the&#x00A0;line&#x00A0;ending&#x00A0;and&#x00A0;splits&#x00A0;on&#x00A0;spaces
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lats.append(float(nfo[0]))&#x00A0;#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;1st&#x00A0;column&#x00A0;into&#x00A0;Lats
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lons.append(float(nfo[1]))#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;2nd&#x00A0;column&#x00A0;into&#x00A0;Lons
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaIDs.append(int(nfo[2]))&#x00A0;#&#x00A0;puts&#x00A0;integer&#x00A0;of&#x00A0;3rd&#x00A0;column&#x00A0;into&#x00A0;StaIDs
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaName.append(nfo[3])#&#x00A0;puts&#x00A0;the&#x00A0;ID&#x00A0;string&#x00A0;into&#x00A0;StaName
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;Lats[-1],Lons[-1],StaIDs[-1]&#x00A0;#&#x00A0;prints&#x00A0;out&#x00A0;last&#x00A0;thing&#x00A0;appended
</div>
<!--l. 5562--><p class="nopar" >
<!--l. 5564--><p class="noindent" >The program can be invoked with:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-221">
%&#x00A0;ReadStations.py&#x00A0;&#x003C;&#x00A0;station.list
</div>
<!--l. 5568--><p class="nopar" >
<!--l. 5570--><p class="indent" >   We could also use command line switches by reading in arguments from the
command line. In the following example, we use the switch &#8217;-f&#8217; with the following
argument begin the file name:
<!--l. 5572--><p class="noindent" >
<!--l. 5572--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1970006.6" id="x1-1970006.6">Command line switches</a></h5>
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-222">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;sys
&#x00A0;<br />Lats,Lons,StaIDs,StaName=[],[],[]&#x00A0;,[]#&#x00A0;creates&#x00A0;lists&#x00A0;to&#x00A0;put&#x00A0;things&#x00A0;in
&#x00A0;<br />if&#x00A0;&#8217;-f&#8217;&#x00A0;in&#x00A0;sys.argv:&#x00A0;&#x00A0;#&#x00A0;look&#x00A0;in&#x00A0;list&#x00A0;of&#x00A0;command&#x00A0;line&#x00A0;arguments
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;file=sys.argv[sys.argv.index(&#8217;-f&#8217;)+1]&#x00A0;#&#x00A0;find&#x00A0;index&#x00A0;of&#x00A0;&#8217;-f&#8217;&#x00A0;and&#x00A0;increment&#x00A0;by&#x00A0;one
&#x00A0;<br />StationNFO=open(file,&#8217;rU&#8217;).readlines()&#x00A0;#&#x00A0;open&#x00A0;file
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nfo=line.strip(&#8217;\n&#8217;).split()&#x00A0;#&#x00A0;strips&#x00A0;off&#x00A0;the&#x00A0;line&#x00A0;ending&#x00A0;and&#x00A0;splits&#x00A0;on&#x00A0;spaces
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lats.append(float(nfo[0]))&#x00A0;#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;1st&#x00A0;column&#x00A0;into&#x00A0;Lats
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Lons.append(float(nfo[1]))#&#x00A0;puts&#x00A0;float&#x00A0;of&#x00A0;2nd&#x00A0;column&#x00A0;into&#x00A0;Lons
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaIDs.append(int(nfo[2]))&#x00A0;#&#x00A0;puts&#x00A0;integer&#x00A0;of&#x00A0;3rd&#x00A0;column&#x00A0;into&#x00A0;StaIDs
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaName.append(nfo[3])#&#x00A0;puts&#x00A0;the&#x00A0;ID&#x00A0;string&#x00A0;into&#x00A0;StaName
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;Lats[-1],Lons[-1],StaIDs[-1]&#x00A0;#&#x00A0;prints&#x00A0;out&#x00A0;last&#x00A0;thing&#x00A0;appended
</div>
<!--l. 5588--><p class="nopar" >
<!--l. 5590--><p class="noindent" >This version can be invoked with:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-223">
%&#x00A0;ReadStations.py&#x00A0;-f&#x00A0;&#x00A0;station.list
</div>
<!--l. 5594--><p class="nopar" >
<!--l. 5596--><p class="noindent" >
<!--l. 5596--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1980006.6" id="x1-1980006.6">Reading numeric files</a></h5>
<!--l. 5598--><p class="noindent" >In the special case where the data in a file are entirely numeric, you can read in
the file with a special numpy function loadtxt(). This reads the data into
a list whereby each element of the list is a list of numbers from each
line.
<!--l. 5600--><p class="noindent" >
<!--l. 5600--><p class="indent" >   <a name='subsubsec6-6-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-1990006.6" id="x1-1990006.6">Writing data out</a></h5>
<!--l. 5602--><p class="noindent" >Let&#8217;s say I have a Python module that will convert latitudes and longitudes to
UTM coordinates. O.K. I really do have one that I downloaded from
here:
<!--l. 5604--><p class="indent" >   <a 
href="http://code.google.com/p/pyproj/issues/attachmentText?id=27\&aid=-80884174771817564 \&name=UTM.py\&token=46ab62caa041c3f240ca0e55b7b25ad6" class="url" ><span 
class="cmtt-10x-x-109">http://code.google.com/p/pyproj/issues/attachmentText?id=27\&amp;aid=-80884174771817564\&amp;name=UTM.py\&amp;token=46ab62caa041c3f240ca0e55b7b25ad6</span></a>
<!--l. 5606--><p class="noindent" >I wrote a script (ConvertStations.py) to convert each of the stations in my list to
their UTM equivalents (assuming these were in a WGS-84 ellipsoid). It would
be nice if after having done this to the data, I could then write it out
somehow, preferably to a file. Of course I could use the print command like
this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-224">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;UTM&#x00A0;#&#x00A0;imports&#x00A0;the&#x00A0;UTM&#x00A0;module
&#x00A0;<br />Ellipsoid=23-1&#x00A0;#&#x00A0;UTMs&#x00A0;code&#x00A0;for&#x00A0;WGS-84
&#x00A0;<br />StationNFO=open(&#8217;station.list&#8217;).readlines()
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nfo=line.strip(&#8217;\n&#8217;).split()
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;lat=float(nfo[0])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;lon=float(nfo[1])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaName=&#x00A0;nfo[3]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zone,Easting,&#x00A0;Northing=UTM.LLtoUTM(Ellipsoid,lon,lat)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;StaName,&#x00A0;&#8217;:&#x00A0;&#8217;,&#x00A0;Easting,&#x00A0;Northing,&#x00A0;Zone
&#x00A0;<br />&#x00A0;
</div>
<!--l. 5621--><p class="nopar" >
<!--l. 5623--><p class="noindent" >which spits out something like this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-225">
%&#x00A0;ConvertStations.py
&#x00A0;<br />AAE&#x00A0;:&#x00A0;&#x00A0;474238.170087&#x00A0;998088.469113&#x00A0;37P
&#x00A0;<br />AAK&#x00A0;:&#x00A0;&#x00A0;458516.115522&#x00A0;4720850.45385&#x00A0;43T
&#x00A0;<br />ABKT&#x00A0;:&#x00A0;&#x00A0;598330.712671&#x00A0;4198681.92944&#x00A0;40S
&#x00A0;<br />ADK&#x00A0;:&#x00A0;&#x00A0;521722.179764&#x00A0;5748148.625&#x00A0;1U
&#x00A0;<br />AFI&#x00A0;:&#x00A0;&#x00A0;416023.683618&#x00A0;8462168.07766&#x00A0;2L
&#x00A0;<br />etc.
</div>
<!--l. 5634--><p class="nopar" >
<!--l. 5636--><p class="noindent" >I could save the output with a UNIX re-direct:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-226">
ConvertStations.py&#x00A0;&#x003E;&#x00A0;mynewfile
&#x00A0;<br />&#x00A0;
</div>
<!--l. 5640--><p class="nopar" >
<!--l. 5642--><p class="indent" >   But we yearn for more. So, more elegantly, I can open an output file [for
appending &#8216;a&#8217; or (over)writing &#8217;w&#8217;] write a formatted string using the write
method on the output file object with format string:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-227">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;UTM&#x00A0;#&#x00A0;imports&#x00A0;the&#x00A0;UTM&#x00A0;module
&#x00A0;<br />outfile=open(&#8217;mynewfile&#8217;,&#8217;w&#8217;)&#x00A0;#&#x00A0;creates&#x00A0;outfile&#x00A0;object
&#x00A0;<br />Ellipsoid=23-1&#x00A0;#&#x00A0;UTMs&#x00A0;code&#x00A0;for&#x00A0;WGS-84
&#x00A0;<br />StationNFO=open(&#8217;station.list&#8217;).readlines()
&#x00A0;<br />for&#x00A0;line&#x00A0;&#x00A0;in&#x00A0;StationNFO:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;nfo=line.strip(&#8217;\n&#8217;).split()
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;lat=float(nfo[0])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;lon=float(nfo[1])
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;StaName=&#x00A0;nfo[3]
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;Zone,Easting,&#x00A0;Northing=UTM.LLtoUTM(Ellipsoid,lon,lat)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;outfile.write(&#8217;%s&#x00A0;&#x00A0;%s&#x00A0;&#x00A0;%s&#x00A0;&#x00A0;%s\n&#8217;%(StaName,&#x00A0;Easting,&#x00A0;Northing,&#x00A0;Zone))
</div>
<!--l. 5657--><p class="nopar" >
<!--l. 5659--><p class="noindent" >The only significant changes are 1) the object outfile is opened for writing. Note
that this will clobber anything in a pre-existing file by that name and 2) the
output file gets written to in the statement with a write method on the output
file object:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-228">
&#x00A0;&#x00A0;&#x00A0;&#x00A0;outfile.write(&#8217;%s&#x00A0;&#x00A0;%s&#x00A0;&#x00A0;%s&#x00A0;&#x00A0;%s\n&#8217;%(StaName,&#x00A0;Easting,&#x00A0;Northing,&#x00A0;Zone))
</div>
<!--l. 5663--><p class="nopar" > The write statement uses the syntax: &#8217;format string&#8217;%(list of variables tuple).
Format strings have these rules:
     <ul class="itemize1">
     <li class="itemize">For each variable in (what you...) you need a format: %s for string, %i
     for integer, %f for float, %e for exponent
     </li>
     <li class="itemize">you can also specify further, e.g.: %7.1f for 7 characters with 1 after
     the decimal %10.3e for 10 characters with 3 after the decimal
     </li>
     <li class="itemize">where the number of characters include the decimal and padded spaces
     </li>
     <li class="itemize">As noted before, the format string can include punctuation:</li></ul>
                                                                     

                                                                     
<div class="verbatim" id="verbatim-229">
x,y=4.82,2.3e3
&#x00A0;<br />print&#x00A0;&#8217;%7.1f,%s\t%10.3e&#8217;%(x,&#8217;hi&#x00A0;there&#8217;,y)
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;4.8,hi&#x00A0;there &#x00A0;2.300e+03
</div>
<!--l. 5679--><p class="nopar" >
     <ul class="itemize1">
     <li class="itemize">In the ConvertStations2.py script, the &#8217;<span 
class="cmsy-10x-x-109">\</span>n&#8217; string puts a UNIX line
     ending on it. Without that, the whole file is but a single line (very
     annoying).</li></ul>
<!--l. 5687--><p class="noindent" >A session using the script (ConvertStations2.py and a peek at the resulting file
could look like this:  
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-230">
%&#x00A0;ConvertStations2.py
&#x00A0;<br />%&#x00A0;head&#x00A0;mynewfile
&#x00A0;<br />AAE&#x00A0;&#x00A0;474238.170087&#x00A0;&#x00A0;998088.469113&#x00A0;&#x00A0;37P
&#x00A0;<br />AAK&#x00A0;&#x00A0;458516.115522&#x00A0;&#x00A0;4720850.45385&#x00A0;&#x00A0;43T
&#x00A0;<br />ABKT&#x00A0;&#x00A0;598330.712671&#x00A0;&#x00A0;4198681.92944&#x00A0;&#x00A0;40S
&#x00A0;<br />ADK&#x00A0;&#x00A0;521722.179764&#x00A0;&#x00A0;5748148.625&#x00A0;&#x00A0;1U
&#x00A0;<br />AFI&#x00A0;&#x00A0;416023.683618&#x00A0;&#x00A0;8462168.07766&#x00A0;&#x00A0;2L
&#x00A0;<br />ALE&#x00A0;&#x00A0;509467.666259&#x00A0;&#x00A0;9161062.29194&#x00A0;&#x00A0;20X
&#x00A0;<br />ALQ&#x00A0;&#x00A0;366981.843985&#x00A0;&#x00A0;3868044.56906&#x00A0;&#x00A0;13S
&#x00A0;<br />ANMO&#x00A0;&#x00A0;366981.843985&#x00A0;&#x00A0;3868044.56906&#x00A0;&#x00A0;13S
&#x00A0;<br />ANTO&#x00A0;&#x00A0;482347.254856&#x00A0;&#x00A0;4413225.7807&#x00A0;&#x00A0;36S
&#x00A0;<br />AQU&#x00A0;&#x00A0;368638.770654&#x00A0;&#x00A0;4690300.1797&#x00A0;&#x00A0;33T
</div>
<!--l. 5701--><p class="nopar" >
<!--l. 5703--><p class="noindent" >The Unix head command types out the first 10 lines of a file but has no DOS
equivalent.
<!--l. 5706--><p class="noindent" >
<!--l. 5706--><p class="indent" >   <a name='sec6-7'></a><h3 class="sectionHead"><span class="titlemark">6.7   </span> <a 
href="#QQ2-1-200" id="x1-2000006.7">Functions</a></h3>
<!--l. 5708--><p class="noindent" >So far you have learned how to use functions from program modules like NumPy.
You can imagine that there are many bits of code that you might write that you
will want to use again and again, say converting between degrees and radians and
back, or finding the great circle distance between two points on Earth, or
converting between UTM and latitude/longitude coordinates (as in UTM.py, my
new favorite package). The basic structure of a program with a Python function
is:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-231">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />
&#x00A0;<br />def&#x00A0;FUNCNAME(in_args):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;DOC&#x00A0;STRING
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;some&#x00A0;code&#x00A0;that&#x00A0;the&#x00A0;functions&#x00A0;does&#x00A0;something
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;out_args
&#x00A0;<br />
&#x00A0;<br />FUNCNAME(in_args)&#x00A0;#&#x00A0;this&#x00A0;calls&#x00A0;the&#x00A0;function
</div>
<!--l. 5722--><p class="nopar" >
<!--l. 5726--><p class="noindent" >
<!--l. 5726--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2010006.7" id="x1-2010006.7">Line by line analysis</a></h5>
<!--l. 5727--><p class="noindent" >
<!--l. 5727--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2020006.7" id="x1-2020006.7">def FUNCNAME(in_args):</a></h5>
<!--l. 5729--><p class="noindent" >The first line must have &#8217;def&#8217; as the first three letters, must have a function name
with parentheses and a terminal colon. If you want to pass some variables to the
function, they go where in_arg sits, separated by commas. There are no output
variables here.
<!--l. 5731--><p class="indent" >   There are four different ways to handle argument passing.
<!--l. 5733--><p class="indent" >   1) You could have a function that doesn&#8217;t need any arguments at
all:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-232">
&#x00A0;#!/usr/bin/env&#x00A0;python
&#x00A0;<br />def&#x00A0;gimmepi():
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;returns&#x00A0;pi
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;3.141592653589793
&#x00A0;<br />print&#x00A0;gimmepi()
</div>
<!--l. 5743--><p class="nopar" >
<!--l. 5745--><p class="noindent" >2) You could use a set list of what are called &#8216;formal&#8217; variables that must be
passed:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-233">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />def&#x00A0;deg2rad(degrees):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;converts&#x00A0;degrees&#x00A0;to&#x00A0;radians
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;degrees*3.141592653589793/180.
&#x00A0;<br />print&#x00A0;&#8217;42&#x00A0;degrees&#x00A0;in&#x00A0;radians&#x00A0;is:&#x00A0;&#8217;,deg2rad(42.)
</div>
<!--l. 5756--><p class="nopar" >
<!--l. 5758--><p class="noindent" >3) You could have a more flexible need for variables. You signal this by
putting *args in the in_args list (along with any formal variables you
want):
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-234">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />def&#x00A0;print_args(*args):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prints&#x00A0;argument&#x00A0;list
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;You&#x00A0;sent&#x00A0;me&#x00A0;these&#x00A0;arguments:&#x00A0;&#8217;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;arg&#x00A0;in&#x00A0;args:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;arg
&#x00A0;<br />print_args(1,4,&#8217;hi&#x00A0;there&#8217;)
&#x00A0;<br />print_args(42)
</div>
<!--l. 5771--><p class="nopar" >
<!--l. 5773--><p class="noindent" >4) You can use a keyworded, variable-length list by putting **kwargs in for
in_args:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-235">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />def&#x00A0;print_kwargs(**kwargs):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prints&#x00A0;keyworded&#x00A0;argument&#x00A0;list
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;key&#x00A0;in&#x00A0;kwargs:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;%s&#x00A0;&#x00A0;%s&#8217;&#x00A0;%(key,&#x00A0;kwargs[key])
&#x00A0;<br />
&#x00A0;<br />print_kwargs(arg1=&#8217;one&#8217;,arg2=42,arg3=&#8217;ocelot&#8217;)
</div>
<!--l. 5785--><p class="nopar" >
<!--l. 5787--><p class="noindent" >
<!--l. 5787--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2030006.7" id="x1-2030006.7">Doc String</a></h5>
<!--l. 5788--><p class="noindent" >Although you can certainly write functional code without a document string,
make a habit of always including one. Trust me - you&#8217;ll be glad you did. This can
later be used to remind you of what you thought you were doing years later. It
can be used to print out a help message by the calling program and it also let&#8217;s
others know what you intended. Notice the use of the triple quotes before and
after the documentation string - that means that you can write as many lines as
you want.
<!--l. 5790--><p class="noindent" >
<!--l. 5790--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2040006.7" id="x1-2040006.7">Function body</a></h5>
<!--l. 5791--><p class="noindent" >This part of the code must be indented, just like in a for loop, or other block of
code.
<!--l. 5793--><p class="noindent" >
<!--l. 5793--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2050006.7" id="x1-2050006.7">Return statement</a></h5>
<!--l. 5794--><p class="noindent" >You don&#8217;t need this unless you want to pass back information to the calling
body (see, for example print_kwargs() above). Python separates the
entrance and the exit. See how it can be done in the gimme_pi() example
above.
                                                                     

                                                                     
<!--l. 5796--><p class="noindent" >
<!--l. 5796--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2060006.7" id="x1-2060006.7">Main program as function</a></h5>
<!--l. 5798--><p class="noindent" >It is considered good Python style to treat your main program block as a
function too. (This helps with using the document string as a help function and
building program documentation in general.) In any case, I recommend that you
just start doing it that way too. In this case, we have to call the main program
with the final (not indented) line main():
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-236">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />def&#x00A0;print_kwargs(**kwargs):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prints&#x00A0;keyworded&#x00A0;argument&#x00A0;list
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;key&#x00A0;in&#x00A0;kwargs:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;%s&#x00A0;&#x00A0;%s&#8217;&#x00A0;%(key,&#x00A0;kwargs[key])
&#x00A0;<br />
&#x00A0;<br />def&#x00A0;main():
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;calls&#x00A0;function&#x00A0;print_kwargs
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print_kwargs(arg1=&#8217;one&#8217;,arg2=42,arg3=&#8217;ocelot&#8217;)
&#x00A0;<br />main()&#x00A0;&#x00A0;#&#x00A0;runs&#x00A0;the&#x00A0;main&#x00A0;program
</div>
<!--l. 5815--><p class="nopar" >
<!--l. 5817--><p class="indent" >   Notice how in the above examples, all the functions preceded the
main function. This is because Python is an interpreter and not compiled
- so it won&#8217;t know about anything declared below as it goes through
the script line by line. On the other hand, we&#8217;ve been running lots of
functions and they were not in the program we used to call them. The
trick here is that you can put a bunch of functions in a separate file (in
your path) and import it, just like we did with NumPy. Your functions
can then be called from within your program in the same way as for
NumPy.
<!--l. 5820--><p class="indent" >   So let&#8217;s say I put all the above functions in a file called myfuncs.py:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-237">
def&#x00A0;gimmepi():
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;returns&#x00A0;pi
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;3.141592653589793
&#x00A0;<br />def&#x00A0;deg2rad(degrees):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;converts&#x00A0;degrees&#x00A0;to&#x00A0;radians
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;degrees*3.141592653589793/180.
&#x00A0;<br />def&#x00A0;print_args(*args):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prints&#x00A0;argument&#x00A0;list
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;&#8217;You&#x00A0;sent&#x00A0;me&#x00A0;these&#x00A0;arguments:&#x00A0;&#8217;
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;for&#x00A0;arg&#x00A0;in&#x00A0;args:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;arg
</div>
<!--l. 5840--><p class="nopar" >
<!--l. 5842--><p class="noindent" >I could then just import the module myfuncs from within another program, or
just interactively. I can use the functions, or just call for help:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-238">
%&#x00A0;python
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;myfuncs
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;print&#x00A0;myfuncs.gimmepi()
&#x00A0;<br />3.14159265359
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;print&#x00A0;myfuncs.print_args.__doc__
&#x00A0;<br />
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;prints&#x00A0;argument&#x00A0;list
&#x00A0;<br />
&#x00A0;<br />&#x003E;&#x003E;&#x003E;
</div>
<!--l. 5854--><p class="nopar" >
<!--l. 5856--><p class="noindent" >
<!--l. 5856--><p class="indent" >   <a name='subsubsec6-7-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2070006.7" id="x1-2070006.7">Scope of variables</a></h5>
<!--l. 5858--><p class="noindent" >Inside a function, variable names have their own meaning which in many cases
will be different from inside the calling function. So, variables names declared
inside a function stay in the function. This is true unless you declare them to be
&#8220;global&#8221;. Here is an example in which the main program &#8220;knows&#8221; about the
functions variable V:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-239">
def&#x00A0;myfunc():
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;global&#x00A0;V
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;V=123
&#x00A0;<br />def&#x00A0;main():
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;myfunc()
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;print&#x00A0;V
&#x00A0;<br />main()
</div>
<!--l. 5869--><p class="nopar" >
<!--l. 5877--><p class="indent" >   In addition to being able to write your own functions, of course Python has
LOTS of modules and a gazzillion functions. The enthought distribution that you
are using Includes plotting, numerical recipes, trig functions, image manipulation,
animation, and many more.
<!--l. 5883--><p class="noindent" >
<!--l. 5883--><p class="indent" >   <a name='sec6-8'></a><h3 class="sectionHead"><span class="titlemark">6.8   </span> <a 
href="#QQ2-1-208" id="x1-2080006.8">Classes</a></h3>
<!--l. 5885--><p class="noindent" >Before we go any further, we need to learn some basic concepts about classes.
These are the basis of &#8220;object oriented programming&#8221; OOP (that again!). Class
objects lie behind plotting, for example and a rudimentary understanding of
what they are and how they work will come in handy when we start doing
anything but the simplest plotting exercises.
<!--l. 5888--><p class="indent" >   A class object is created by a call to a &#8220;class definition&#8221; which which can be
thought of as a blueprint for the class object. Here is an simple example of a class
definition:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-240">
class&#x00A0;Circle:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;This&#x00A0;is&#x00A0;simple&#x00A0;example&#x00A0;of&#x00A0;a&#x00A0;class
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;"""
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;pi=3.141592653589793
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;def&#x00A0;__init__(self,r):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;self.r=r
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;def&#x00A0;area(self):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;0.5*self.pi*self.r**2
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;def&#x00A0;circumference(self):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;2.*pi*self.r
&#x00A0;<br />
</div>
<!--l. 5903--><p class="nopar" >
<!--l. 5905--><p class="noindent" >Saving this class in a file called Shapes.py we can use it in a Python session in a
manner similar to function modules:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-241">
&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;Shapes&#x00A0;#&#x00A0;import&#x00A0;the&#x00A0;class
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;r=4.0
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C=Shapes.Circle(r)&#x00A0;#&#x00A0;create&#x00A0;a&#x00A0;class&#x00A0;instance&#x00A0;with&#x00A0;r=4.
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C.pi&#x00A0;&#x00A0;#&#x00A0;retrieve&#x00A0;an&#x00A0;attribute
&#x00A0;<br />3.141592653589793
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C.area()&#x00A0;#&#x00A0;retrieve&#x00A0;a&#x00A0;method
&#x00A0;<br />25.132741228718345
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C.r=2.0&#x00A0;#&#x00A0;change&#x00A0;the&#x00A0;value&#x00A0;of&#x00A0;r
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;C.area()&#x00A0;#&#x00A0;get&#x00A0;a&#x00A0;new&#x00A0;area
&#x00A0;<br />6.283185307179586
</div>
<!--l. 5918--><p class="nopar" >
<!--l. 5920--><p class="noindent" >In spite of superficial similarities, classes are not the same as functions. Although
the Shape module is imported just the same as any other, to use it, we first have
to create a class &#8220;instance&#8221; (C=Shapes.Circle(r)). C is an object with
&#8220;attributes&#8221; (variables) and &#8220;methods&#8221;. All methods (parts that start with
&#8220;def&#8221;), have an argument list. The first argument has to be a reference to the
class instance itself, or &#8220;self&#8221;, followed by any variables you want to pass into the
method. So the __init__ method initializes the instance attributes of an object.
In the above case, it defined the attribute r, which gets passed in when the class
is first called. Asking for any attribute (note the lack of parentheses), retrieves
the current value of that attribute. Attributes can be changed (as in
C.r=2.0).
<!--l. 5924--><p class="indent" >   The other methods (area and circumference) are defined like any function
except note the use of &#8217;self&#8217; as the first argument. This is required in all class
method definitions. In our case, no other parameters are passed in because the
only one used is r, so the argument list consists of only self. Calling these
methods returns the current values of these methods.
<!--l. 5926--><p class="indent" >   You can make a subclass (child) of the parent class which has all the
attributes and methods of the parent, but may have a few attributes and
methods of its own. You do this by setting up another class definition within a
class.
<!--l. 5928--><p class="indent" >   So, the bottom line about classes is that they are in the same category of
things as variables, lists, dictionaries, etc. That is, they are &#8216;data structures&#8217; -
they hold data, and the methods to process that data. If you are curious about
classes, there&#8217;s lots more to know about classes that we don&#8217;t have time to get
into, but you can find useful tutorials online:
                                                                     

                                                                     
<!--l. 5931--><p class="indent" >   (e.g., <a 
href="http://www.sthurlow.com/python/lesson08/" class="url" ><span 
class="cmtt-10x-x-109">http://www.sthurlow.com/python/lesson08/</span></a>)
<!--l. 5935--><p class="indent" >   <a name='matplotlib'></a>
<!--l. 5936--><p class="indent" >   <a name='sec6-9'></a><h3 class="sectionHead"><span class="titlemark">6.9   </span> <a 
href="#QQ2-1-209" id="x1-2090006.9">Matplotlib</a></h3>
<!--l. 5938--><p class="noindent" >So far you have learned the basics of Python, and NumPy. But Python was sold
as a way of visualizing data and we haven&#8217;t yet seen a single plot (except a
stupid one in the beginning). There are many plotting options within the
Python umbrella. The most mature and the one I am most familiar with is
matplotlib, a popular graphics module of Python. Actually matplotlib is a
collection of a bunch of other modules, toolkits, methods and classes.
For a fairly complete and readable tour of matplotlib, check out these
links:
<!--l. 5941--><p class="indent" >   <a 
href="http://matplotlib.sourceforge.net/Matplotlib.pdf" class="url" ><span 
class="cmtt-10x-x-109">http://matplotlib.sourceforge.net/Matplotlib.pdf</span></a>
<!--l. 5943--><p class="noindent" >and here:
<!--l. 5946--><p class="indent" >   <a 
href="http://matplotlib.sourceforge.net/" class="url" ><span 
class="cmtt-10x-x-109">http://matplotlib.sourceforge.net/</span></a>
<!--l. 5951--><p class="noindent" >
<!--l. 5951--><p class="indent" >   <a name='subsubsec6-9-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2100006.9" id="x1-2100006.9">A first plot</a></h5>
<!--l. 5953--><p class="noindent" >Let&#8217;s start by reviewing the simple plot script (matplotlib1.py):
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-242">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;matplotlib
&#x00A0;<br />matplotlib.use("TkAgg")&#x00A0;#&#x00A0;my&#x00A0;favorite&#x00A0;backend
&#x00A0;<br />import&#x00A0;pylab&#x00A0;#&#x00A0;module&#x00A0;with&#x00A0;matplotlib
&#x00A0;<br />pylab.plot([1,2,3])&#x00A0;&#x00A0;#&#x00A0;plot&#x00A0;some&#x00A0;numbers
&#x00A0;<br />pylab.ylabel(&#8217;Y&#8217;)&#x00A0;#&#x00A0;label&#x00A0;the&#x00A0;y-axis
&#x00A0;<br />pylab.show()&#x00A0;#&#x00A0;reveal&#x00A0;the&#x00A0;plot
</div>
<!--l. 5964--><p class="nopar" >
<!--l. 5968--><p class="indent" >   The first step should be obvious by now, it imports matplotlib. Figures are
rendered on &#8220;backends&#8221; so they appear on screen. There are a lot of different
back-ends with slightly different looks. Some work better on different operating
systems. I use the very old school backend called &#8220;TkAgg&#8221; backend because it
&#8220;works&#8221;. So step 2 sets the backend: matplotlib.use(&#8220;TkAgg&#8221;). The module
matplotlib itself contains a lot of other modules. One of these, pylab is the
&#8220;business end&#8221; that has a lot of plotting methods and classes. It must be
loaded alongside matplotlib, so step 3 is: import pylab. After that the fun
starts.
<!--l. 5972--><p class="indent" >   In the above example, we call the plot method with a list as an argument.
As I mentioned, matplotlib uses the concept of &#8220;classes&#8221; to make plots
and this has just happened behind the scenes. We could have named
the plot instance with a the figure() method (e.g., fig=pylab.figure())
and then referred to it later with the command fig.plot([1,2,3]), but we
don&#8217;t have to in this simple case - the class instance is implied and is the
&#8220;current plot&#8221;. You can tell this, if you do the above example in interactive
mode:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-243">
&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;matplotlib
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;matplotlib.use("TkAgg")
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;import&#x00A0;pylab
&#x00A0;<br />&#x003E;&#x003E;&#x003E;&#x00A0;pylab.plot([1,2,3])
&#x00A0;<br />[&#x003C;matplotlib.lines.Line2D&#x00A0;object&#x00A0;at&#x00A0;0x4bd6eb0&#x003E;]
</div>
<!--l. 5980--><p class="nopar" > The bit about [<span 
class="cmmi-10x-x-109">&#x003C;</span>matplotlib.lines.Line2D object at 0x4bd6eb0<span 
class="cmmi-10x-x-109">&#x003E;</span>] is Python&#8217;s way
of telling you that you just created an object and something about it. In any
case, when you give plot() a single sequence of values (as above), it assumes they
are <span 
class="cmmi-10x-x-109">y </span>values and supplies the <span 
class="cmmi-10x-x-109">x </span>values for you.
<!--l. 5984--><p class="indent" >   Attributes of the pylab class, such as the Y axis label can be changes with the
ylabel method. As you can imagine, there are LOTS of methods, including,
surprise, an xlabel method.
<!--l. 5986--><p class="indent" >   When we are done customizing the plot instance, we can view it with the
show method. When that gets executed, we will get a plot something like
this:
                                                                     

                                                                     
<!--l. 5988--><p class="indent" >   <img 
src="PmagPy85x.png" alt="PIC" class="graphics" width="426.79134pt" height="364.15071pt" ><!--tex4ht:graphics  
name="PmagPy85x.png" src="EPSfiles/matplotlib1.eps"  
-->
<!--l. 5990--><p class="noindent" >Once that happens, we won&#8217;t be able to change the plot any more and in fact,
we won&#8217;t get our terminal back until the little plot window is closed.
You can save your plot with the little disk icon in a variety of formats.
Adobe Illustrator likes .svg, or .eps while Microsoft products like .png file
formats.
<!--l. 5992--><p class="indent" >   If you find it annoying to always have to close figures with the little red
button, or save them with the disk icon, you can tweak the program like
this:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-244">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;matplotlib
&#x00A0;<br />matplotlib.use("TkAgg")
&#x00A0;<br />import&#x00A0;pylab
&#x00A0;<br />pylab.ion()&#x00A0;&#x00A0;#&#x00A0;turn&#x00A0;on&#x00A0;interactivity
&#x00A0;<br />pylab.plot([1,2,3])
&#x00A0;<br />pylab.ylabel(&#8217;Y&#8217;)
&#x00A0;<br />pylab.draw()&#x00A0;#&#x00A0;draw&#x00A0;&#x00A0;the&#x00A0;current&#x00A0;plot
&#x00A0;<br />ans=raw_input(&#8217;press&#x00A0;[s]&#x00A0;to&#x00A0;save&#x00A0;figure,&#x00A0;any&#x00A0;other&#x00A0;key&#x00A0;to&#x00A0;quit:&#x00A0;&#8217;)
&#x00A0;<br />if&#x00A0;ans==&#8217;s&#8217;:
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;pylab.savefig(&#8217;myfig.eps&#8217;)
</div>
<!--l. 6006--><p class="nopar" >
<!--l. 6008--><p class="noindent" >The method pylab.savefig(FILENAME.FMT). The .FMT can be one of several,
e.g., .eps, .svg, .ps, .pdf, .png, .gif, .jpg, etc.). Some of these (the vector graphics
ones like pdf, ps, eps and svg) can be opened in Adobe Illustrator for
modification.
<!--l. 6011--><p class="indent" >   As mentioned earlier, if you give plot() a single sequence of values, it assumes
they are <span 
class="cmmi-10x-x-109">y </span>values and supplies the <span 
class="cmmi-10x-x-109">x </span>values for you. Garbage in, garbage
out. But plot() takes an arbitrary number of arguments of the form:
(<span 
class="cmmi-10x-x-109">X</span><sub><span 
class="cmr-8">1</span></sub><span 
class="cmmi-10x-x-109">,Y</span> <sub><span 
class="cmr-8">1</span></sub>, line_style_1, <span 
class="cmmi-10x-x-109">X</span><sub><span 
class="cmr-8">2</span></sub><span 
class="cmmi-10x-x-109">,Y</span> <sub><span 
class="cmr-8">2</span></sub>, line_style_2, etc.), where &#8217;line_style&#8217; is
a string that specifies the line style as illustrated in this script called
matplotlib2.py
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-245">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;matplotlib
&#x00A0;<br />matplotlib.use("TkAgg")
&#x00A0;<br />import&#x00A0;pylab,numpy
&#x00A0;<br />x=numpy.arange(0,360,10)
&#x00A0;<br />r=x*numpy.pi/180.
&#x00A0;<br />c=numpy.cos(r)
&#x00A0;<br />s=numpy.sin(r)
&#x00A0;<br />pylab.plot(x,c,&#8217;r--&#8217;,x,s,&#8217;g^&#8217;)
&#x00A0;<br />pylab.show()
</div>
<!--l. 6027--><p class="nopar" >
<!--l. 6029--><p class="noindent" >which produces the plot:
<!--l. 6031--><p class="indent" >   <img 
src="PmagPy86x.png" alt="PIC" class="graphics" width="426.79134pt" height="283.55307pt" ><!--tex4ht:graphics  
name="PmagPy86x.png" src="EPSfiles/matplotlib2.eps"  
-->
<!--l. 6033--><p class="noindent" >From the code, you can probably figure out that a line style of &#8217;r&#8211;&#8217; is a red
dashed line, and &#8217;g<span class="obeylines-h"><span class="verb"><span 
class="cmtt-10x-x-109">^</span></span></span>&#8217; are green triangles. There are many other attributes that
                                                                     

                                                                     
can be controlled: linewidth, dash style, etc. and I invite you to check out the
matplotlib documentation.
<!--l. 6036--><p class="noindent" >By now, you should understand enough about classes, keyword argument passing
and other pythonalia to be able to figure things out on your own. But don&#8217;t
panic, I&#8217;m going to lead you through a few more examples, which I hope will
speed you on your plotting way.
<!--l. 6040--><p class="noindent" >
<!--l. 6040--><p class="indent" >   <a name='subsubsec6-9-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2110006.9" id="x1-2110006.9">Multiple figures and more customization</a></h5>
<!--l. 6041--><p class="noindent" >As already mentioned, pylab has the concept of &#8220;current figure&#8221; which
subsequent commands refer to. In the preceding examples, we only had
one figure, so we didn&#8217;t have to name it, but for fancier figures with
several plots, we can create named figure objects by invoking a figure
instance:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-246">
fig&#x00A0;=&#x00A0;pylab.figure(num=1,figsize=(5,7)).
</div>
<!--l. 6046--><p class="nopar" >
<!--l. 6048--><p class="noindent" >Notice the syntax whereby figsize is a method with width and height (in inches)
specified by a tuple and num is the figure number. Notice that these are keyword
arguments, and that there are many more: consult the list of **kwargs in the
online documentation located here:
<!--l. 6050--><p class="indent" >   <a 
href="http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.figure " class="url" ><span 
class="cmtt-10x-x-109">http://matplotlib.sourceforge.net/api/pyplot_api.html#matplotlib.pyplot.figure</span></a>
<!--l. 6052--><p class="indent" >   Once we have a figure instance (sometimes called a &#8220;container&#8221;), we can do
all kinds of things, including adding subplots. To do this, we can use the
syntax:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-247">
&#x00A0;fig.add_subplot(211)
&#x00A0;<br />&#x00A0;
</div>
<!--l. 6056--><p class="nopar" > Here the argument 211 means 2 rows, one column and this is the first plot. To
make plots side by side, you would use: fig.add_subplot(121)  for 1 row, two
columns, etc.
<!--l. 6060--><p class="indent" >   After each add_subplot command, that subplot becomes the current figure for
plotting on. If you want more freedom, say, you want to make a subplot
at an arbitrary place, use the add_axes([left, bottom,width, height]) 0
method, e.g., add_axes([0.1,0.1,0.7,0.3]). The values are 0-1 in relative figure
coordinates.
<!--l. 6063--><p class="indent" >   To illustrate these new concepts, consider the example code, matplotlib3.py:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-248">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;matplotlib
&#x00A0;<br />matplotlib.use("TkAgg")
&#x00A0;<br />import&#x00A0;pylab,&#x00A0;numpy
&#x00A0;<br />def&#x00A0;f(t):
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;numpy.exp(-t)*numpy.cos(2.*numpy.pi*t)
&#x00A0;<br />t1=&#x00A0;numpy.arange(0.,5.,0.1)
&#x00A0;<br />t2=&#x00A0;numpy.arange(0.,5.,0.02)
&#x00A0;<br />fig=pylab.figure(num=1,figsize=(7,5))
&#x00A0;<br />fig.add_subplot(211)
&#x00A0;<br />pylab.plot(t1,f(t1),&#8217;bo&#8217;)
&#x00A0;<br />pylab.plot(t1,f(t1),&#8217;k-&#8217;)
&#x00A0;<br />fig.add_subplot(212)
&#x00A0;<br />pylab.plot(t2,numpy.cos(2*numpy.pi*t2),&#8217;r--&#8217;)
&#x00A0;<br />pylab.xlabel(&#8217;Time&#x00A0;(ms)&#8217;)
&#x00A0;<br />fig.add_axes([.6,.75,.25,.10])
&#x00A0;<br />pylab.plot([0,1],[0,1],&#8217;r-&#8217;,[0,1],[1,0],&#8217;r-&#8217;)
&#x00A0;<br />pylab.ylabel(&#8217;Inset&#8217;)
&#x00A0;<br />pylab.show()
</div>
<!--l. 6085--><p class="nopar" >
<!--l. 6087--><p class="noindent" >which produces:
                                                                     

                                                                     
<!--l. 6089--><p class="indent" >   <img 
src="PmagPy87x.png" alt="PIC" class="graphics" width="426.79134pt" height="307.91235pt" ><!--tex4ht:graphics  
name="PmagPy87x.png" src="EPSfiles/matplotlib3.eps"  
-->
<!--l. 6091--><p class="noindent" >By now, you should be able to figure out what everything in that script does by
yourself!
<!--l. 6093--><p class="noindent" >
<!--l. 6093--><p class="indent" >   <a name='subsubsec6-9-0-0'></a><h5 class="subsubsectionHead"><a 
href="#x1-2120006.9" id="x1-2120006.9">Adding text</a></h5>
<!--l. 6095--><p class="noindent" >We already met xlabel and ylabel. But text can be added in a other ways, e.g.,
using the title, text, legend and arrow methods. Let&#8217;s decorate one of our early
examples to show how some of these things work:
                                                                     

                                                                     
   <div class="verbatim" id="verbatim-249">
#!/usr/bin/env&#x00A0;python
&#x00A0;<br />import&#x00A0;matplotlib
&#x00A0;<br />matplotlib.use("TkAgg")
&#x00A0;<br />import&#x00A0;pylab,numpy
&#x00A0;<br />x=numpy.arange(0,360,10)
&#x00A0;<br />r=x*numpy.pi/180.
&#x00A0;<br />c=numpy.cos(r)
&#x00A0;<br />s=numpy.sin(r)
&#x00A0;<br />s2=numpy.sin(r)**2
&#x00A0;<br />pylab.plot(x,c,&#8217;r--&#8217;,x,s,&#8217;g^&#8217;,x,s2,&#8217;k-&#8217;)
&#x00A0;<br />pylab.title(&#8217;Fun&#x00A0;with&#x00A0;trig&#8217;)
&#x00A0;<br />pylab.text(250,-.5,&#8217;pithy&#x00A0;note&#8217;)
&#x00A0;<br />pylab.legend([&#8217;cos(x)&#8217;,\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#8217;sin(x)&#8217;,r&#8217;$\sin(x^2$)&#8217;],&#8217;lower&#x00A0;left&#8217;)
&#x00A0;<br />pylab.xlabel(r&#8217;$\theta&#8217;)
&#x00A0;<br />pylab.annotate(&#8217;triangles!&#8217;,\
&#x00A0;<br />&#x00A0;&#x00A0;xy=(175,0),xytext=(110,-.25),\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;arrowprops=dict(facecolor=&#8217;black&#8217;,\
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;shrink=0.05))
&#x00A0;<br />pylab.show()
</div>
<!--l. 6119--><p class="nopar" >
<!--l. 6121--><p class="noindent" >which produces this plot:
                                                                     

                                                                     
<!--l. 6123--><p class="indent" >   <img 
src="PmagPy88x.png" alt="PIC" class="graphics" width="426.79134pt" height="322.454pt" ><!--tex4ht:graphics  
name="PmagPy88x.png" src="EPSfiles/matplotlib4.eps"  
-->
<!--l. 6125--><p class="indent" >   The title appears at the top of the plot. Text labels get places at the <span 
class="cmmi-10x-x-109">x </span>and <span 
class="cmmi-10x-x-109">y</span>
coordinates on the plot and the legend will appear in the upper/lower right/left
corner as specified in the string. The pylab.text(x,y,string, kwargs) method also
has optional key word arguments, specifying font, size, color and the like. The
legend &#8217;labelist&#8217; is a list of labels for each plot element. So, every line or point
style that you want in your legend, append a label to the label list after the
relevant plot command. Also note that the legend and xlabel methods use a
special format for strings (r&#8217;LateX String&#8217;) which allows embedded LaTeX
equation syntax to make scientific equations look right - so now you have to learn
LaTeX!. Finally, the arrow gets drawn with the annotate method, which has a
lot of other attributes as well. Check the matplotlib documentation for
details.
<!--l. 6133--><p class="indent" >   There are lots of graphing styles possible with matplotlib, e.g., histograms,
pie charts, contour plots, whisker plots, etc. I&#8217;m just going to show you a few
examples. The best thing to do is to look through the online documentation for a
                                                                     

                                                                     
plot that looks like what you need, then modify it. This is ALWAYS a good
approach - start with something that works and fiddle with it until it suits your
own particular needs.
<!--l. 6137--><p class="indent" >   Although there is much much more to do in Python, this documentation
is aimed at getting and using <span 
class="cmbx-10x-x-109">PmagPy</span>, so that&#8217;s it for this chapter.
Congratulations if you made it to the end!
    
</body></html> 

                                                                     


